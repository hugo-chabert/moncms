this.kubio=this.kubio||{},this.kubio.editor=function(e){var t={};function n(o){if(t[o])return t[o].exports;var a=t[o]={i:o,l:!1,exports:{}};return e[o].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(o,a,function(t){return e[t]}.bind(null,a));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=529)}({0:function(e,t){!function(){e.exports=this.wp.element}()},1:function(e,t){!function(){e.exports=this.wp.i18n}()},10:function(e,t){!function(){e.exports=this.wp.compose}()},101:function(e,t,n){"use strict";var o=n(0);t.a=function(e){let{icon:t,size:n=24,...a}=e;return Object(o.cloneElement)(t,{width:n,height:n,...a})}},11:function(e,t){!function(){e.exports=this.React}()},115:function(e,t,n){"use strict";function o(e,t){return o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},o(e,t)}n.d(t,"a",(function(){return o}))},117:function(e,t){!function(){e.exports=this.wp.mediaUtils}()},12:function(e,t){!function(){e.exports=this.wp.blocks}()},13:function(e,t){!function(){e.exports=this.wp.blockEditor}()},132:function(e,t){function n(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?(e.exports=n=function(e){return typeof e},e.exports.default=e.exports,e.exports.__esModule=!0):(e.exports=n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.default=e.exports,e.exports.__esModule=!0),n(t)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},14:function(e,t,n){var o;!function(){"use strict";var n={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var o=arguments[t];if(o){var r=typeof o;if("string"===r||"number"===r)e.push(o);else if(Array.isArray(o)){if(o.length){var i=a.apply(null,o);i&&e.push(i)}}else if("object"===r)if(o.toString===Object.prototype.toString)for(var l in o)n.call(o,l)&&o[l]&&e.push(l);else e.push(o.toString())}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):void 0===(o=function(){return a}.apply(t,[]))||(e.exports=o)}()},141:function(e,t,n){"use strict";var o=n(142);function a(){}function r(){}r.resetWarningCache=a,e.exports=function(){function e(e,t,n,a,r,i){if(i!==o){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:r,resetWarningCache:a};return n.PropTypes=n,n}},142:function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},15:function(e,t){!function(){e.exports=this.kubio.icons}()},151:function(e,t,n){e.exports=n(239)},16:function(e,t,n){e.exports=n(141)()},188:function(e,t,n){"use strict";var o=n(0),a=n(6);const r=Object(o.createElement)(a.SVG,{width:"18",height:"18",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18 18"},Object(o.createElement)(a.Path,{d:"M5 4h2V2H5v2zm6-2v2h2V2h-2zm-6 8h2V8H5v2zm6 0h2V8h-2v2zm-6 6h2v-2H5v2zm6 0h2v-2h-2v2z"}));t.a=r},19:function(e,t){!function(){e.exports=this.kubio.utils}()},2:function(e,t){!function(){e.exports=this.lodash}()},20:function(e,t){!function(){e.exports=this.kubio.inspectors}()},203:function(e,t){!function(){e.exports=this.kubio.blockPatterns}()},204:function(e,t){!function(){e.exports=this.kubio.wpGlobalStyles}()},205:function(e,t){!function(){e.exports=this.wp.plugins}()},206:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"STORE_KEY",{enumerable:!0,get:function(){return o.STORE_KEY}}),t.STORE_NAME=void 0;var o=n(21);const a=o.STORE_KEY;t.STORE_NAME=a},207:function(e,t){!function(){e.exports=this.wp.dataControls}()},21:function(e,t){!function(){e.exports=this.kubio.constants}()},214:function(e,t){!function(){e.exports=this.wp.blockLibrary}()},221:function(e,t,n){"use strict";var o=n(0),a=n(6);const r=Object(o.createElement)(a.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(o.createElement)(a.Path,{d:"M16.7 7.1l-6.3 8.5-3.3-2.5-.9 1.2 4.5 3.4L17.9 8z"}));t.a=r},239:function(e,t,n){var o;!function(n){"use strict";var a={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"Ae","Å":"A","Æ":"AE","Ç":"C","È":"E","É":"E","Ê":"E","Ë":"E","Ì":"I","Í":"I","Î":"I","Ï":"I","Ð":"D","Ñ":"N","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"Oe","Ő":"O","Ø":"O","Ù":"U","Ú":"U","Û":"U","Ü":"Ue","Ű":"U","Ý":"Y","Þ":"TH","ß":"ss","à":"a","á":"a","â":"a","ã":"a","ä":"ae","å":"a","æ":"ae","ç":"c","è":"e","é":"e","ê":"e","ë":"e","ì":"i","í":"i","î":"i","ï":"i","ð":"d","ñ":"n","ò":"o","ó":"o","ô":"o","õ":"o","ö":"oe","ő":"o","ø":"o","ù":"u","ú":"u","û":"u","ü":"ue","ű":"u","ý":"y","þ":"th","ÿ":"y","ẞ":"SS","ا":"a","أ":"a","إ":"i","آ":"aa","ؤ":"u","ئ":"e","ء":"a","ب":"b","ت":"t","ث":"th","ج":"j","ح":"h","خ":"kh","د":"d","ذ":"th","ر":"r","ز":"z","س":"s","ش":"sh","ص":"s","ض":"dh","ط":"t","ظ":"z","ع":"a","غ":"gh","ف":"f","ق":"q","ك":"k","ل":"l","م":"m","ن":"n","ه":"h","و":"w","ي":"y","ى":"a","ة":"h","ﻻ":"la","ﻷ":"laa","ﻹ":"lai","ﻵ":"laa","گ":"g","چ":"ch","پ":"p","ژ":"zh","ک":"k","ی":"y","َ":"a","ً":"an","ِ":"e","ٍ":"en","ُ":"u","ٌ":"on","ْ":"","٠":"0","١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9","۰":"0","۱":"1","۲":"2","۳":"3","۴":"4","۵":"5","۶":"6","۷":"7","۸":"8","۹":"9","က":"k","ခ":"kh","ဂ":"g","ဃ":"ga","င":"ng","စ":"s","ဆ":"sa","ဇ":"z","စျ":"za","ည":"ny","ဋ":"t","ဌ":"ta","ဍ":"d","ဎ":"da","ဏ":"na","တ":"t","ထ":"ta","ဒ":"d","ဓ":"da","န":"n","ပ":"p","ဖ":"pa","ဗ":"b","ဘ":"ba","မ":"m","ယ":"y","ရ":"ya","လ":"l","ဝ":"w","သ":"th","ဟ":"h","ဠ":"la","အ":"a","ြ":"y","ျ":"ya","ွ":"w","ြွ":"yw","ျွ":"ywa","ှ":"h","ဧ":"e","၏":"-e","ဣ":"i","ဤ":"-i","ဉ":"u","ဦ":"-u","ဩ":"aw","သြော":"aw","ဪ":"aw","၀":"0","၁":"1","၂":"2","၃":"3","၄":"4","၅":"5","၆":"6","၇":"7","၈":"8","၉":"9","္":"","့":"","း":"","č":"c","ď":"d","ě":"e","ň":"n","ř":"r","š":"s","ť":"t","ů":"u","ž":"z","Č":"C","Ď":"D","Ě":"E","Ň":"N","Ř":"R","Š":"S","Ť":"T","Ů":"U","Ž":"Z","ހ":"h","ށ":"sh","ނ":"n","ރ":"r","ބ":"b","ޅ":"lh","ކ":"k","އ":"a","ވ":"v","މ":"m","ފ":"f","ދ":"dh","ތ":"th","ލ":"l","ގ":"g","ޏ":"gn","ސ":"s","ޑ":"d","ޒ":"z","ޓ":"t","ޔ":"y","ޕ":"p","ޖ":"j","ޗ":"ch","ޘ":"tt","ޙ":"hh","ޚ":"kh","ޛ":"th","ޜ":"z","ޝ":"sh","ޞ":"s","ޟ":"d","ޠ":"t","ޡ":"z","ޢ":"a","ޣ":"gh","ޤ":"q","ޥ":"w","ަ":"a","ާ":"aa","ި":"i","ީ":"ee","ު":"u","ޫ":"oo","ެ":"e","ޭ":"ey","ޮ":"o","ޯ":"oa","ް":"","ა":"a","ბ":"b","გ":"g","დ":"d","ე":"e","ვ":"v","ზ":"z","თ":"t","ი":"i","კ":"k","ლ":"l","მ":"m","ნ":"n","ო":"o","პ":"p","ჟ":"zh","რ":"r","ს":"s","ტ":"t","უ":"u","ფ":"p","ქ":"k","ღ":"gh","ყ":"q","შ":"sh","ჩ":"ch","ც":"ts","ძ":"dz","წ":"ts","ჭ":"ch","ხ":"kh","ჯ":"j","ჰ":"h","α":"a","β":"v","γ":"g","δ":"d","ε":"e","ζ":"z","η":"i","θ":"th","ι":"i","κ":"k","λ":"l","μ":"m","ν":"n","ξ":"ks","ο":"o","π":"p","ρ":"r","σ":"s","τ":"t","υ":"y","φ":"f","χ":"x","ψ":"ps","ω":"o","ά":"a","έ":"e","ί":"i","ό":"o","ύ":"y","ή":"i","ώ":"o","ς":"s","ϊ":"i","ΰ":"y","ϋ":"y","ΐ":"i","Α":"A","Β":"B","Γ":"G","Δ":"D","Ε":"E","Ζ":"Z","Η":"I","Θ":"TH","Ι":"I","Κ":"K","Λ":"L","Μ":"M","Ν":"N","Ξ":"KS","Ο":"O","Π":"P","Ρ":"R","Σ":"S","Τ":"T","Υ":"Y","Φ":"F","Χ":"X","Ψ":"PS","Ω":"O","Ά":"A","Έ":"E","Ί":"I","Ό":"O","Ύ":"Y","Ή":"I","Ώ":"O","Ϊ":"I","Ϋ":"Y","ā":"a","ē":"e","ģ":"g","ī":"i","ķ":"k","ļ":"l","ņ":"n","ū":"u","Ā":"A","Ē":"E","Ģ":"G","Ī":"I","Ķ":"k","Ļ":"L","Ņ":"N","Ū":"U","Ќ":"Kj","ќ":"kj","Љ":"Lj","љ":"lj","Њ":"Nj","њ":"nj","Тс":"Ts","тс":"ts","ą":"a","ć":"c","ę":"e","ł":"l","ń":"n","ś":"s","ź":"z","ż":"z","Ą":"A","Ć":"C","Ę":"E","Ł":"L","Ń":"N","Ś":"S","Ź":"Z","Ż":"Z","Є":"Ye","І":"I","Ї":"Yi","Ґ":"G","є":"ye","і":"i","ї":"yi","ґ":"g","ă":"a","Ă":"A","ș":"s","Ș":"S","ț":"t","Ț":"T","ţ":"t","Ţ":"T","а":"a","б":"b","в":"v","г":"g","д":"d","е":"e","ё":"yo","ж":"zh","з":"z","и":"i","й":"i","к":"k","л":"l","м":"m","н":"n","о":"o","п":"p","р":"r","с":"s","т":"t","у":"u","ф":"f","х":"kh","ц":"c","ч":"ch","ш":"sh","щ":"sh","ъ":"","ы":"y","ь":"","э":"e","ю":"yu","я":"ya","А":"A","Б":"B","В":"V","Г":"G","Д":"D","Е":"E","Ё":"Yo","Ж":"Zh","З":"Z","И":"I","Й":"I","К":"K","Л":"L","М":"M","Н":"N","О":"O","П":"P","Р":"R","С":"S","Т":"T","У":"U","Ф":"F","Х":"Kh","Ц":"C","Ч":"Ch","Ш":"Sh","Щ":"Sh","Ъ":"","Ы":"Y","Ь":"","Э":"E","Ю":"Yu","Я":"Ya","ђ":"dj","ј":"j","ћ":"c","џ":"dz","Ђ":"Dj","Ј":"j","Ћ":"C","Џ":"Dz","ľ":"l","ĺ":"l","ŕ":"r","Ľ":"L","Ĺ":"L","Ŕ":"R","ş":"s","Ş":"S","ı":"i","İ":"I","ğ":"g","Ğ":"G","ả":"a","Ả":"A","ẳ":"a","Ẳ":"A","ẩ":"a","Ẩ":"A","đ":"d","Đ":"D","ẹ":"e","Ẹ":"E","ẽ":"e","Ẽ":"E","ẻ":"e","Ẻ":"E","ế":"e","Ế":"E","ề":"e","Ề":"E","ệ":"e","Ệ":"E","ễ":"e","Ễ":"E","ể":"e","Ể":"E","ỏ":"o","ọ":"o","Ọ":"o","ố":"o","Ố":"O","ồ":"o","Ồ":"O","ổ":"o","Ổ":"O","ộ":"o","Ộ":"O","ỗ":"o","Ỗ":"O","ơ":"o","Ơ":"O","ớ":"o","Ớ":"O","ờ":"o","Ờ":"O","ợ":"o","Ợ":"O","ỡ":"o","Ỡ":"O","Ở":"o","ở":"o","ị":"i","Ị":"I","ĩ":"i","Ĩ":"I","ỉ":"i","Ỉ":"i","ủ":"u","Ủ":"U","ụ":"u","Ụ":"U","ũ":"u","Ũ":"U","ư":"u","Ư":"U","ứ":"u","Ứ":"U","ừ":"u","Ừ":"U","ự":"u","Ự":"U","ữ":"u","Ữ":"U","ử":"u","Ử":"ư","ỷ":"y","Ỷ":"y","ỳ":"y","Ỳ":"Y","ỵ":"y","Ỵ":"Y","ỹ":"y","Ỹ":"Y","ạ":"a","Ạ":"A","ấ":"a","Ấ":"A","ầ":"a","Ầ":"A","ậ":"a","Ậ":"A","ẫ":"a","Ẫ":"A","ắ":"a","Ắ":"A","ằ":"a","Ằ":"A","ặ":"a","Ặ":"A","ẵ":"a","Ẵ":"A","⓪":"0","①":"1","②":"2","③":"3","④":"4","⑤":"5","⑥":"6","⑦":"7","⑧":"8","⑨":"9","⑩":"10","⑪":"11","⑫":"12","⑬":"13","⑭":"14","⑮":"15","⑯":"16","⑰":"17","⑱":"18","⑲":"18","⑳":"18","⓵":"1","⓶":"2","⓷":"3","⓸":"4","⓹":"5","⓺":"6","⓻":"7","⓼":"8","⓽":"9","⓾":"10","⓿":"0","⓫":"11","⓬":"12","⓭":"13","⓮":"14","⓯":"15","⓰":"16","⓱":"17","⓲":"18","⓳":"19","⓴":"20","Ⓐ":"A","Ⓑ":"B","Ⓒ":"C","Ⓓ":"D","Ⓔ":"E","Ⓕ":"F","Ⓖ":"G","Ⓗ":"H","Ⓘ":"I","Ⓙ":"J","Ⓚ":"K","Ⓛ":"L","Ⓜ":"M","Ⓝ":"N","Ⓞ":"O","Ⓟ":"P","Ⓠ":"Q","Ⓡ":"R","Ⓢ":"S","Ⓣ":"T","Ⓤ":"U","Ⓥ":"V","Ⓦ":"W","Ⓧ":"X","Ⓨ":"Y","Ⓩ":"Z","ⓐ":"a","ⓑ":"b","ⓒ":"c","ⓓ":"d","ⓔ":"e","ⓕ":"f","ⓖ":"g","ⓗ":"h","ⓘ":"i","ⓙ":"j","ⓚ":"k","ⓛ":"l","ⓜ":"m","ⓝ":"n","ⓞ":"o","ⓟ":"p","ⓠ":"q","ⓡ":"r","ⓢ":"s","ⓣ":"t","ⓤ":"u","ⓦ":"v","ⓥ":"w","ⓧ":"x","ⓨ":"y","ⓩ":"z","“":'"',"”":'"',"‘":"'","’":"'","∂":"d","ƒ":"f","™":"(TM)","©":"(C)","œ":"oe","Œ":"OE","®":"(R)","†":"+","℠":"(SM)","…":"...","˚":"o","º":"o","ª":"a","•":"*","၊":",","။":".",$:"USD","€":"EUR","₢":"BRN","₣":"FRF","£":"GBP","₤":"ITL","₦":"NGN","₧":"ESP","₩":"KRW","₪":"ILS","₫":"VND","₭":"LAK","₮":"MNT","₯":"GRD","₱":"ARS","₲":"PYG","₳":"ARA","₴":"UAH","₵":"GHS","¢":"cent","¥":"CNY","元":"CNY","円":"YEN","﷼":"IRR","₠":"EWE","฿":"THB","₨":"INR","₹":"INR","₰":"PF","₺":"TRY","؋":"AFN","₼":"AZN","лв":"BGN","៛":"KHR","₡":"CRC","₸":"KZT","ден":"MKD","zł":"PLN","₽":"RUB","₾":"GEL"},r=["်","ް"],i={"ာ":"a","ါ":"a","ေ":"e","ဲ":"e","ိ":"i","ီ":"i","ို":"o","ု":"u","ူ":"u","ေါင်":"aung","ော":"aw","ော်":"aw","ေါ":"aw","ေါ်":"aw","်":"်","က်":"et","ိုက်":"aik","ောက်":"auk","င်":"in","ိုင်":"aing","ောင်":"aung","စ်":"it","ည်":"i","တ်":"at","ိတ်":"eik","ုတ်":"ok","ွတ်":"ut","ေတ်":"it","ဒ်":"d","ိုဒ်":"ok","ုဒ်":"ait","န်":"an","ာန်":"an","ိန်":"ein","ုန်":"on","ွန်":"un","ပ်":"at","ိပ်":"eik","ုပ်":"ok","ွပ်":"ut","န်ုပ်":"nub","မ်":"an","ိမ်":"ein","ုမ်":"on","ွမ်":"un","ယ်":"e","ိုလ်":"ol","ဉ်":"in","ံ":"an","ိံ":"ein","ုံ":"on","ައް":"ah","ަށް":"ah"},l={en:{},az:{"ç":"c","ə":"e","ğ":"g","ı":"i","ö":"o","ş":"s","ü":"u","Ç":"C","Ə":"E","Ğ":"G","İ":"I","Ö":"O","Ş":"S","Ü":"U"},cs:{"č":"c","ď":"d","ě":"e","ň":"n","ř":"r","š":"s","ť":"t","ů":"u","ž":"z","Č":"C","Ď":"D","Ě":"E","Ň":"N","Ř":"R","Š":"S","Ť":"T","Ů":"U","Ž":"Z"},fi:{"ä":"a","Ä":"A","ö":"o","Ö":"O"},hu:{"ä":"a","Ä":"A","ö":"o","Ö":"O","ü":"u","Ü":"U","ű":"u","Ű":"U"},lt:{"ą":"a","č":"c","ę":"e","ė":"e","į":"i","š":"s","ų":"u","ū":"u","ž":"z","Ą":"A","Č":"C","Ę":"E","Ė":"E","Į":"I","Š":"S","Ų":"U","Ū":"U"},lv:{"ā":"a","č":"c","ē":"e","ģ":"g","ī":"i","ķ":"k","ļ":"l","ņ":"n","š":"s","ū":"u","ž":"z","Ā":"A","Č":"C","Ē":"E","Ģ":"G","Ī":"i","Ķ":"k","Ļ":"L","Ņ":"N","Š":"S","Ū":"u","Ž":"Z"},pl:{"ą":"a","ć":"c","ę":"e","ł":"l","ń":"n","ó":"o","ś":"s","ź":"z","ż":"z","Ą":"A","Ć":"C","Ę":"e","Ł":"L","Ń":"N","Ó":"O","Ś":"S","Ź":"Z","Ż":"Z"},sv:{"ä":"a","Ä":"A","ö":"o","Ö":"O"},sk:{"ä":"a","Ä":"A"},sr:{"љ":"lj","њ":"nj","Љ":"Lj","Њ":"Nj","đ":"dj","Đ":"Dj"},tr:{"Ü":"U","Ö":"O","ü":"u","ö":"o"}},c={ar:{"∆":"delta","∞":"la-nihaya","♥":"hob","&":"wa","|":"aw","<":"aqal-men",">":"akbar-men","∑":"majmou","¤":"omla"},az:{},ca:{"∆":"delta","∞":"infinit","♥":"amor","&":"i","|":"o","<":"menys que",">":"mes que","∑":"suma dels","¤":"moneda"},cs:{"∆":"delta","∞":"nekonecno","♥":"laska","&":"a","|":"nebo","<":"mensi nez",">":"vetsi nez","∑":"soucet","¤":"mena"},de:{"∆":"delta","∞":"unendlich","♥":"Liebe","&":"und","|":"oder","<":"kleiner als",">":"groesser als","∑":"Summe von","¤":"Waehrung"},dv:{"∆":"delta","∞":"kolunulaa","♥":"loabi","&":"aai","|":"noonee","<":"ah vure kuda",">":"ah vure bodu","∑":"jumula","¤":"faisaa"},en:{"∆":"delta","∞":"infinity","♥":"love","&":"and","|":"or","<":"less than",">":"greater than","∑":"sum","¤":"currency"},es:{"∆":"delta","∞":"infinito","♥":"amor","&":"y","|":"u","<":"menos que",">":"mas que","∑":"suma de los","¤":"moneda"},fa:{"∆":"delta","∞":"bi-nahayat","♥":"eshgh","&":"va","|":"ya","<":"kamtar-az",">":"bishtar-az","∑":"majmooe","¤":"vahed"},fi:{"∆":"delta","∞":"aarettomyys","♥":"rakkaus","&":"ja","|":"tai","<":"pienempi kuin",">":"suurempi kuin","∑":"summa","¤":"valuutta"},fr:{"∆":"delta","∞":"infiniment","♥":"Amour","&":"et","|":"ou","<":"moins que",">":"superieure a","∑":"somme des","¤":"monnaie"},ge:{"∆":"delta","∞":"usasruloba","♥":"siqvaruli","&":"da","|":"an","<":"naklebi",">":"meti","∑":"jami","¤":"valuta"},gr:{},hu:{"∆":"delta","∞":"vegtelen","♥":"szerelem","&":"es","|":"vagy","<":"kisebb mint",">":"nagyobb mint","∑":"szumma","¤":"penznem"},it:{"∆":"delta","∞":"infinito","♥":"amore","&":"e","|":"o","<":"minore di",">":"maggiore di","∑":"somma","¤":"moneta"},lt:{"∆":"delta","∞":"begalybe","♥":"meile","&":"ir","|":"ar","<":"maziau nei",">":"daugiau nei","∑":"suma","¤":"valiuta"},lv:{"∆":"delta","∞":"bezgaliba","♥":"milestiba","&":"un","|":"vai","<":"mazak neka",">":"lielaks neka","∑":"summa","¤":"valuta"},my:{"∆":"kwahkhyaet","∞":"asaonasme","♥":"akhyait","&":"nhin","|":"tho","<":"ngethaw",">":"kyithaw","∑":"paungld","¤":"ngwekye"},mk:{},nl:{"∆":"delta","∞":"oneindig","♥":"liefde","&":"en","|":"of","<":"kleiner dan",">":"groter dan","∑":"som","¤":"valuta"},pl:{"∆":"delta","∞":"nieskonczonosc","♥":"milosc","&":"i","|":"lub","<":"mniejsze niz",">":"wieksze niz","∑":"suma","¤":"waluta"},pt:{"∆":"delta","∞":"infinito","♥":"amor","&":"e","|":"ou","<":"menor que",">":"maior que","∑":"soma","¤":"moeda"},ro:{"∆":"delta","∞":"infinit","♥":"dragoste","&":"si","|":"sau","<":"mai mic ca",">":"mai mare ca","∑":"suma","¤":"valuta"},ru:{"∆":"delta","∞":"beskonechno","♥":"lubov","&":"i","|":"ili","<":"menshe",">":"bolshe","∑":"summa","¤":"valjuta"},sk:{"∆":"delta","∞":"nekonecno","♥":"laska","&":"a","|":"alebo","<":"menej ako",">":"viac ako","∑":"sucet","¤":"mena"},sr:{},tr:{"∆":"delta","∞":"sonsuzluk","♥":"ask","&":"ve","|":"veya","<":"kucuktur",">":"buyuktur","∑":"toplam","¤":"para birimi"},uk:{"∆":"delta","∞":"bezkinechnist","♥":"lubov","&":"i","|":"abo","<":"menshe",">":"bilshe","∑":"suma","¤":"valjuta"},vn:{"∆":"delta","∞":"vo cuc","♥":"yeu","&":"va","|":"hoac","<":"nho hon",">":"lon hon","∑":"tong","¤":"tien te"}},s=[";","?",":","@","&","=","+","$",",","/"].join(""),u=[";","?",":","@","&","=","+","$",","].join(""),b=[".","!","~","*","'","(",")"].join(""),d=function(e,t){var n,o,d,O,f,g,h,j,E,v,_,y,k,S,T="-",x="",w="",I=!0,C={},P="";if("string"!=typeof e)return"";if("string"==typeof t&&(T=t),h=c.en,j=l.en,"object"==typeof t)for(_ in n=t.maintainCase||!1,C=t.custom&&"object"==typeof t.custom?t.custom:C,d=+t.truncate>1&&t.truncate||!1,O=t.uric||!1,f=t.uricNoSlash||!1,g=t.mark||!1,I=!1!==t.symbols&&!1!==t.lang,T=t.separator||T,O&&(P+=s),f&&(P+=u),g&&(P+=b),h=t.lang&&c[t.lang]&&I?c[t.lang]:I?c.en:{},j=t.lang&&l[t.lang]?l[t.lang]:!1===t.lang||!0===t.lang?{}:l.en,t.titleCase&&"number"==typeof t.titleCase.length&&Array.prototype.toString.call(t.titleCase)?(t.titleCase.forEach((function(e){C[e+""]=e+""})),o=!0):o=!!t.titleCase,t.custom&&"number"==typeof t.custom.length&&Array.prototype.toString.call(t.custom)&&t.custom.forEach((function(e){C[e+""]=e+""})),Object.keys(C).forEach((function(t){var n;n=t.length>1?new RegExp("\\b"+p(t)+"\\b","gi"):new RegExp(p(t),"gi"),e=e.replace(n,C[t])})),C)P+=_;for(P=p(P+=T),k=!1,S=!1,v=0,y=(e=e.replace(/(^\s+|\s+$)/g,"")).length;v<y;v++)_=e[v],m(_,C)?k=!1:j[_]?(_=k&&j[_].match(/[A-Za-z0-9]/)?" "+j[_]:j[_],k=!1):_ in a?(v+1<y&&r.indexOf(e[v+1])>=0?(w+=_,_=""):!0===S?(_=i[w]+a[_],w=""):_=k&&a[_].match(/[A-Za-z0-9]/)?" "+a[_]:a[_],k=!1,S=!1):_ in i?(w+=_,_="",v===y-1&&(_=i[w]),S=!0):!h[_]||O&&-1!==s.indexOf(_)||f&&-1!==u.indexOf(_)?(!0===S?(_=i[w]+_,w="",S=!1):k&&(/[A-Za-z0-9]/.test(_)||x.substr(-1).match(/A-Za-z0-9]/))&&(_=" "+_),k=!1):(_=k||x.substr(-1).match(/[A-Za-z0-9]/)?T+h[_]:h[_],_+=void 0!==e[v+1]&&e[v+1].match(/[A-Za-z0-9]/)?T:"",k=!0),x+=_.replace(new RegExp("[^\\w\\s"+P+"_-]","g"),T);return o&&(x=x.replace(/(\w)(\S*)/g,(function(e,t,n){var o=t.toUpperCase()+(null!==n?n:"");return Object.keys(C).indexOf(o.toLowerCase())<0?o:o.toLowerCase()}))),x=x.replace(/\s+/g,T).replace(new RegExp("\\"+T+"+","g"),T).replace(new RegExp("(^\\"+T+"+|\\"+T+"+$)","g"),""),d&&x.length>d&&(E=x.charAt(d)===T,x=x.slice(0,d),E||(x=x.slice(0,x.lastIndexOf(T)))),n||o||(x=x.toLowerCase()),x},p=function(e){return e.replace(/[-\\^$*+?.()|[\]{}\/]/g,"\\$&")},m=function(e,t){for(var n in t)if(t[n]===e)return!0};e.exports?(e.exports=d,e.exports.createSlug=function(e){return function(t){return d(t,e)}}):void 0===(o=function(){return d}.apply(t,[]))||(e.exports=o)}()},24:function(e,t){!function(){e.exports=this.wp.hooks}()},240:function(e,t,n){"use strict";var o=n(0),a=n(6);var r=Object(o.createElement)(a.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(o.createElement)(a.Path,{d:"M20.1 5.1L16.9 2 6.2 12.7l-1.3 4.4 4.5-1.3L20.1 5.1zM4 20.8h8v-1.5H4v1.5z"}));t.a=r},242:function(e,t,n){"use strict";var o=n(0),a=n(6);const r=Object(o.createElement)(a.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(o.createElement)(a.Path,{d:"M12 13.06l3.712 3.713 1.061-1.06L13.061 12l3.712-3.712-1.06-1.06L12 10.938 8.288 7.227l-1.061 1.06L10.939 12l-3.712 3.712 1.06 1.061L12 13.061z"}));t.a=r},244:function(e,t,n){"use strict";var o=n(0),a=n(6);const r=Object(o.createElement)(a.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(o.createElement)(a.Path,{d:"M18 11.2h-5.2V6h-1.6v5.2H6v1.6h5.2V18h1.6v-5.2H18z"}));t.a=r},25:function(e,t){!function(){e.exports=this.kubio.globalData}()},254:function(e,t){!function(){e.exports=this.wp.viewport}()},260:function(e,t,n){"use strict";var o=n(0),a=n(6);const r=Object(o.createElement)(a.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(o.createElement)(a.Path,{d:"M18 5.5H6a.5.5 0 00-.5.5v3h13V6a.5.5 0 00-.5-.5zm.5 5H10v8h8a.5.5 0 00.5-.5v-7.5zm-10 0h-3V18a.5.5 0 00.5.5h2.5v-8zM6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2z"}));t.a=r},262:function(e,t,n){"use strict";var o=n(0),a=n(6);const r=Object(o.createElement)(a.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(o.createElement)(a.Path,{fillRule:"evenodd",d:"M10.289 4.836A1 1 0 0111.275 4h1.306a1 1 0 01.987.836l.244 1.466c.787.26 1.503.679 2.108 1.218l1.393-.522a1 1 0 011.216.437l.653 1.13a1 1 0 01-.23 1.273l-1.148.944a6.025 6.025 0 010 2.435l1.149.946a1 1 0 01.23 1.272l-.653 1.13a1 1 0 01-1.216.437l-1.394-.522c-.605.54-1.32.958-2.108 1.218l-.244 1.466a1 1 0 01-.987.836h-1.306a1 1 0 01-.986-.836l-.244-1.466a5.995 5.995 0 01-2.108-1.218l-1.394.522a1 1 0 01-1.217-.436l-.653-1.131a1 1 0 01.23-1.272l1.149-.946a6.026 6.026 0 010-2.435l-1.148-.944a1 1 0 01-.23-1.272l.653-1.131a1 1 0 011.217-.437l1.393.522a5.994 5.994 0 012.108-1.218l.244-1.466zM14.929 12a3 3 0 11-6 0 3 3 0 016 0z",clipRule:"evenodd"}));t.a=r},28:function(e,t){!function(){e.exports=this.wp.keycodes}()},29:function(e,t,n){"use strict";function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return o}))},3:function(e,t){!function(){e.exports=this.wp.components}()},31:function(e,t){!function(){e.exports=this.kubio.pro}()},322:function(e,t){e.exports='<html> <head> <style>.kubio-loading-logo{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);z-index:0}.kubio-loading-logo svg{width:120px!important;height:120px!important;max-width:120px!important;fill:#a4afb7!important}#eKIDzSscbEO1{overflow:visible;max-width:90px}#eKIDzSscbEO3_tr{animation:eKIDzSscbEO3_tr__tr 2s linear infinite normal forwards}@keyframes eKIDzSscbEO3_tr__tr{0%{transform:translate(193.209984px,190.850067px) rotate(0)}12%{transform:translate(193.209984px,190.850067px) rotate(0);animation-timing-function:cubic-bezier(\n\t\t\t\t\t\t.39,\n\t\t\t\t\t\t.575,\n\t\t\t\t\t\t.565,\n\t\t\t\t\t\t1\n\t\t\t\t)}20%{transform:translate(193.209984px,190.850067px) rotate(90deg);animation-timing-function:cubic-bezier(\n\t\t\t\t\t\t.39,\n\t\t\t\t\t\t.575,\n\t\t\t\t\t\t.565,\n\t\t\t\t\t\t1\n\t\t\t\t)}52%{transform:translate(193.209984px,190.850067px) rotate(90deg);animation-timing-function:cubic-bezier(\n\t\t\t\t\t\t.39,\n\t\t\t\t\t\t.575,\n\t\t\t\t\t\t.565,\n\t\t\t\t\t\t1\n\t\t\t\t)}60%{transform:translate(193.209984px,190.850067px) rotate(0);animation-timing-function:cubic-bezier(\n\t\t\t\t\t\t.39,\n\t\t\t\t\t\t.575,\n\t\t\t\t\t\t.565,\n\t\t\t\t\t\t1\n\t\t\t\t)}68%{transform:translate(193.209984px,190.850067px) rotate(0)}100%{transform:translate(193.209984px,190.850067px) rotate(0)}}#eKIDzSscbEO5_tr{animation:eKIDzSscbEO5_tr__tr 2s linear infinite normal forwards}@keyframes eKIDzSscbEO5_tr__tr{0%{transform:translate(193.219933px,61.519987px) rotate(360deg)}20%{transform:translate(193.219933px,61.519987px) rotate(360deg);animation-timing-function:cubic-bezier(\n\t\t\t\t\t\t.39,\n\t\t\t\t\t\t.575,\n\t\t\t\t\t\t.565,\n\t\t\t\t\t\t1\n\t\t\t\t)}28%{transform:translate(193.219933px,61.519987px) rotate(270deg);animation-timing-function:cubic-bezier(\n\t\t\t\t\t\t.39,\n\t\t\t\t\t\t.575,\n\t\t\t\t\t\t.565,\n\t\t\t\t\t\t1\n\t\t\t\t)}84%{transform:translate(193.219933px,61.519987px) rotate(270deg);animation-timing-function:cubic-bezier(\n\t\t\t\t\t\t.39,\n\t\t\t\t\t\t.575,\n\t\t\t\t\t\t.565,\n\t\t\t\t\t\t1\n\t\t\t\t)}92%{transform:translate(193.219933px,61.519987px) rotate(360deg);animation-timing-function:cubic-bezier(\n\t\t\t\t\t\t.39,\n\t\t\t\t\t\t.575,\n\t\t\t\t\t\t.565,\n\t\t\t\t\t\t1\n\t\t\t\t)}100%{transform:translate(193.219933px,61.519987px) rotate(360deg)}}#eKIDzSscbEO7_tr{animation:eKIDzSscbEO7_tr__tr 2s linear infinite normal forwards}@keyframes eKIDzSscbEO7_tr__tr{0%{transform:translate(59.18501px,193.18499px) rotate(0)}28%{transform:translate(59.18501px,193.18499px) rotate(0);animation-timing-function:cubic-bezier(\n\t\t\t\t\t\t.39,\n\t\t\t\t\t\t.575,\n\t\t\t\t\t\t.565,\n\t\t\t\t\t\t1\n\t\t\t\t)}36%{transform:translate(59.18501px,193.18499px) rotate(90deg);animation-timing-function:cubic-bezier(\n\t\t\t\t\t\t.39,\n\t\t\t\t\t\t.575,\n\t\t\t\t\t\t.565,\n\t\t\t\t\t\t1\n\t\t\t\t)}68%{transform:translate(59.18501px,193.18499px) rotate(90deg);animation-timing-function:cubic-bezier(\n\t\t\t\t\t\t.39,\n\t\t\t\t\t\t.575,\n\t\t\t\t\t\t.565,\n\t\t\t\t\t\t1\n\t\t\t\t)}76%{transform:translate(59.18501px,193.18499px) rotate(0);animation-timing-function:cubic-bezier(\n\t\t\t\t\t\t.39,\n\t\t\t\t\t\t.575,\n\t\t\t\t\t\t.565,\n\t\t\t\t\t\t1\n\t\t\t\t)}84%{transform:translate(59.18501px,193.18499px) rotate(0)}100%{transform:translate(59.18501px,193.18499px) rotate(0)}}#eKIDzSscbEO9_tr{animation:eKIDzSscbEO9_tr__tr 2s linear infinite normal forwards}@keyframes eKIDzSscbEO9_tr__tr{0%{transform:translate(59.149774px,59.150009px) rotate(360deg);animation-timing-function:cubic-bezier(\n\t\t\t\t\t\t.39,\n\t\t\t\t\t\t.575,\n\t\t\t\t\t\t.565,\n\t\t\t\t\t\t1\n\t\t\t\t)}8%{transform:translate(59.149774px,59.150009px) rotate(270deg);animation-timing-function:cubic-bezier(\n\t\t\t\t\t\t.39,\n\t\t\t\t\t\t.575,\n\t\t\t\t\t\t.565,\n\t\t\t\t\t\t1\n\t\t\t\t)}36%{transform:translate(59.149774px,59.150009px) rotate(270deg);animation-timing-function:cubic-bezier(\n\t\t\t\t\t\t.39,\n\t\t\t\t\t\t.575,\n\t\t\t\t\t\t.565,\n\t\t\t\t\t\t1\n\t\t\t\t)}44%{transform:translate(59.149774px,59.150009px) rotate(360deg);animation-timing-function:cubic-bezier(\n\t\t\t\t\t\t.39,\n\t\t\t\t\t\t.575,\n\t\t\t\t\t\t.565,\n\t\t\t\t\t\t1\n\t\t\t\t)}52%{transform:translate(59.149774px,59.150009px) rotate(360deg)}100%{transform:translate(59.149774px,59.150009px) rotate(360deg)}}</style> </head> <body> <div id="content"> </div> </body> </html> '},323:function(e,t){e.exports='<html> <head> <style>body,html{background:#f1f3f5}.content{display:flex;flex-direction:column;align-items:center;justify-items:center;justify-content:center;position:fixed;left:0;top:0;width:100vw;height:100vh}.container{text-align:center}.message{font-size:1.2rem;color:#15192b;font-family:-apple-system,BlinkMacSystemFont,\'Segoe UI\',Roboto,Oxygen-Sans,Ubuntu,Cantarell,\'Helvetica Neue\',sans-serif}#eKIDzSscbEO1{overflow:visible;width:120px!important;height:120px!important;max-width:120px!important;fill:#a4afb7!important}#eKIDzSscbEO3_tr{animation:eKIDzSscbEO3_tr__tr 2s linear infinite normal forwards}@keyframes eKIDzSscbEO3_tr__tr{0%{transform:translate(193.209984px,190.850067px) rotate(0)}12%{transform:translate(193.209984px,190.850067px) rotate(0);animation-timing-function:cubic-bezier(\n\t\t\t\t\t\t.39,\n\t\t\t\t\t\t.575,\n\t\t\t\t\t\t.565,\n\t\t\t\t\t\t1\n\t\t\t\t\t)}20%{transform:translate(193.209984px,190.850067px) rotate(90deg);animation-timing-function:cubic-bezier(\n\t\t\t\t\t\t.39,\n\t\t\t\t\t\t.575,\n\t\t\t\t\t\t.565,\n\t\t\t\t\t\t1\n\t\t\t\t\t)}52%{transform:translate(193.209984px,190.850067px) rotate(90deg);animation-timing-function:cubic-bezier(\n\t\t\t\t\t\t.39,\n\t\t\t\t\t\t.575,\n\t\t\t\t\t\t.565,\n\t\t\t\t\t\t1\n\t\t\t\t\t)}60%{transform:translate(193.209984px,190.850067px) rotate(0);animation-timing-function:cubic-bezier(\n\t\t\t\t\t\t.39,\n\t\t\t\t\t\t.575,\n\t\t\t\t\t\t.565,\n\t\t\t\t\t\t1\n\t\t\t\t\t)}68%{transform:translate(193.209984px,190.850067px) rotate(0)}100%{transform:translate(193.209984px,190.850067px) rotate(0)}}#eKIDzSscbEO5_tr{animation:eKIDzSscbEO5_tr__tr 2s linear infinite normal forwards}@keyframes eKIDzSscbEO5_tr__tr{0%{transform:translate(193.219933px,61.519987px) rotate(360deg)}20%{transform:translate(193.219933px,61.519987px) rotate(360deg);animation-timing-function:cubic-bezier(\n\t\t\t\t\t\t.39,\n\t\t\t\t\t\t.575,\n\t\t\t\t\t\t.565,\n\t\t\t\t\t\t1\n\t\t\t\t\t)}28%{transform:translate(193.219933px,61.519987px) rotate(270deg);animation-timing-function:cubic-bezier(\n\t\t\t\t\t\t.39,\n\t\t\t\t\t\t.575,\n\t\t\t\t\t\t.565,\n\t\t\t\t\t\t1\n\t\t\t\t\t)}84%{transform:translate(193.219933px,61.519987px) rotate(270deg);animation-timing-function:cubic-bezier(\n\t\t\t\t\t\t.39,\n\t\t\t\t\t\t.575,\n\t\t\t\t\t\t.565,\n\t\t\t\t\t\t1\n\t\t\t\t\t)}92%{transform:translate(193.219933px,61.519987px) rotate(360deg);animation-timing-function:cubic-bezier(\n\t\t\t\t\t\t.39,\n\t\t\t\t\t\t.575,\n\t\t\t\t\t\t.565,\n\t\t\t\t\t\t1\n\t\t\t\t\t)}100%{transform:translate(193.219933px,61.519987px) rotate(360deg)}}#eKIDzSscbEO7_tr{animation:eKIDzSscbEO7_tr__tr 2s linear infinite normal forwards}@keyframes eKIDzSscbEO7_tr__tr{0%{transform:translate(59.18501px,193.18499px) rotate(0)}28%{transform:translate(59.18501px,193.18499px) rotate(0);animation-timing-function:cubic-bezier(\n\t\t\t\t\t\t.39,\n\t\t\t\t\t\t.575,\n\t\t\t\t\t\t.565,\n\t\t\t\t\t\t1\n\t\t\t\t\t)}36%{transform:translate(59.18501px,193.18499px) rotate(90deg);animation-timing-function:cubic-bezier(\n\t\t\t\t\t\t.39,\n\t\t\t\t\t\t.575,\n\t\t\t\t\t\t.565,\n\t\t\t\t\t\t1\n\t\t\t\t\t)}68%{transform:translate(59.18501px,193.18499px) rotate(90deg);animation-timing-function:cubic-bezier(\n\t\t\t\t\t\t.39,\n\t\t\t\t\t\t.575,\n\t\t\t\t\t\t.565,\n\t\t\t\t\t\t1\n\t\t\t\t\t)}76%{transform:translate(59.18501px,193.18499px) rotate(0);animation-timing-function:cubic-bezier(\n\t\t\t\t\t\t.39,\n\t\t\t\t\t\t.575,\n\t\t\t\t\t\t.565,\n\t\t\t\t\t\t1\n\t\t\t\t\t)}84%{transform:translate(59.18501px,193.18499px) rotate(0)}100%{transform:translate(59.18501px,193.18499px) rotate(0)}}#eKIDzSscbEO9_tr{animation:eKIDzSscbEO9_tr__tr 2s linear infinite normal forwards}@keyframes eKIDzSscbEO9_tr__tr{0%{transform:translate(59.149774px,59.150009px) rotate(360deg);animation-timing-function:cubic-bezier(\n\t\t\t\t\t\t.39,\n\t\t\t\t\t\t.575,\n\t\t\t\t\t\t.565,\n\t\t\t\t\t\t1\n\t\t\t\t\t)}8%{transform:translate(59.149774px,59.150009px) rotate(270deg);animation-timing-function:cubic-bezier(\n\t\t\t\t\t\t.39,\n\t\t\t\t\t\t.575,\n\t\t\t\t\t\t.565,\n\t\t\t\t\t\t1\n\t\t\t\t\t)}36%{transform:translate(59.149774px,59.150009px) rotate(270deg);animation-timing-function:cubic-bezier(\n\t\t\t\t\t\t.39,\n\t\t\t\t\t\t.575,\n\t\t\t\t\t\t.565,\n\t\t\t\t\t\t1\n\t\t\t\t\t)}44%{transform:translate(59.149774px,59.150009px) rotate(360deg);animation-timing-function:cubic-bezier(\n\t\t\t\t\t\t.39,\n\t\t\t\t\t\t.575,\n\t\t\t\t\t\t.565,\n\t\t\t\t\t\t1\n\t\t\t\t\t)}52%{transform:translate(59.149774px,59.150009px) rotate(360deg)}100%{transform:translate(59.149774px,59.150009px) rotate(360deg)}}</style> </head> <body> <div class="content"> <div class="container"> {svg_image} <p class="message">{message}</p> </div> </div> </body> </html> '},33:function(e,t){!function(){e.exports=this.kubio.editorData}()},34:function(e,t){!function(){e.exports=this.wp.url}()},340:function(e,t,n){"use strict";var o=n(0),a=n(6);const r=Object(o.createElement)(a.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(o.createElement)(a.Path,{d:"M13 19h-2v-2h2v2zm0-6h-2v-2h2v2zm0-6h-2V5h2v2z"}));t.a=r},341:function(e,t,n){"use strict";var o=n(0),a=n(6);const r=Object(o.createElement)(a.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},Object(o.createElement)(a.Path,{d:"M13.8 5.2H3v1.5h10.8V5.2zm-3.6 12v1.5H21v-1.5H10.2zm7.2-6H6.6v1.5h10.8v-1.5z"}));t.a=r},35:function(e,t,n){"use strict";function o(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,"a",(function(){return o}))},354:function(e,t,n){"use strict";var o=n(0),a=n(6);const r=Object(o.createElement)(a.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(o.createElement)(a.Path,{d:"M13 11.8l6.1-6.3-1-1-6.1 6.2-6.1-6.2-1 1 6.1 6.3-6.5 6.7 1 1 6.5-6.6 6.5 6.6 1-1z"}));t.a=r},36:function(e,t){!function(){e.exports=this.wp.coreData}()},39:function(e,t,n){"use strict";e.exports=n(68)},4:function(e,t){!function(){e.exports=this.kubio.core}()},40:function(e,t,n){var o;!function(a){var r=/^\s+/,i=/\s+$/,l=0,c=a.round,s=a.min,u=a.max,b=a.random;function d(e,t){if(t=t||{},(e=e||"")instanceof d)return e;if(!(this instanceof d))return new d(e,t);var n=function(e){var t={r:0,g:0,b:0},n=1,o=null,l=null,c=null,b=!1,d=!1;"string"==typeof e&&(e=function(e){e=e.replace(r,"").replace(i,"").toLowerCase();var t,n=!1;if(C[e])e=C[e],n=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};if(t=H.rgb.exec(e))return{r:t[1],g:t[2],b:t[3]};if(t=H.rgba.exec(e))return{r:t[1],g:t[2],b:t[3],a:t[4]};if(t=H.hsl.exec(e))return{h:t[1],s:t[2],l:t[3]};if(t=H.hsla.exec(e))return{h:t[1],s:t[2],l:t[3],a:t[4]};if(t=H.hsv.exec(e))return{h:t[1],s:t[2],v:t[3]};if(t=H.hsva.exec(e))return{h:t[1],s:t[2],v:t[3],a:t[4]};if(t=H.hex8.exec(e))return{r:B(t[1]),g:B(t[2]),b:B(t[3]),a:F(t[4]),format:n?"name":"hex8"};if(t=H.hex6.exec(e))return{r:B(t[1]),g:B(t[2]),b:B(t[3]),format:n?"name":"hex"};if(t=H.hex4.exec(e))return{r:B(t[1]+""+t[1]),g:B(t[2]+""+t[2]),b:B(t[3]+""+t[3]),a:F(t[4]+""+t[4]),format:n?"name":"hex8"};if(t=H.hex3.exec(e))return{r:B(t[1]+""+t[1]),g:B(t[2]+""+t[2]),b:B(t[3]+""+t[3]),format:n?"name":"hex"};return!1}(e));"object"==typeof e&&(V(e.r)&&V(e.g)&&V(e.b)?(p=e.r,m=e.g,O=e.b,t={r:255*A(p,255),g:255*A(m,255),b:255*A(O,255)},b=!0,d="%"===String(e.r).substr(-1)?"prgb":"rgb"):V(e.h)&&V(e.s)&&V(e.v)?(o=M(e.s),l=M(e.v),t=function(e,t,n){e=6*A(e,360),t=A(t,100),n=A(n,100);var o=a.floor(e),r=e-o,i=n*(1-t),l=n*(1-r*t),c=n*(1-(1-r)*t),s=o%6;return{r:255*[n,l,i,i,c,n][s],g:255*[c,n,n,l,i,i][s],b:255*[i,i,c,n,n,l][s]}}(e.h,o,l),b=!0,d="hsv"):V(e.h)&&V(e.s)&&V(e.l)&&(o=M(e.s),c=M(e.l),t=function(e,t,n){var o,a,r;function i(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}if(e=A(e,360),t=A(t,100),n=A(n,100),0===t)o=a=r=n;else{var l=n<.5?n*(1+t):n+t-n*t,c=2*n-l;o=i(c,l,e+1/3),a=i(c,l,e),r=i(c,l,e-1/3)}return{r:255*o,g:255*a,b:255*r}}(e.h,o,c),b=!0,d="hsl"),e.hasOwnProperty("a")&&(n=e.a));var p,m,O;return n=R(n),{ok:b,format:e.format||d,r:s(255,u(t.r,0)),g:s(255,u(t.g,0)),b:s(255,u(t.b,0)),a:n}}(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=c(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=c(this._r)),this._g<1&&(this._g=c(this._g)),this._b<1&&(this._b=c(this._b)),this._ok=n.ok,this._tc_id=l++}function p(e,t,n){e=A(e,255),t=A(t,255),n=A(n,255);var o,a,r=u(e,t,n),i=s(e,t,n),l=(r+i)/2;if(r==i)o=a=0;else{var c=r-i;switch(a=l>.5?c/(2-r-i):c/(r+i),r){case e:o=(t-n)/c+(t<n?6:0);break;case t:o=(n-e)/c+2;break;case n:o=(e-t)/c+4}o/=6}return{h:o,s:a,l:l}}function m(e,t,n){e=A(e,255),t=A(t,255),n=A(n,255);var o,a,r=u(e,t,n),i=s(e,t,n),l=r,c=r-i;if(a=0===r?0:c/r,r==i)o=0;else{switch(r){case e:o=(t-n)/c+(t<n?6:0);break;case t:o=(n-e)/c+2;break;case n:o=(e-t)/c+4}o/=6}return{h:o,s:a,v:l}}function O(e,t,n,o){var a=[D(c(e).toString(16)),D(c(t).toString(16)),D(c(n).toString(16))];return o&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0):a.join("")}function f(e,t,n,o){return[D(L(o)),D(c(e).toString(16)),D(c(t).toString(16)),D(c(n).toString(16))].join("")}function g(e,t){t=0===t?0:t||10;var n=d(e).toHsl();return n.s-=t/100,n.s=N(n.s),d(n)}function h(e,t){t=0===t?0:t||10;var n=d(e).toHsl();return n.s+=t/100,n.s=N(n.s),d(n)}function j(e){return d(e).desaturate(100)}function E(e,t){t=0===t?0:t||10;var n=d(e).toHsl();return n.l+=t/100,n.l=N(n.l),d(n)}function v(e,t){t=0===t?0:t||10;var n=d(e).toRgb();return n.r=u(0,s(255,n.r-c(-t/100*255))),n.g=u(0,s(255,n.g-c(-t/100*255))),n.b=u(0,s(255,n.b-c(-t/100*255))),d(n)}function _(e,t){t=0===t?0:t||10;var n=d(e).toHsl();return n.l-=t/100,n.l=N(n.l),d(n)}function y(e,t){var n=d(e).toHsl(),o=(n.h+t)%360;return n.h=o<0?360+o:o,d(n)}function k(e){var t=d(e).toHsl();return t.h=(t.h+180)%360,d(t)}function S(e){var t=d(e).toHsl(),n=t.h;return[d(e),d({h:(n+120)%360,s:t.s,l:t.l}),d({h:(n+240)%360,s:t.s,l:t.l})]}function T(e){var t=d(e).toHsl(),n=t.h;return[d(e),d({h:(n+90)%360,s:t.s,l:t.l}),d({h:(n+180)%360,s:t.s,l:t.l}),d({h:(n+270)%360,s:t.s,l:t.l})]}function x(e){var t=d(e).toHsl(),n=t.h;return[d(e),d({h:(n+72)%360,s:t.s,l:t.l}),d({h:(n+216)%360,s:t.s,l:t.l})]}function w(e,t,n){t=t||6,n=n||30;var o=d(e).toHsl(),a=360/n,r=[d(e)];for(o.h=(o.h-(a*t>>1)+720)%360;--t;)o.h=(o.h+a)%360,r.push(d(o));return r}function I(e,t){t=t||6;for(var n=d(e).toHsv(),o=n.h,a=n.s,r=n.v,i=[],l=1/t;t--;)i.push(d({h:o,s:a,v:r})),r=(r+l)%1;return i}d.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,t,n,o=this.toRgb();return e=o.r/255,t=o.g/255,n=o.b/255,.2126*(e<=.03928?e/12.92:a.pow((e+.055)/1.055,2.4))+.7152*(t<=.03928?t/12.92:a.pow((t+.055)/1.055,2.4))+.0722*(n<=.03928?n/12.92:a.pow((n+.055)/1.055,2.4))},setAlpha:function(e){return this._a=R(e),this._roundA=c(100*this._a)/100,this},toHsv:function(){var e=m(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=m(this._r,this._g,this._b),t=c(360*e.h),n=c(100*e.s),o=c(100*e.v);return 1==this._a?"hsv("+t+", "+n+"%, "+o+"%)":"hsva("+t+", "+n+"%, "+o+"%, "+this._roundA+")"},toHsl:function(){var e=p(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=p(this._r,this._g,this._b),t=c(360*e.h),n=c(100*e.s),o=c(100*e.l);return 1==this._a?"hsl("+t+", "+n+"%, "+o+"%)":"hsla("+t+", "+n+"%, "+o+"%, "+this._roundA+")"},toHex:function(e){return O(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return function(e,t,n,o,a){var r=[D(c(e).toString(16)),D(c(t).toString(16)),D(c(n).toString(16)),D(L(o))];if(a&&r[0].charAt(0)==r[0].charAt(1)&&r[1].charAt(0)==r[1].charAt(1)&&r[2].charAt(0)==r[2].charAt(1)&&r[3].charAt(0)==r[3].charAt(1))return r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0)+r[3].charAt(0);return r.join("")}(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:c(this._r),g:c(this._g),b:c(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+c(this._r)+", "+c(this._g)+", "+c(this._b)+")":"rgba("+c(this._r)+", "+c(this._g)+", "+c(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:c(100*A(this._r,255))+"%",g:c(100*A(this._g,255))+"%",b:c(100*A(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+c(100*A(this._r,255))+"%, "+c(100*A(this._g,255))+"%, "+c(100*A(this._b,255))+"%)":"rgba("+c(100*A(this._r,255))+"%, "+c(100*A(this._g,255))+"%, "+c(100*A(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(P[O(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+f(this._r,this._g,this._b,this._a),n=t,o=this._gradientType?"GradientType = 1, ":"";if(e){var a=d(e);n="#"+f(a._r,a._g,a._b,a._a)}return"progid:DXImageTransform.Microsoft.gradient("+o+"startColorstr="+t+",endColorstr="+n+")"},toString:function(e){var t=!!e;e=e||this._format;var n=!1,o=this._a<1&&this._a>=0;return t||!o||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"hex4"!==e&&"hex8"!==e&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},clone:function(){return d(this.toString())},_applyModification:function(e,t){var n=e.apply(null,[this].concat([].slice.call(t)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(E,arguments)},brighten:function(){return this._applyModification(v,arguments)},darken:function(){return this._applyModification(_,arguments)},desaturate:function(){return this._applyModification(g,arguments)},saturate:function(){return this._applyModification(h,arguments)},greyscale:function(){return this._applyModification(j,arguments)},spin:function(){return this._applyModification(y,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(w,arguments)},complement:function(){return this._applyCombination(k,arguments)},monochromatic:function(){return this._applyCombination(I,arguments)},splitcomplement:function(){return this._applyCombination(x,arguments)},triad:function(){return this._applyCombination(S,arguments)},tetrad:function(){return this._applyCombination(T,arguments)}},d.fromRatio=function(e,t){if("object"==typeof e){var n={};for(var o in e)e.hasOwnProperty(o)&&(n[o]="a"===o?e[o]:M(e[o]));e=n}return d(e,t)},d.equals=function(e,t){return!(!e||!t)&&d(e).toRgbString()==d(t).toRgbString()},d.random=function(){return d.fromRatio({r:b(),g:b(),b:b()})},d.mix=function(e,t,n){n=0===n?0:n||50;var o=d(e).toRgb(),a=d(t).toRgb(),r=n/100;return d({r:(a.r-o.r)*r+o.r,g:(a.g-o.g)*r+o.g,b:(a.b-o.b)*r+o.b,a:(a.a-o.a)*r+o.a})},d.readability=function(e,t){var n=d(e),o=d(t);return(a.max(n.getLuminance(),o.getLuminance())+.05)/(a.min(n.getLuminance(),o.getLuminance())+.05)},d.isReadable=function(e,t,n){var o,a,r=d.readability(e,t);switch(a=!1,(o=function(e){var t,n;t=((e=e||{level:"AA",size:"small"}).level||"AA").toUpperCase(),n=(e.size||"small").toLowerCase(),"AA"!==t&&"AAA"!==t&&(t="AA");"small"!==n&&"large"!==n&&(n="small");return{level:t,size:n}}(n)).level+o.size){case"AAsmall":case"AAAlarge":a=r>=4.5;break;case"AAlarge":a=r>=3;break;case"AAAsmall":a=r>=7}return a},d.mostReadable=function(e,t,n){var o,a,r,i,l=null,c=0;a=(n=n||{}).includeFallbackColors,r=n.level,i=n.size;for(var s=0;s<t.length;s++)(o=d.readability(e,t[s]))>c&&(c=o,l=d(t[s]));return d.isReadable(e,l,{level:r,size:i})||!a?l:(n.includeFallbackColors=!1,d.mostReadable(e,["#fff","#000"],n))};var C=d.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},P=d.hexNames=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}(C);function R(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function A(e,t){(function(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var n=function(e){return"string"==typeof e&&-1!=e.indexOf("%")}(e);return e=s(t,u(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),a.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function N(e){return s(1,u(0,e))}function B(e){return parseInt(e,16)}function D(e){return 1==e.length?"0"+e:""+e}function M(e){return e<=1&&(e=100*e+"%"),e}function L(e){return a.round(255*parseFloat(e)).toString(16)}function F(e){return B(e)/255}var z,G,K,H=(G="[\\s|\\(]+("+(z="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+z+")[,|\\s]+("+z+")\\s*\\)?",K="[\\s|\\(]+("+z+")[,|\\s]+("+z+")[,|\\s]+("+z+")[,|\\s]+("+z+")\\s*\\)?",{CSS_UNIT:new RegExp(z),rgb:new RegExp("rgb"+G),rgba:new RegExp("rgba"+K),hsl:new RegExp("hsl"+G),hsla:new RegExp("hsla"+K),hsv:new RegExp("hsv"+G),hsva:new RegExp("hsva"+K),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function V(e){return!!H.CSS_UNIT.exec(e)}e.exports?e.exports=d:void 0===(o=function(){return d}.call(t,n,t,e))||(e.exports=o)}(Math)},41:function(e,t,n){"use strict";var o,a,r,i=n(69),l="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-";function c(){r=!1}function s(e){if(e){if(e!==o){if(e.length!==l.length)throw new Error("Custom alphabet for shortid must be "+l.length+" unique characters. You submitted "+e.length+" characters: "+e);var t=e.split("").filter((function(e,t,n){return t!==n.lastIndexOf(e)}));if(t.length)throw new Error("Custom alphabet for shortid must be "+l.length+" unique characters. These characters were not unique: "+t.join(", "));o=e,c()}}else o!==l&&(o=l,c())}function u(){return r||(r=function(){o||s(l);for(var e,t=o.split(""),n=[],a=i.nextValue();t.length>0;)a=i.nextValue(),e=Math.floor(a*t.length),n.push(t.splice(e,1)[0]);return n.join("")}())}e.exports={get:function(){return o||l},characters:function(e){return s(e),o},seed:function(e){i.seed(e),a!==e&&(c(),a=e)},lookup:function(e){return u()[e]},shuffled:u}},45:function(e,t){!function(){e.exports=this.wp.editor}()},46:function(e,t){!function(){e.exports=this.kubio.menuData}()},48:function(e,t){!function(){e.exports=this.wp.apiFetch}()},5:function(e,t){!function(){e.exports=this.kubio.controls}()},52:function(e,t,n){"use strict";var o,a;function r(e){return[e]}function i(e){return!!e&&"object"==typeof e}function l(){var e={clear:function(){e.head=null}};return e}function c(e,t,n){var o;if(e.length!==t.length)return!1;for(o=n;o<e.length;o++)if(e[o]!==t[o])return!1;return!0}o={},a="undefined"!=typeof WeakMap,t.a=function(e,t){var n,s;function u(){n=a?new WeakMap:l()}function b(){var n,o,a,r,i,l=arguments.length;for(r=new Array(l),a=0;a<l;a++)r[a]=arguments[a];for(i=t.apply(null,r),(n=s(i)).isUniqueByDependants||(n.lastDependants&&!c(i,n.lastDependants,0)&&n.clear(),n.lastDependants=i),o=n.head;o;){if(c(o.args,r,1))return o!==n.head&&(o.prev.next=o.next,o.next&&(o.next.prev=o.prev),o.next=n.head,o.prev=null,n.head.prev=o,n.head=o),o.val;o=o.next}return o={val:e.apply(null,r)},r[0]=null,o.args=r,n.head&&(n.head.prev=o,o.next=n.head),n.head=o,o.val}return t||(t=r),s=a?function(e){var t,a,r,c,s=n,u=!0;for(t=0;t<e.length;t++){if(!i(a=e[t])){u=!1;break}s.has(a)?s=s.get(a):(r=new WeakMap,s.set(a,r),s=r)}return s.has(o)||((c=l()).isUniqueByDependants=u,s.set(o,c)),s.get(o)}:function(){return n},b.getDependants=t,b.clear=u,u(),b}},529:function(e,t,n){"use strict";n.r(t),n.d(t,"initialize",(function(){return Ai})),n.d(t,"__experimentalFullscreenModeClose",(function(){return Ri})),n.d(t,"registerSidebarArea",(function(){return xe})),n.d(t,"SidebarArea",(function(){return Ie})),n.d(t,"SubSidebarArea",(function(){return ye})),n.d(t,"registerSubSidebarArea",(function(){return we}));var o={};n.r(o),n.d(o,"enableComplementaryArea",(function(){return z})),n.d(o,"disableComplementaryArea",(function(){return G})),n.d(o,"pinItem",(function(){return H})),n.d(o,"unpinItem",(function(){return V})),n.d(o,"toggleFeature",(function(){return U})),n.d(o,"setFeatureValue",(function(){return $})),n.d(o,"setFeatureDefaults",(function(){return Y}));var a={};n.r(a),n.d(a,"getActiveComplementaryArea",(function(){return W})),n.d(a,"isItemPinned",(function(){return q})),n.d(a,"isFeatureActive",(function(){return X}));var r={};n.r(r),n.d(r,"toggleFeature",(function(){return Er})),n.d(r,"__experimentalSetPreviewDeviceType",(function(){return vr})),n.d(r,"setTemplate",(function(){return _r})),n.d(r,"addTemplate",(function(){return yr})),n.d(r,"removeTemplate",(function(){return kr})),n.d(r,"setTemplatePart",(function(){return Sr})),n.d(r,"setHomeTemplateId",(function(){return Tr})),n.d(r,"setPage",(function(){return xr})),n.d(r,"showHomepage",(function(){return wr})),n.d(r,"openNavigationPanelToMenu",(function(){return Ir})),n.d(r,"setIsNavigationPanelOpened",(function(){return Cr})),n.d(r,"updateSettings",(function(){return Pr})),n.d(r,"openSidebar",(function(){return Rr})),n.d(r,"openInserterSidebar",(function(){return Ar})),n.d(r,"addSubSidebar",(function(){return Nr})),n.d(r,"removeSubSidebar",(function(){return Br})),n.d(r,"closeSidebar",(function(){return Dr})),n.d(r,"toggleGlobalStyleEditing",(function(){return Mr})),n.d(r,"toggleGutentagDebug",(function(){return Lr})),n.d(r,"setOpenInserter",(function(){return Fr})),n.d(r,"setCurrentAncestor",(function(){return zr})),n.d(r,"setIsListViewOpened",(function(){return Gr}));var i={};n.r(i),n.d(i,"isFeatureActive",(function(){return Vr})),n.d(i,"__experimentalGetPreviewDeviceType",(function(){return Ur})),n.d(i,"getCanUserCreateMedia",(function(){return $r})),n.d(i,"getSettings",(function(){return Yr})),n.d(i,"getHomeTemplateId",(function(){return Wr})),n.d(i,"getEditedPostType",(function(){return qr})),n.d(i,"getEditedPostId",(function(){return Xr})),n.d(i,"getPage",(function(){return Qr})),n.d(i,"isNavigationOpened",(function(){return Zr})),n.d(i,"isInserterOpened",(function(){return Jr})),n.d(i,"getTemplateId",(function(){return ei})),n.d(i,"getTemplatePartId",(function(){return ti})),n.d(i,"getTemplateType",(function(){return ni})),n.d(i,"getTemplateIds",(function(){return oi})),n.d(i,"getTemplatePartIds",(function(){return ai})),n.d(i,"getEntity",(function(){return ri})),n.d(i,"getShowOnFront",(function(){return ii})),n.d(i,"isEditorSidebarOpened",(function(){return li})),n.d(i,"getOpenedInserter",(function(){return ci})),n.d(i,"getOpenedInsertedClientId",(function(){return si})),n.d(i,"getOpenedInsertedShouldReplace",(function(){return ui})),n.d(i,"getOpenedInsertedShouldCLoseOnSelect",(function(){return bi})),n.d(i,"getCurrentAncestor",(function(){return di})),n.d(i,"getEditorOpenedSidebar",(function(){return pi})),n.d(i,"getSubSidebars",(function(){return mi})),n.d(i,"isGlobalStyleEditing",(function(){return Oi})),n.d(i,"getGlobalStyleEditingPreviousEntity",(function(){return fi})),n.d(i,"isGutentagDebug",(function(){return gi})),n.d(i,"__experimentalGetInsertionPoint",(function(){return hi})),n.d(i,"isListViewOpened",(function(){return ji})),n.d(i,"getCurrentKubioTemplateSource",(function(){return Ei})),n.d(i,"getCurrentPageTemplate",(function(){return vi})),n.d(i,"currentPageHasFSETemplate",(function(){return _i})),n.d(i,"getCurrentPostType",(function(){return yi})),n.d(i,"getCurrentPostId",(function(){return ki})),n.d(i,"getIsBlogPage",(function(){return Si})),n.d(i,"getIsFrontPage",(function(){return Ti})),n.d(i,"getIsInnerPage",(function(){return xi})),n.d(i,"getAvailablePageTemplates",(function(){return wi})),n.d(i,"getClassicTemplateId",(function(){return Ii}));var l=n(0),c=n(4),s=n(214),u=n(78),b=n(2),d=n.n(b),p=n(203),m=n(21),O=n(33),f=n(25),g=n(204),h=n(13),j=n(3),E=n(10),v=n(36),y=n(8),k=n(45),S=n(1);function T(){return T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},T.apply(this,arguments)}var x=n(14),w=n.n(x),I=n(221),C=n(6);var P=Object(l.createElement)(C.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(l.createElement)(C.Path,{d:"M11.776 4.454a.25.25 0 01.448 0l2.069 4.192a.25.25 0 00.188.137l4.626.672a.25.25 0 01.139.426l-3.348 3.263a.25.25 0 00-.072.222l.79 4.607a.25.25 0 01-.362.263l-4.138-2.175a.25.25 0 00-.232 0l-4.138 2.175a.25.25 0 01-.363-.263l.79-4.607a.25.25 0 00-.071-.222L4.754 9.881a.25.25 0 01.139-.426l4.626-.672a.25.25 0 00.188-.137l2.069-4.192z"}));var R=Object(l.createElement)(C.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(l.createElement)(C.Path,{fillRule:"evenodd",d:"M9.706 8.646a.25.25 0 01-.188.137l-4.626.672a.25.25 0 00-.139.427l3.348 3.262a.25.25 0 01.072.222l-.79 4.607a.25.25 0 00.362.264l4.138-2.176a.25.25 0 01.233 0l4.137 2.175a.25.25 0 00.363-.263l-.79-4.607a.25.25 0 01.072-.222l3.347-3.262a.25.25 0 00-.139-.427l-4.626-.672a.25.25 0 01-.188-.137l-2.069-4.192a.25.25 0 00-.448 0L9.706 8.646zM12 7.39l-.948 1.921a1.75 1.75 0 01-1.317.957l-2.12.308 1.534 1.495c.412.402.6.982.503 1.55l-.362 2.11 1.896-.997a1.75 1.75 0 011.629 0l1.895.997-.362-2.11a1.75 1.75 0 01.504-1.55l1.533-1.495-2.12-.308a1.75 1.75 0 01-1.317-.957L12 7.39z",clipRule:"evenodd"})),A=n(254),N=n(242);const B=Object(y.combineReducers)({features(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if("SET_FEATURE_DEFAULTS"===t.type){const{scope:n,defaults:o}=t;return{...e,[n]:{...e[n],...o}}}return e}}),D=Object(y.combineReducers)({features(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if("SET_FEATURE_VALUE"===t.type){const{scope:n,featureName:o,value:a}=t;return{...e,[n]:{...e[n],[o]:a}}}return e}}),M=Object(y.combineReducers)({singleEnableItems:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{type:t,itemType:n,scope:o,item:a}=arguments.length>1?arguments[1]:void 0;return"SET_SINGLE_ENABLE_ITEM"===t&&n&&o?{...e,[n]:{...e[n],[o]:a||null}}:e},multipleEnableItems:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{type:t,itemType:n,scope:o,item:a,isEnable:r}=arguments.length>1?arguments[1]:void 0;if("SET_MULTIPLE_ENABLE_ITEM"!==t||!n||!o||!a||Object(b.get)(e,[n,o,a])===r)return e;const i=e[n]||{},l=i[o]||{};return{...e,[n]:{...i,[o]:{...l,[a]:r||!1}}}}});var L=Object(y.combineReducers)({enableItems:M,preferenceDefaults:B,preferences:D});function F(e,t,n){return{type:"SET_SINGLE_ENABLE_ITEM",itemType:e,scope:t,item:n}}function z(e,t){return F("complementaryArea",e,t)}function G(e){return F("complementaryArea",e,void 0)}function K(e,t,n,o){return{type:"SET_MULTIPLE_ENABLE_ITEM",itemType:e,scope:t,item:n,isEnable:o}}function H(e,t){return K("pinnedItems",e,t,!0)}function V(e,t){return K("pinnedItems",e,t,!1)}function U(e,t){return function(n){let{select:o,dispatch:a}=n;const r=o.isFeatureActive(e,t);a.setFeatureValue(e,t,!r)}}function $(e,t,n){return{type:"SET_FEATURE_VALUE",scope:e,featureName:t,value:!!n}}function Y(e,t){return{type:"SET_FEATURE_DEFAULTS",scope:e,defaults:t}}function W(e,t){return function(e,t,n){return Object(b.get)(e.enableItems.singleEnableItems,[t,n])}(e,"complementaryArea",t)}function q(e,t,n){return!1!==function(e,t,n,o){return Object(b.get)(e.enableItems.multipleEnableItems,[t,n,o])}(e,"pinnedItems",t,n)}function X(e,t,n){var o,a;const r=null===(o=e.preferences.features[t])||void 0===o?void 0:o[n];return!!(void 0!==r?r:null===(a=e.preferenceDefaults.features[t])||void 0===a?void 0:a[n])}const Q="core/interface",Z=Object(y.createReduxStore)(Q,{reducer:L,actions:o,selectors:a,persist:["enableItems","preferences"],__experimentalUseThunks:!0});Object(y.registerStore)(Q,{reducer:L,actions:o,selectors:a,persist:["enableItems","preferences"],__experimentalUseThunks:!0});var J=n(205),ee=Object(J.withPluginContext)(((e,t)=>({icon:t.icon||e.icon,identifier:t.identifier||`${e.name}/${t.name}`})));var te=ee((function(e){let{as:t=j.Button,scope:n,identifier:o,icon:a,selectedIcon:r,...i}=e;const c=t,s=Object(y.useSelect)((e=>e(Z).getActiveComplementaryArea(n)===o),[o]),{enableComplementaryArea:u,disableComplementaryArea:d}=Object(y.useDispatch)(Z);return Object(l.createElement)(c,T({icon:r&&s?r:a,onClick:()=>{s?d(n):u(n,o)}},Object(b.omit)(i,["name"])))}));var ne=e=>{let{smallScreenTitle:t,children:n,className:o,toggleButtonProps:a}=e;const r=Object(l.createElement)(te,T({icon:N.a},a));return Object(l.createElement)(l.Fragment,null,Object(l.createElement)("div",{className:"components-panel__header interface-complementary-area-header__small"},t&&Object(l.createElement)("span",{className:"interface-complementary-area-header__small-title"},t),r),Object(l.createElement)("div",{className:w()("components-panel__header","interface-complementary-area-header",o),tabIndex:-1},n,r))};function oe(e){let{name:t,as:n=j.Button,onClick:o,...a}=e;return Object(l.createElement)(j.Fill,{name:t},(e=>{let{onClick:t}=e;return Object(l.createElement)(n,T({onClick:o||t?function(){(o||b.noop)(...arguments),(t||b.noop)(...arguments)}:void 0},a))}))}oe.Slot=function(e){let{name:t,as:n=j.ButtonGroup,fillProps:o={},bubblesVirtually:a,...r}=e;return Object(l.createElement)(j.Slot,{name:t,bubblesVirtually:a,fillProps:o},(e=>{if(Object(b.isEmpty)(l.Children.toArray(e)))return null;const t=[];l.Children.forEach(e,(e=>{let{props:{__unstableExplicitMenuItem:n,__unstableTarget:o}}=e;o&&n&&t.push(o)}));const o=l.Children.map(e,(e=>!e.props.__unstableExplicitMenuItem&&t.includes(e.props.__unstableTarget)?null:e));return Object(l.createElement)(n,r,o)}))};var ae=oe;const re=e=>Object(l.createElement)(j.MenuItem,Object(b.omit)(e,["__unstableExplicitMenuItem","__unstableTarget"]));function ie(e){let{scope:t,target:n,__unstableExplicitMenuItem:o,...a}=e;return Object(l.createElement)(te,T({as:e=>Object(l.createElement)(ae,T({__unstableExplicitMenuItem:o,__unstableTarget:`${t}/${n}`,as:re,name:`${t}/plugin-more-menu`},e)),role:"menuitemcheckbox",selectedIcon:I.a,name:n,scope:t},a))}function le(e){let{scope:t,...n}=e;return Object(l.createElement)(j.Fill,T({name:`PinnedItems/${t}`},n))}le.Slot=function(e){let{scope:t,className:n,...o}=e;return Object(l.createElement)(j.Slot,T({name:`PinnedItems/${t}`},o),(e=>!Object(b.isEmpty)(e)&&Object(l.createElement)("div",{className:w()(n,"interface-pinned-items")},e)))};var ce=le;function se(e){let{scope:t,children:n,className:o}=e;return Object(l.createElement)(j.Fill,{name:`ComplementaryArea/${t}`},Object(l.createElement)("div",{className:o},n))}const ue=ee((function(e){let{children:t,className:n,closeLabel:o=Object(S.__)("Close plugin"),identifier:a,header:r,headerClassName:i,icon:c,isPinnable:s=!0,panelClassName:u,scope:b,name:d,smallScreenTitle:p,title:m,toggleShortcut:O,isActiveByDefault:f,showIconLabels:g=!1}=e;const{isActive:h,isPinned:E,activeArea:v,isSmall:_,isLarge:k}=Object(y.useSelect)((e=>{const{getActiveComplementaryArea:t,isItemPinned:n}=e(Z),o=t(b);return{isActive:o===a,isPinned:n(b,a),activeArea:o,isSmall:e(A.store).isViewportMatch("< medium"),isLarge:e(A.store).isViewportMatch("large")}}),[a,b]);!function(e,t,n,o,a){const r=Object(l.useRef)(!1),i=Object(l.useRef)(!1),{enableComplementaryArea:c,disableComplementaryArea:s}=Object(y.useDispatch)(Z);Object(l.useEffect)((()=>{o&&a&&!r.current?(s(e),i.current=!0):i.current&&!a&&r.current?(i.current=!1,c(e,t)):i.current&&n&&n!==t&&(i.current=!1),a!==r.current&&(r.current=a)}),[o,a,e,t,n])}(b,a,v,h,_);const{enableComplementaryArea:T,disableComplementaryArea:x,pinItem:C,unpinItem:N}=Object(y.useDispatch)(Z);return Object(l.useEffect)((()=>{f&&void 0===v&&!_&&T(b,a)}),[v,f,b,a,_]),Object(l.createElement)(l.Fragment,null,s&&Object(l.createElement)(ce,{scope:b},E&&Object(l.createElement)(te,{scope:b,identifier:a,isPressed:h&&(!g||k),"aria-expanded":h,label:m,icon:g?I.a:c,showTooltip:!g,variant:g?"tertiary":void 0})),d&&s&&Object(l.createElement)(ie,{target:d,scope:b,icon:c},m),h&&Object(l.createElement)(se,{className:w()("interface-complementary-area",n),scope:b},Object(l.createElement)(ne,{className:i,closeLabel:o,onClose:()=>x(b),smallScreenTitle:p,toggleButtonProps:{label:o,shortcut:O,scope:b,identifier:a}},r||Object(l.createElement)(l.Fragment,null,Object(l.createElement)("strong",null,m),s&&Object(l.createElement)(j.Button,{className:"interface-complementary-area__pin-unpin-item",icon:E?P:R,label:E?Object(S.__)("Unpin from toolbar"):Object(S.__)("Pin to toolbar"),onClick:()=>(E?N:C)(b,a),isPressed:E,"aria-expanded":E}))),Object(l.createElement)(j.Panel,{className:u},t)))}));ue.Slot=function(e){let{scope:t,...n}=e;return Object(l.createElement)(j.Slot,T({name:`ComplementaryArea/${t}`},n))};var be=ue;var de=e=>{let{isActive:t}=e;return Object(l.useEffect)((()=>{let e=!1;return document.body.classList.contains("sticky-menu")&&(e=!0,document.body.classList.remove("sticky-menu")),()=>{e&&document.body.classList.add("sticky-menu")}}),[]),Object(l.useEffect)((()=>(t?document.body.classList.add("is-fullscreen-mode"):document.body.classList.remove("is-fullscreen-mode"),()=>{t&&document.body.classList.remove("is-fullscreen-mode")})),[t]),null};var pe=Object(l.forwardRef)((function(e,t){let{footer:n,header:o,sidebar:a,secondarySidebar:r,notices:i,content:c,drawer:s,actions:u,labels:b,className:d,shortcuts:p}=e;const m=Object(j.__unstableUseNavigateRegions)(p);!function(e){Object(l.useEffect)((()=>{const t=document&&document.querySelector(`html:not(.${e})`);if(t)return t.classList.toggle(e),()=>{t.classList.toggle(e)}}),[e])}("interface-interface-skeleton__html-container");const O={...{
/* translators: accessibility text for the nav bar landmark region. */
drawer:Object(S.__)("Drawer"),
/* translators: accessibility text for the top bar landmark region. */
header:Object(S.__)("Header"),
/* translators: accessibility text for the content landmark region. */
body:Object(S.__)("Content"),
/* translators: accessibility text for the secondary sidebar landmark region. */
secondarySidebar:Object(S.__)("Block Library"),
/* translators: accessibility text for the settings landmark region. */
sidebar:Object(S.__)("Settings"),
/* translators: accessibility text for the publish landmark region. */
actions:Object(S.__)("Publish"),
/* translators: accessibility text for the footer landmark region. */
footer:Object(S.__)("Footer")},...b};return Object(l.createElement)("div",T({},m,{ref:Object(E.useMergeRefs)([t,m.ref]),className:w()(d,"interface-interface-skeleton",m.className,!!n&&"has-footer")}),!!s&&Object(l.createElement)("div",{className:"interface-interface-skeleton__drawer",role:"region","aria-label":O.drawer,tabIndex:"-1"},s),Object(l.createElement)("div",{className:"interface-interface-skeleton__editor"},!!o&&Object(l.createElement)("div",{className:"interface-interface-skeleton__header",role:"region","aria-label":O.header,tabIndex:"-1"},o),Object(l.createElement)("div",{className:"interface-interface-skeleton__body"},!!r&&Object(l.createElement)("div",{className:"interface-interface-skeleton__secondary-sidebar",role:"region","aria-label":O.secondarySidebar,tabIndex:"-1"},r),!!i&&Object(l.createElement)("div",{className:"interface-interface-skeleton__notices"},i),Object(l.createElement)("div",{className:"interface-interface-skeleton__content",role:"region","aria-label":O.body,tabIndex:"-1"},c),!!a&&Object(l.createElement)("div",{className:"interface-interface-skeleton__sidebar",role:"region","aria-label":O.sidebar,tabIndex:"-1"},a),!!u&&Object(l.createElement)("div",{className:"interface-interface-skeleton__actions",role:"region","aria-label":O.actions,tabIndex:"-1"},u))),!!n&&Object(l.createElement)("div",{className:"interface-interface-skeleton__footer",role:"region","aria-label":O.footer,tabIndex:"-1"},n))})),me=n(62);const Oe=m.STORE_KEY;var fe=n(7),ge=n(34),he=n(240);function je(e){let{type:t,id:n,activePage:o,onActivePageChange:a}=e;const r=Object(y.useSelect)((e=>t&&n&&"URL"!==t&&e("core").getEntityRecord("postType",t,n)),[t,n]),i=Object(l.useMemo)((()=>{if(null==r||!r.link)return null;const e=Object(ge.getPathAndQueryString)(r.link);return e===o.path?null:()=>a({type:t,slug:r.slug,path:e,context:{postType:r.type,postId:r.id}})}),[r,o.path,a]);return i&&Object(l.createElement)(j.Button,{icon:he.a,label:Object(S.__)("Edit Page Template","kubio"),onClick:i})}var Ee=n(15),ve=n(101);const _e=[];function ye(e){let{title:t,label:n,children:o,areaIdentifier:a,className:r,backCallback:i,parentAreaIdentifier:c,onOpen:s}=e;const{clearSelectedBlock:u}=Object(y.useDispatch)("core/block-editor"),{openSidebar:d}=Object(y.useDispatch)(m.STORE_KEY),p=()=>{d(c||"document"),u()},O=i?()=>i(p):p,f=Object(y.useSelect)((e=>e(m.STORE_KEY).getSubSidebars[a])),{addSubSidebar:g}=Object(y.useDispatch)(m.STORE_KEY);return Object(l.useLayoutEffect)((()=>{f||(g({areaIdentifier:a,sidebar:Object(l.createElement)(j.Animate,{type:"slide-in"},(e=>{let{className:n}=e;return Object(l.createElement)(Ie,{title:t,backCallback:O,areaIdentifier:a,className:`${n} kubio-subsidebar-content`},o,Te(a))}))}),_e.push(a))}),[f]),Object(l.createElement)(l.Fragment,null,Object(l.createElement)("div",{className:"kubio-subsidebar-container"},Object(l.createElement)("div",{className:w()("components-panel__header","interface-complementary-area-header","kubio-subsidebar-title",r),tabIndex:-1},Object(l.createElement)(j.Button,{label:Object(S.__)("Open","kubio"),onClick:()=>{u(),d(a),Object(b.isFunction)(s)&&s()}},Object(l.createElement)("strong",null,n||t),Object(l.createElement)(ve.a,{icon:Ee.ArrowRight,className:"components-panel__arrow arrow_general_settings"})))),Object(l.createElement)("div",{style:{display:"none"}},o))}const ke=[],Se=e=>{let{name:t,title:n=null,parent:o="document",render:a,isSubsidebar:r=!1}=e;Object(b.find)(ke,{name:t})&&console.error(`sidebar ${t} already added`),ke.push({name:t,parent:o,render:a,title:n||t,isSubsidebar:r})},Te=e=>(e=>ke.filter((t=>{let{parent:n}=t;return n===e})))(e).map((t=>{let{title:n,render:o,name:a,isSubsidebar:r}=t;const i=r?ye:Ie;return Object(l.createElement)(i,{title:n,parentAreaIdentifier:e,areaIdentifier:a,key:`${e}.${a}`},o())})),xe=e=>{let{name:t,title:n,parent:o="document",render:a}=e;return Se({name:t,title:n,parent:o,render:a,isSubsidebar:!1})},we=e=>{let{name:t,title:n,parent:o="document",render:a}=e;return Se({name:t,title:n,parent:o,render:a,isSubsidebar:!0})};function Ie(e){let{areaIdentifier:t,title:n,backCallback:o=null,children:a,className:r}=e;return Object(l.createElement)(be,{scope:`${m.STORE_KEY}/sidebars`,complementaryAreaIdentifier:`${m.STORE_KEY}/sidebar/${t}`,identifier:`${m.STORE_KEY}/sidebar/${t}`,isPinnable:!1,className:w()(r,o?"kubio-sidebar-header-block":""),header:Object(l.createElement)("div",{className:w()("components-panel__header","kubio-sidebar-header","accordion-section-title",o?"kubio-sidebar-header--has-back":""),tabIndex:-1},o&&Object(l.createElement)(j.Button,{className:"kubio-sidebar-header-back-button",onClick:o},Object(l.createElement)(ve.a,{icon:Ee.ArrowLeft,className:"kubio-sidebar-header-arrow"})),Object(l.createElement)("strong",null,"function"==typeof n?n():n))},a,Te(t))}var Ce=n(12);function Pe(e){let{children:t}=e;const{clearSelectedBlock:n}=Object(y.useDispatch)("core/block-editor"),{openSidebar:o}=Object(y.useDispatch)(m.STORE_KEY),{blockType:a,isMultiSelection:r}=Object(y.useSelect)((e=>{const{getSelectedBlockClientId:t,getBlockName:n,hasMultiSelection:o}=e("core/block-editor"),a=t(),r=a&&n(a);return{blockType:a&&Object(Ce.getBlockType)(r),isMultiSelection:o()}}));return Object(l.createElement)(Ie,{areaIdentifier:"block-inspector",title:()=>Object(l.createElement)("span",{className:"kubio-header-active-section"},Object(l.createElement)(h.BlockIcon,{icon:null==a?void 0:a.icon}),Object(l.createElement)("span",{className:"kubio-header-active-section page-title"},r?Object(S.__)("Multiple selection","kubio"):null==a?void 0:a.title)),backCallback:()=>{o("document"),n()}},!r&&t,r&&Object(l.createElement)(l.Fragment,null,Object(l.createElement)("div",{className:"kubio-multiple-selection"},Object(l.createElement)("p",null,Object(S.__)("Sidebar controls are not availble on multiple blocks selection","kubio")))))}const Re=()=>{const{templateLabel:e}=Object(y.useSelect)((e=>{const{getCurrentPostType:t,getCurrentPostId:n,getEditedPostType:o,getEditedPostId:a}=e(m.STORE_KEY),{getEntityRecord:r}=e("core"),i=t(),l=n();let c=Object(S.__)("Page","kubio");var s,u,b,d;i&&l?c=(null===(s=r("postType",t(),n()))||void 0===s||null===(u=s.title)||void 0===u?void 0:u.rendered)||null:c=(null===(b=r("postType",o(),a()))||void 0===b||null===(d=b.title)||void 0===d?void 0:d.rendered)||Object(S.__)("Page","kubio");return{templateLabel:c}})),t=Object(O.useCurrentPageTitle)({title:e});return null==t?void 0:t.title};var Ae=n(5),Ne=n(19),Be=n(24),De=n(262),Me=n(244),Le=n(98),Fe=n(151),ze=n.n(Fe),Ge=n(67);const Ke=Object(l.createContext)({clientId:null,setContainer:b.noop}),He=()=>Object(l.useContext)(Ke),Ve=Object(Ge.getNamesOfBlocks)(),Ue=[Ve.SECTION,Ve.HERO,Ve.NAVIGATION].map((e=>`[data-type="${e}"]`)).join(","),$e=e=>{let{children:t}=e;const[n,o]=Object(l.useState)(null),a=Object(O.useBlocksOwnerDocument)(),r=Object(E.useThrottle)(Object(l.useCallback)((e=>{var t;let n=e.target.closest(Ue);if(!n)for(;n&&n.parentNode&&!n.parentNode.classList.contains("is-root-container");)n=n.parentNode;const a=(null===(t=n)||void 0===t?void 0:t.getAttribute("data-block"))||null;o(a)}),[]),300);Object(l.useEffect)((()=>{if(a)return a.addEventListener("mousemove",r),()=>a.removeEventListener("mousemove",r)}),[a]);const i=Object(l.useMemo)((()=>({clientId:n})),[n]);return Object(l.createElement)(Ke.Provider,{value:i},t)};var Ye=n(188);const We=Object(Le.c)((()=>Object(l.createElement)(j.Tooltip,{text:Object(S.__)("Move","kubio")},Object(l.createElement)("div",{className:"d-flex"},Object(l.createElement)(ve.a,{icon:Ye.a,className:"draggable-item"})))));var qe=n(46);var Xe=Object(l.createElement)(C.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(l.createElement)(C.Path,{d:"M5 5v1.5h14V5H5zm0 7.8h14v-1.5H5v1.5zM5 19h14v-1.5H5V19z"}));var Qe=Object(l.createElement)(C.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},Object(l.createElement)(C.Path,{d:"M12 4c-4.4 0-8 3.6-8 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8zm0 14.5c-3.6 0-6.5-2.9-6.5-6.5S8.4 5.5 12 5.5s6.5 2.9 6.5 6.5-2.9 6.5-6.5 6.5zM9 16l4.5-3L15 8.4l-4.5 3L9 16z"}));const Ze=e=>{let{containerRef:t,afterMenuCreation:n,onClose:o}=e;const[a,r]=Object(l.useState)(""),[i,c]=Object(l.useState)(!1);return Object(l.createElement)(j.Popover,{className:"kubio-options-popover kubio-create-menu-popover",anchorRef:t,position:"middle right",onClose:o},Object(l.createElement)(j.Placeholder,{className:"wp-block-navigation-placeholder kubio-menu-placeholder",icon:Qe,label:Object(S.__)("Kubio Menu","kubio")},Object(l.createElement)("div",{className:"kubio-create-menu-popover-description"},Object(l.createElement)("span",null,Object(S.__)("There is no header menu created. Please create a new one","kubio"))),Object(l.createElement)("div",{className:"wp-block-navigation-placeholder__actions"},Object(l.createElement)(j.Flex,null,Object(l.createElement)(j.FlexBlock,null,Object(l.createElement)(j.BaseControl,{className:"kubio-create-menu-popover-input-control"},Object(l.createElement)(j.BaseControl.VisualLabel,null,Object(S.__)("Menu name","kubio")),Object(l.createElement)(j.__experimentalInputControl,{value:a,onChange:r,placeholder:Object(S.__)("Please set a name","kubio")})),Object(l.createElement)(j.Button,{isSecondary:!0,className:"wp-block-navigation-placeholder__button",disabled:0===a.length,isBusy:i,onClick:async()=>{c(!0),await Object(qe.createPrimaryMenu)(a),c(!1),n()}},Object(S.__)("Create new Menu","kubio")))))))},Je=e=>{let{item:t,dataHelper:n,containerRef:o}=e;const[a,r]=Object(l.useState)(!1),[i,c]=Object(l.useState)(!1),{exists:s,items:u,setItems:b,hasResolved:d}=Object(qe.usePrimaryMenuBlockEditor)(),p=Object(y.useSelect)((e=>{var t,n;const{getPage:o,getEntity:a}=e(m.STORE_KEY),r=(null===(t=o())||void 0===t?void 0:t.link)||null,i=(null===(n=a())||void 0===n?void 0:n.path)||null;return(r||i||"").replace(/\/$/,"")}),[]);Object(l.useEffect)((()=>{i&&s&&d&&(b([{...Object(qe.generateItemInitialData)(),label:null==n?void 0:n.getAttribute("attrs.name"),url:`${p}/${g}`}],!0),c(!1))}),[s,i,b,d]);const O=Object(l.useCallback)((()=>{if(h.length){const e=h.map((e=>{let{id:t}=e;return t})),t=f.filter((t=>-1===e.indexOf(t.id)));b([...t],!0)}else{const e=Math.max.apply(null,f.filter((e=>{let{parent:t}=e;return 0===t})).map((e=>{let{order:t}=e;return t})).filter(Boolean))+1;b([...f,{...Object(qe.generateItemInitialData)(),label:null==n?void 0:n.getAttribute("attrs.name"),url:`${p}/${g}`,order:e}],!0)}}),[b,u,s,p]),f=Array.isArray(u)?u:[],g="#"+(null==n?void 0:n.getAttribute("anchor")),h=Object(l.useMemo)((()=>{if(!s)return[];const e=f.filter((e=>{let{url:t}=e;return t===`${p}/${g}`||t===`${p}${g}`}));return e.length?e:[]}),[s,u,p]),E=Object(l.useCallback)((()=>{s?O():r(!0)}),[s,O]),v=h.length>0;return Object(l.createElement)(l.Fragment,null,Object(l.createElement)(j.Tooltip,{text:v?Object(S.__)("Remove from menu","kubio"):Object(S.__)("Add to menu","kubio"),position:"top left"},Object(l.createElement)("div",{className:"d-flex"},Object(l.createElement)(j.Button,{isSmall:!0,onClick:()=>E(),icon:Xe,className:w()(["icon-menu",{active:v}])}))),a&&Object(l.createElement)(Ze,{containerRef:null==o?void 0:o.current,afterMenuCreation:()=>{c(!0),r(!1)},onClose:()=>r(!1)}))},et=e=>{let{onRemove:t,onSelect:n,dataHelper:o}=e;const{selectBlock:a,toggleBlockHighlight:r}=Object(y.useDispatch)("core/block-editor"),i=o.getAttribute("anchor"),s=o.getAttribute("attrs.name"),[u,b]=Object(l.useState)(!1),[p,f]=Object(l.useState)(i),[g,h]=Object(l.useState)(s),E=Object(O.useBlocksOwnerDocument)();Object(l.useEffect)((()=>{p!==i&&f(i),g!==s&&h(s)}),[i,s]);const _=Object(l.useRef)(),k=Object(l.useRef)(),T=d.a.debounce((e=>{e=e||p;let t=ze()(e);t=Object(Ne.getUniqueSlug)(t,E),t&&(t!==p&&f(t),t!==i&&o.setAttribute("anchor",t))}),100),{clientId:x}=He();Object(l.useEffect)((()=>{x===o.clientId&&k.current.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})}),[x]);const w=Object(l.useCallback)((e=>{u&&b(!1)}),[u,b]),I=(e,t)=>{const n=null==e?void 0:e.clientId;Object(Ne.getPreviewElementByModelId)(n,E).scrollIntoView(),r(n,!0)};Object(c.useOnClickOutside)(_,w);Object(y.useSelect)((e=>e("core").getCurrentTheme())),Object(c.useSupportsTemplateMode)(),Object(y.useSelect)((e=>{const{getEntityRecord:t}=e(v.store),{getTemplateId:n}=e(m.STORE_KEY);return t("postType","wp_template",n())}),[]);return Object(l.createElement)("div",{ref:k,className:"page-section-item"},Object(l.createElement)("div",{className:(e=>{const t=["kubio-section-list-item"];return e&&t.push("list-item-full-height"),x===o.clientId&&t.push("hovered"),t.join(" ")})(u)},Object(l.createElement)("div",{className:"align-items-center drag-icon"},Object(l.createElement)(We,null)),Object(l.createElement)("div",{className:"input-container",ref:_},Object(l.createElement)("div",{className:"input-drag-text"},Object(l.createElement)("input",{type:"text",value:g,className:"input-name",onChange:e=>{const t=e.target.value;h(t)},onFocus:e=>{I(o),u||b(!0)},onBlur:()=>{g!==s&&(o.setAttribute("attrs.name",g),T(g))}})),u&&Object(l.createElement)("div",{className:"id-div"},"ID:#",Object(l.createElement)("input",{type:"text",value:p,className:"input-name input-id",onFocus:e=>{I(o)},onChange:e=>{f(e.target.value)},onBlur:()=>{p===i&&g===s||T()}}))),Object(l.createElement)("div",{onClick:()=>{a(null==o?void 0:o.clientId)},className:"page-section-item__select-area",role:"button",tabIndex:0}),Object(l.createElement)("div",{className:"align-items-center"},Object(l.createElement)(j.Button,{isSmall:!0,icon:Ee.DeleteItemIcon,className:"icon-close",onClick:t,showTooltip:!0,tooltipPosition:"top left",label:Object(S.__)("Remove","kubio")}),Object(l.createElement)(Je,{dataHelper:o,containerRef:k}),Object(l.createElement)(j.Button,{isSmall:!0,icon:De.a,className:"icon-settings",onClick:n,showTooltip:!0,tooltipPosition:"top left",label:Object(S.__)("Settings","kubio")}))))},tt=e=>{let{name:t="",area:n}=e;const o=Object(l.useRef)(),{setOpenInserter:a}=Object(y.useDispatch)("kubio/edit-site"),r=lt[n],i=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n;const t=d.a.get(ut,e,ut[it.CONTENT]);a(`pattern-inserter/${t}`,n)};const c=null==r?void 0:r.toLowerCase();return Object(l.createElement)(l.Fragment,null,Object(l.createElement)("div",{ref:o,className:["kubio-full-section","kubio-full-section--placeholder"].join(" ")},Object(l.createElement)("div",{className:"kubio-subsidebar-container"},Object(l.createElement)("div",{className:w()("components-panel__header","interface-complementary-area-header","kubio-subsidebar-title","kubio-subsidebar-title-header"),tabIndex:-1},Object(l.createElement)("div",{className:"kubio-sidebar-title-text"},r),Object(l.createElement)("div",{className:"dummy-column"}),Object(l.createElement)("div",{className:"section-list-header-buttons-holder"},Object(l.createElement)(j.Button,{isSmall:!0,icon:Me.a,className:"section-icon-container",onClick:function(){i(it.CONTENT)},showTooltip:!0,tooltipPosition:"top left",label:Object(S.__)("Add block/section","kubio")})))),Object(l.createElement)(Ae.ControlNotice,{content:Object(S.sprintf)(Object(S.__)("The current page uses the theme %s. Use the button below to replace it with a Kubio %s","kubio"),c,c)}),Object(l.createElement)(j.Button,{isPrimary:!0,onClick:()=>i(),className:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return n===it.HEADER?["btn-primary","header-button"].concat(t).join(" "):["btn-primary"].concat(t).join(" ")}(t,["kubio-button-add-blocks"])},Object(l.createElement)("span",{className:"kubio-header-section-main-button"},(()=>{switch(n){case it.HEADER:return Object(S.__)("Choose header design","kubio");case it.FOOTER:return Object(S.__)("Choose footer design","kubio");case it.SIDEBAR:return Object(S.__)("Add section","kubio");default:return Object(S.__)("Add predesigned section","kubio")}})()))))};function nt(e){const{templateParts:t,selectBlock:n,removeBlocks:o,reorderBlocks:a}=e,{blockTypes:r,getBlocks:i,isPage:c}=Object(y.useSelect)((e=>{const{getPage:t}=e(m.STORE_KEY),n=Object(y.select)("core").getEditedEntityRecord("root","site");let o;t&&(o=t());const a=d.a.get(o,"context",{}),{postType:r,postId:i}=a,l="page"===(null==n?void 0:n.show_on_front)&&parseInt(null==n?void 0:n.page_for_posts)===parseInt(i);return{isPage:"page"===r&&!l,blockTypes:e("core/blocks").getBlockTypes(),getBlocks:e("core/block-editor").getBlocks}})),[s]=Object(O.useGlobalSessionProp)("currentPageHasBlocksContent",!0,[]),u=Object(l.useMemo)((()=>{const e={selectBlock:n,removeBlocks:o,reorderBlocks:a,innerBlocks:i(),templatePart:{},blockTypes:r,label:Object(S.__)("Content","kubio")};return s&&Object(l.createElement)(Ot,e)}),[t,s]);return Object(l.createElement)(l.Fragment,null,c&&Object(l.createElement)(tt,{area:"header"}),u,c&&Object(l.createElement)(tt,{area:"footer"}))}function ot(e){const{templateParts:t,selectBlock:n,removeBlocks:o,reorderBlocks:a}=e,{blockTypes:r,getBlocks:i}=Object(y.useSelect)((e=>({blockTypes:e("core/blocks").getBlockTypes(),getBlocks:e("core/block-editor").getBlocks}))),c=Object(l.useMemo)((()=>t.map(((e,t)=>{const{name:i,clientId:c}=e,s={selectBlock:n,removeBlocks:o,reorderBlocks:a,name:i,templatePart:e,templatePartClientId:c,blockTypes:r};return Object(l.createElement)(Ot,Object(fe.a)({key:"template-sections-"+t},s))}))),[t.length]);return Object(l.createElement)(l.Fragment,null,c)}function at(e){let{templateParts:t,...n}=e;const o=Object(y.useSelect)((e=>{const{currentPageHasFSETemplate:t}=e(m.STORE_KEY);return t()}),[]),a=Object(y.useSelect)((e=>e("core").getEntityRecords("postType","wp_template_part",{per_page:-1})||[]),[]),r=Object(c.useDeepMemo)((()=>t.map((e=>{const t=a.find((t=>{var n;return(null==t?void 0:t.slug)===(null==e||null===(n=e.attributes)||void 0===n?void 0:n.slug)}));let n=null==t?void 0:t.area;return{...e,area:n}}))),[t,a]),i=Object(c.useDeepMemo)((()=>d.a.orderBy(r,(e=>d.a.findIndex(ct,(t=>t===d.a.get(e,"area",it.CONTENT)))))),[r]);let s=null;return s=o?ot:nt,Object(l.createElement)(s,Object(fe.a)({},n,{templateParts:i}))}const rt=e=>{let{onRemove:t,onSelect:n,item:o,dataHelper:a}=e;const{blockTypes:r}=Object(y.useSelect)((e=>({blockTypes:e("core/blocks").getBlockTypes()}))),{selectBlock:i}=Object(y.useDispatch)("core/block-editor"),{clientId:c}=He(),s=w()("kubio-section-list-item",{hovered:c===o.clientId}),u=Object(l.useRef)();return Object(l.useEffect)((()=>{c===o.clientId&&u.current.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})}),[c]),Object(l.createElement)("div",{ref:u,className:"page-section-item"},Object(l.createElement)("div",{className:s},Object(l.createElement)("div",{className:"align-items-center"},Object(l.createElement)(We,null)),Object(l.createElement)("div",{className:"input-container"},Object(l.createElement)("span",{className:"input-name"},Object(l.createElement)("span",{className:"input-name-text"},(e=>{const t=Object(b.find)(r,{name:e});return(null==t?void 0:t.title)||e})(o.name)))),Object(l.createElement)("div",{onClick:()=>{i(null==a?void 0:a.clientId)},className:"page-section-item__select-area",role:"button",tabIndex:"0"}),Object(l.createElement)("div",{className:"align-items-center"},Object(l.createElement)(j.Button,{isSmall:!0,icon:Ee.DeleteItemIcon,className:"icon-close",onClick:t,showTooltip:!0,tooltipPosition:"top left",label:Object(S.__)("Remove","kubio")}),Object(l.createElement)(j.Button,{isSmall:!0,icon:De.a,className:"icon-settings",onClick:n,showTooltip:!0,tooltipPosition:"top left",label:Object(S.__)("Settings","kubio")}))))},it={HEADER:"header",FOOTER:"footer",SIDEBAR:"sidebar",CONTENT:"content"},lt={[it.HEADER]:Object(S.__)("Header","kubio"),[it.FOOTER]:Object(S.__)("Footer","kubio"),[it.SIDEBAR]:Object(S.__)("Sidebar","kubio"),[it.CONTENT]:Object(S.__)("Content","kubio")},ct=[it.HEADER,it.CONTENT,it.SIDEBAR,it.FOOTER],st=["kubio/header","kubio/footer","core/post-content","core/template-part"],ut={[it.HEADER]:"header",[it.FOOTER]:"footer",[it.SIDEBAR]:"sidebar",[it.CONTENT]:"post-content"},bt=Object(Le.b)((e=>{let{item:t,onRemove:n=b.noop,onSelect:o=b.noop,dataHelper:a}=e;return Object(Ne.isGutentagPrefixed)(t.name)?Object(l.createElement)(l.Fragment,null,Object(l.createElement)(et,{onRemove:()=>n(t),onSelect:()=>o(t),item:t,dataHelper:a})):Object(l.createElement)(rt,{onRemove:()=>n(t),onSelect:()=>o(t),item:t,dataHelper:a})})),dt=e=>{var t;const n=Object(l.useMemo)((()=>pt()),[]);return Object(l.createElement)(n,Object(fe.a)({clientId:null===(t=e.item)||void 0===t?void 0:t.clientId},e))},pt=()=>Object(c.WithKubioDataHelperProp)(bt),mt=Object(Le.a)((e=>{let{items:t,onRemove:n,onSelect:o}=e;return Object(l.createElement)("div",null,null==t?void 0:t.map(((e,t)=>Object(l.createElement)(dt,{item:e,onRemove:n,onSelect:o,key:e.clientId,index:t}))))})),Ot=e=>{let{name:t="",reorderBlocks:n,templatePart:o={},blockTypes:a,removeBlocks:r,selectBlock:i,templatePartClientId:c,label:s}=e;const u=null==o?void 0:o.area,p=d.a.get(ut,u,ut[it.CONTENT]),O=Object(l.useRef)(),f=Object(l.useRef)(),[g,h]=Object(l.useState)(!1),{setOpenInserter:E}=Object(y.useDispatch)(m.STORE_KEY),v=p,{isUnlocked:_}=Object(Ae.useTemplatePartLock)(v),[k,T]=Object(l.useState)(!1),{postType:x,postId:I}=Object(y.useSelect)((e=>{var t,n;return(null===(t=e(m.STORE_KEY))||void 0===t||null===(n=t.getPage())||void 0===n?void 0:n.context)||{}}),[]),C=Object(y.useSelect)((e=>e("core/block-editor").getBlocks(c)),[c]);if("core/post-content"===t&&Object(Be.applyFilters)("kubio.showRenderedPostContent","page"!==x,x,I))return Object(l.createElement)(l.Fragment,null);const P=t.includes("kubio")&&["header","footer","sidebar"].includes(v),R=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u;const t=d.a.get(ut,e,ut[it.CONTENT]);E(`pattern-inserter/${t}`,o.clientId)};const A=["kubio-full-section"];return P&&(_?A.push("kubio-full-section--unlocked"):A.push("kubio-full-section--locked")),Object(l.createElement)(l.Fragment,null,Object(l.createElement)("div",{ref:O,className:A.join(" ")},P&&Object(l.createElement)("div",{ref:f,tabIndex:-1,role:"button",className:w()("kubio-full-section-overlay",{"kubio-full-section-overlay--show-popup":g})}),Object(l.createElement)("div",{className:"kubio-subsidebar-container"},Object(l.createElement)("div",{className:w()("components-panel__header","interface-complementary-area-header","kubio-subsidebar-title","kubio-subsidebar-title-header"),tabIndex:-1},Object(l.createElement)("div",{className:"kubio-sidebar-title-text"},s||(()=>{let e=lt[u];return e||(e=(()=>{const e=t,n=Object(b.find)(a,{name:e});return(null==n?void 0:n.title)||e})()),e})()),Object(l.createElement)("div",{className:"dummy-column"}),Object(l.createElement)("div",{className:"section-list-header-buttons-holder"},P&&!_&&Object(l.createElement)(Ae.KubioPopup,{position:"top left",className:"kubio-options-popover kubio-template-controls-popover",buttonRef:f,anchorRef:O.current,selectorToIgnoreOnClickOutside:".h-template-wizard__modal",onOpen:()=>h(!0),onClose:()=>h(!1)},Object(l.createElement)(Ae.TemplateLockModal,{title:Object(S.__)("Choose editing mode","kubio")},Object(l.createElement)(Ae.TemplateLockControls,{isWizardShown:k,setIsWizardShown:T,templatePart:v}))),Object(l.createElement)(j.Button,{isSmall:!0,icon:De.a,className:"section-icon-container",onClick:()=>{i(o.clientId)},showTooltip:!0,tooltipPosition:"top left",label:Object(S.__)("Settings","kubio")}),Object(l.createElement)(j.Button,{isSmall:!0,icon:Me.a,className:"section-icon-container",onClick:function(){R(it.CONTENT)},showTooltip:!0,tooltipPosition:"top left",label:Object(S.__)("Add block/section","kubio")})))),Object(l.createElement)(mt,{helperClass:"kubio-list-item-is-sorting",helperContainer:()=>O.current,onSortEnd:e=>{let{oldIndex:t,newIndex:o}=e;n(C,t,o)},lockAxis:"y",useDragHandle:!0,items:C,onRemove:e=>{r([e.clientId],!1)},onSelect:e=>{i(e.clientId)}}),p&&Object(l.createElement)(j.Button,{isPrimary:!0,onClick:()=>R(),className:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return u===it.HEADER?["btn-primary","header-button"].concat(t).join(" "):["btn-primary"].concat(t).join(" ")}(t,["kubio-button-add-blocks"])},Object(l.createElement)("span",{className:"kubio-header-section-main-button"},(()=>{switch(u){case it.HEADER:return Object(S.__)("Choose header design","kubio");case it.FOOTER:return Object(S.__)("Choose footer design","kubio");case it.SIDEBAR:return Object(S.__)("Add section","kubio");default:return Object(S.__)("Add predesigned section","kubio")}})()))))};var ft=Object(E.compose)(Object(y.withSelect)((e=>{const{getSelectedBlockClientId:t,getBlock:n,getBlockParents:o,getClientIdsWithDescendants:a}=e("core/block-editor"),r=a().map(n).filter((e=>{let{name:t}=e;return st.includes(t)}));return{selectedBlockClientId:t(),templateParts:r,getBlockParents:o}})),Object(y.withDispatch)(((e,t)=>{let{onSelect:n=b.noop,getBlockParents:o,getBlockAttributes:a}=t;const{removeBlocks:r,moveBlockToPosition:i,updateBlockAttributes:l}=e("core/block-editor");return{selectBlock(t){e("core/block-editor").selectBlock(t),n(t)},removeBlocks:r,reorderBlocks:(e,t,n)=>{const a=o(e[t].clientId).pop();i(e[t].clientId,a,a,n)},updateBlockAttribute:(e,t,n)=>{let o=a(e);o=Object(b.set)(o,t,n),l(e,{...o})}}})))((e=>Object(l.createElement)("div",{className:"block-editor-block-navigation__container kubio-interface"},Object(l.createElement)("div",{className:"block-editor-block-navigation__label"},Object(l.createElement)(at,e)))));function gt(){const e=Object(O.useCurrentPageBodyClasses)(),{additionalCSS:t,setAdditionalCSS:n}=Object(f.useGlobalAdditionalCSS)(),[o,a]=Object(l.useState)(t);Object(l.useEffect)((()=>{t!==o&&a(t)}),[t]);const r=Object(E.useDebounce)(n,300);return Object(l.createElement)(j.PanelBody,{initialOpen:!0,title:Object(S.__)("Additional CSS","kubio")},Object(l.createElement)(Ae.CodeMirrorControl,{value:o,onChange:e=>{r(e),a(e)},mode:"css"}),e&&!!e.length&&Object(l.createElement)(Ae.ControlNotice,{content:Object(l.createElement)(l.Fragment,null,Object(l.createElement)("span",null,Object(S.__)("Current page has the following classes that can be used as top selectors:","kubio")),Object(l.createElement)("div",null,Object(l.createElement)("strong",null,e.join(", "))))}))}const ht=e=>{let{areaIdentifier:t}=e;const n=Object(y.useSelect)((e=>e(m.STORE_KEY).getEditorOpenedSidebar()),[]),o=null==n?void 0:n.endsWith(t);return Object(l.createElement)(l.Fragment,null,o&&Object(l.createElement)(gt,null))};var jt=e=>{let{parentAreaIdentifier:t}=e;return Object(l.createElement)(ye,{title:Object(S.__)("Additional CSS","kubio"),parentAreaIdentifier:t,areaIdentifier:`${t}/additional-css`},Object(l.createElement)(ht,{areaIdentifier:`${t}/additional-css`}))},Et=n(40),vt=n.n(Et),_t=n(31);const yt=[{label:Object(S.__)("Kubio Default","kubio"),colors:[{slug:"kubio-color-1",color:[3,169,244]},{slug:"kubio-color-2",color:[247,144,7]},{slug:"kubio-color-3",color:[0,191,135]},{slug:"kubio-color-4",color:[102,50,255]},{slug:"kubio-color-5",color:[255,255,255]},{slug:"kubio-color-6",color:[0,0,0]}]},{label:Object(S.__)("Vibrant & Elegant","kubio"),colors:[{slug:"kubio-color-1",color:[48,62,122]},{slug:"kubio-color-2",color:[247,229,151]},{slug:"kubio-color-3",color:[246,97,97]},{slug:"kubio-color-4",color:[158,201,226]},{slug:"kubio-color-5",color:[246,248,250]},{slug:"kubio-color-6",color:[32,42,84]}]},{label:Object(S.__)("XPR | Glaucous & Coquelicot","kubio"),colors:[{slug:"kubio-color-1",color:[233,63,12]},{slug:"kubio-color-2",color:[238,192,13]},{slug:"kubio-color-3",color:[9,164,207]},{slug:"kubio-color-4",color:[181,214,209]},{slug:"kubio-color-5",color:[239,249,235]},{slug:"kubio-color-6",color:[85,119,173]}]},{label:Object(S.__)("XPR | Fruits & Jellies","kubio"),colors:[{slug:"kubio-color-1",color:[90,209,0]},{slug:"kubio-color-2",color:[0,176,244]},{slug:"kubio-color-3",color:[94,204,227]},{slug:"kubio-color-4",color:[255,181,0]},{slug:"kubio-color-5",color:[239,249,235]},{slug:"kubio-color-6",color:[23,37,42]}]},{label:Object(S.__)("XPR-1","kubio"),colors:[{slug:"kubio-color-1",color:[255,137,0]},{slug:"kubio-color-2",color:[0,144,183]},{slug:"kubio-color-3",color:[180,180,180]},{slug:"kubio-color-4",color:[230,230,230]},{slug:"kubio-color-5",color:[246,248,250]},{slug:"kubio-color-6",color:[58,58,58]}]},{label:Object(S.__)("XPR-2","kubio"),colors:[{slug:"kubio-color-1",color:[122,146,0]},{slug:"kubio-color-2",color:[200,0,69]},{slug:"kubio-color-3",color:[248,110,0]},{slug:"kubio-color-4",color:[255,194,0]},{slug:"kubio-color-5",color:[246,248,250]},{slug:"kubio-color-6",color:[71,0,55]}]},{label:Object(S.__)("XPR-3","kubio"),colors:[{slug:"kubio-color-1",color:[3,12,73]},{slug:"kubio-color-2",color:[255,0,0]},{slug:"kubio-color-3",color:[191,234,238]},{slug:"kubio-color-4",color:[255,181,0]},{slug:"kubio-color-5",color:[226,235,231]},{slug:"kubio-color-6",color:[23,37,42]}]},{label:Object(S.__)("XPR-4","kubio"),colors:[{slug:"kubio-color-1",color:[153,0,255]},{slug:"kubio-color-2",color:[237,0,166]},{slug:"kubio-color-3",color:[172,255,0]},{slug:"kubio-color-4",color:[243,162,0]},{slug:"kubio-color-5",color:[215,228,228]},{slug:"kubio-color-6",color:[66,157,255]}]},{label:Object(S.__)("XPR-5","kubio"),colors:[{slug:"kubio-color-1",color:[31,43,87]},{slug:"kubio-color-2",color:[153,187,227]},{slug:"kubio-color-3",color:[70,124,198]},{slug:"kubio-color-4",color:[225,98,66]},{slug:"kubio-color-5",color:[231,240,249]},{slug:"kubio-color-6",color:[71,0,55]}]},{label:Object(S.__)("XPR-6","kubio"),colors:[{slug:"kubio-color-1",color:[237,59,56]},{slug:"kubio-color-2",color:[242,250,200]},{slug:"kubio-color-3",color:[208,238,57]},{slug:"kubio-color-4",color:[222,235,171]},{slug:"kubio-color-5",color:[238,240,231]},{slug:"kubio-color-6",color:[23,37,42]}]},{label:Object(S.__)("XPR-7","kubio"),colors:[{slug:"kubio-color-1",color:[0,192,150]},{slug:"kubio-color-2",color:[0,231,153]},{slug:"kubio-color-3",color:[51,247,133]},{slug:"kubio-color-4",color:[152,255,129]},{slug:"kubio-color-5",color:[242,252,247]},{slug:"kubio-color-6",color:[23,37,42]}]},{label:Object(S.__)("XPR-8","kubio"),colors:[{slug:"kubio-color-1",color:[20,30,112]},{slug:"kubio-color-2",color:[39,76,196]},{slug:"kubio-color-3",color:[69,168,255]},{slug:"kubio-color-4",color:[94,247,255]},{slug:"kubio-color-5",color:[236,246,255]},{slug:"kubio-color-6",color:[27,46,77]}]}];yt.forEach(((e,t)=>(t>1&&(e[_t.PRO_ON_FREE_FLAG]=!0),e)));var kt=yt;const St=()=>{const{getPalette:e,setPalette:t}=Object(f.useGlobalDataColors)(),n=e(),[o,a]=Object(l.useState)(n),r=Object(y.useSelect)((e=>{var t,n;return(null===(t=e("kubio/edit-site"))||void 0===t||null===(n=t.getSettings())||void 0===n?void 0:n.isKubioTheme)||null})),i=Object(l.useCallback)(((e,n)=>{const r=vt()(n),i=[r._r,r._g,r._b],l=[...o];l[e]={...l[e],color:i},Object(b.isEqual)(o[e].color,l[e].color)||(a(l),t(l))}),[a,t,o]),c=Object(l.useCallback)((e=>{a([...e]),t([...e])}),[a,t]),s=e=>()=>{c(e.colors)},u=e=>t=>{i(e,t)},d=Object(l.useCallback)((()=>{const e={slug:"kubio-color-"+(parseInt(o.length)+1),color:[255,255,255]};o.push(e),t(o)}),[a,t,o]),p=Object(l.useCallback)((e=>{o.splice(e,1),t(o)}),[a,t,o]);return Object(l.createElement)(j.PanelBody,{title:Object(S.__)("Color Palette","kubio"),className:"kubio-color-palette-panel"},Object(l.createElement)(j.BaseControl,null,Object(l.createElement)(j.Flex,{justify:"center",className:""},Object(l.createElement)(j.FlexBlock,null,Object(l.createElement)(j.BaseControl,null,Object(S.__)("Current color scheme","kubio"))),Object(l.createElement)(j.FlexItem,null,Object(l.createElement)("span",{className:"c-components-units-list"},Object(l.createElement)("span",{role:"button",tabIndex:0,key:"palette-add-color",className:"c-components-units-list__item is-selected add-colors-button",onClick:d},Object(S.__)("Add colors","kubio"))))),Object(l.createElement)(j.Flex,{gap:0,className:"kubio-current-colors-palette"},o.map(((e,t)=>{let{color:n,slug:o}=e;const a=`rgb(${n.join(",")})`;return Object(l.createElement)(Ae.ColorIndicatorPopover,{key:`${o}-${t}`,color:a,onChange:u(t),alpha:!1,showPalette:!1,returnRawValue:!0,disabled:false,hasButton:t>5,buttonIcon:!1,buttonText:Object(S.__)("Remove color","kubio"),onReset:()=>p(t)})})))),!r&&Object(l.createElement)(Ae.ControlNotice,{className:"notice-general-settings no-padding",content:Object(S.__)("These settings are applied to Kubio blocks and the blocks within.","kubio")}),Object(l.createElement)(Ae.SeparatorHorizontalLine,null),Object(l.createElement)(j.BaseControl,{label:Object(S.__)("More Palettes","kubio"),className:"more_palettes_base"},kt.map(((e,t)=>Object(l.createElement)(j.BaseControl,{label:e.label,key:t,className:w()("kubio-color-scheme-base-control")},Object(l.createElement)(j.Button,{className:"kubio-color-scheme-selector",onClick:s(e),key:e.label},Object(l.createElement)(j.Flex,{gap:0},e.colors.map((e=>{let{slug:t,color:n}=e;return Object(l.createElement)(Ae.ColorIndicator,{key:t,value:`rgb(${n.join(",")})`})})))))))))},Tt=e=>{let{areaIdentifier:t}=e;return Object(y.useSelect)((e=>e(m.STORE_KEY).isEditorSidebarOpened(t)),[])&&Object(l.createElement)(St,null)};function xt(e){let{parentAreaIdentifier:t}=e;return Object(l.createElement)(ye,{title:"Color Scheme",parentAreaIdentifier:t,areaIdentifier:`${t}/color-scheme`},Object(l.createElement)(Tt,{areaIdentifier:`${t}/color-scheme`}))}function wt(){const{globalStyle:e,getStyleDefaultGlobalValue:t}=Object(f.useGlobalDataStyle)(),n={styledComponent:"transition"};return Object(l.createElement)(l.Fragment,null,Object(l.createElement)(j.PanelBody,{initialOpen:!0,title:Object(S.__)("Effects","kubio")},Object(l.createElement)(Ae.RangeWithUnitControl,{label:Object(S.__)("Transition Duration","kubio"),value:(o="duration",a={unit:"s"},e.getStyle(o,a,{...n,...r})),onChange:t=>((t,o,a)=>e.setStyle(t,o,{...n,...a}))("duration",t),onReset:()=>((o,a)=>{const r={...n,...a},i=t(o,r);i?e.setStyle(o,i,r):e.setStyle(o,null,{...r,unset:!0})})("duration"),min:0,max:5,step:.01})));var o,a,r}const It=e=>{let{areaIdentifier:t}=e;const n=Object(y.useSelect)((e=>e(m.STORE_KEY).isEditorSidebarOpened(t)),[]),o=Object(y.useSelect)((e=>{var t,n;return(null===(t=e("kubio/edit-site"))||void 0===t||null===(n=t.getSettings())||void 0===n?void 0:n.isKubioTheme)||null}));return n&&Object(l.createElement)(l.Fragment,null,Object(l.createElement)(wt,null),!o&&Object(l.createElement)(Ae.ControlNotice,{className:"notice-general-settings",content:Object(S.__)("These settings are applied to Kubio blocks and the blocks within.","kubio")}))};var Ct=e=>{let{parentAreaIdentifier:t}=e;return Object(l.createElement)(ye,{title:Object(S.__)("Global Effects","kubio"),label:Object(S.__)("Effects","kubio"),parentAreaIdentifier:t,areaIdentifier:`${t}/effects`},Object(l.createElement)(It,{areaIdentifier:`${t}/effects`}))},Pt=n(90);const Rt=()=>{const[e,t]=Object(l.useState)(""),{globalStyle:n,resetToInitialData:o}=Object(f.useGlobalDataStyle)(),a="form-fields",r={type:c.WithDataPathTypes.STYLE,style:a,dataHelper:n};return Object(l.createElement)(j.PanelBody,{initialOpen:!1,title:Object(S.__)("Form fields","kubio")},Object(l.createElement)(j.BaseControl,{label:Object(S.__)("State","kubio")},Object(l.createElement)(Pt.StatesControl,{activeState:e,setActiveState:t,availableStates:["normal","hover","focus","disabled"]}),Object(l.createElement)(Ae.ColorWithPath,Object(fe.a)({label:Object(S.__)("Text color","kubio"),path:"typography.color",state:e},r,{onReset:o("typography.color",{styledComponent:a,state:e})})),Object(l.createElement)(Ae.ColorWithPath,Object(fe.a)({label:Object(S.__)("Background color","kubio"),state:e,path:"background.color",showReset:!0},r,{onReset:o("background.color",{styledComponent:a,state:e})})),Object(l.createElement)(Ae.ColorWithPath,Object(fe.a)({label:Object(S.__)("Border color","kubio"),path:["border.top.color","border.bottom.color","border.left.color","border.right.color"],state:e},r,{onReset:o(["border.top.color","border.bottom.color","border.left.color","border.right.color"],{styledComponent:a,state:e})})),Object(l.createElement)(Ae.SeparatorHorizontalLine,null),Object(l.createElement)(Ae.TypographyControlPopupWithPath,Object(fe.a)({path:"typography"},r,{onReset:o("typography",{styledComponent:a})})),Object(l.createElement)(Ae.SeparatorHorizontalLine,null),Object(l.createElement)(Ae.BoxUnitValueControlWithPath,Object(fe.a)({label:Object(S.__)("Padding","kubio"),path:"padding"},r,{onReset:o("padding",{styledComponent:a})})),Object(l.createElement)(Ae.BoxUnitValueControlWithPath,Object(fe.a)({label:Object(S.__)("Margin","kubio"),path:"margin"},r,{onReset:o("margin",{styledComponent:a})})),Object(l.createElement)(Ae.SeparatorHorizontalLine,null),Object(l.createElement)(Ae.BordersAndRadiusWithPath,Object(fe.a)({path:"border"},r,{withColor:!1,onReset:o("border",{styledComponent:a})}))))},At=e=>{let{styledElement:t="form-submit-button",title:n=Object(S.__)("Form submit button","kubio")}=e;const[o,a]=Object(l.useState)(""),{globalStyle:r,resetToInitialData:i}=Object(f.useGlobalDataStyle)(),s={type:c.WithDataPathTypes.STYLE,style:t,dataHelper:r};return Object(l.createElement)(j.PanelBody,{initialOpen:!1,title:n},Object(l.createElement)(j.BaseControl,{label:Object(S.__)("State","kubio")},Object(l.createElement)(Pt.StatesControl,{activeState:o,setActiveState:a,availableStates:["normal","hover","disabled"]}),Object(l.createElement)(Ae.GradientColorPickerWithPath,Object(fe.a)({label:Object(S.__)("Background","kubio"),path:"background",state:o},s,{onReset:i("background",{styledComponent:t,state:o})})),Object(l.createElement)(Ae.ColorWithPath,Object(fe.a)({label:Object(S.__)("Text color","kubio"),path:"typography.color",state:o},s,{onReset:i("typography.color",{styledComponent:t,state:o})})),Object(l.createElement)(Ae.ColorWithPath,Object(fe.a)({label:Object(S.__)("Border color","kubio"),path:["border.top.color","border.bottom.color","border.left.color","border.right.color"],state:o},s,{onReset:i(["border.top.color","border.bottom.color","border.left.color","border.right.color"],{styledComponent:t,state:o})})),Object(l.createElement)(Ae.SeparatorHorizontalLine,null),Object(l.createElement)(Ae.TypographyControlPopupWithPath,Object(fe.a)({path:"typography"},s,{onReset:i("typography",{styledComponent:t})})),Object(l.createElement)(Ae.SeparatorHorizontalLine,null),Object(l.createElement)(Ae.BoxUnitValueControlWithPath,Object(fe.a)({label:Object(S.__)("Padding","kubio"),path:"padding"},s,{onReset:i("padding",{styledComponent:t})})),Object(l.createElement)(Ae.BoxUnitValueControlWithPath,Object(fe.a)({label:Object(S.__)("Margin","kubio"),path:"margin"},s,{onReset:i("margin",{styledComponent:t})})),Object(l.createElement)(Ae.SeparatorHorizontalLine,null),Object(l.createElement)(Ae.BordersAndRadiusWithPath,Object(fe.a)({path:"border"},s,{withColor:!1,onReset:i("border",{styledComponent:t})})),Object(l.createElement)(Ae.SeparatorHorizontalLine,null),Object(l.createElement)(Ae.BoxShadowWithPath,Object(fe.a)({path:"boxShadow"},s,{onReset:i("boxShadow",{styledComponent:t})}))))},Nt=e=>{let{areaIdentifier:t}=e;const n=Object(y.useSelect)((e=>e(m.STORE_KEY).isEditorSidebarOpened(t)),[]),o=Object(y.useSelect)((e=>{var t,n;return(null===(t=e("kubio/edit-site"))||void 0===t||null===(n=t.getSettings())||void 0===n?void 0:n.isKubioTheme)||null}));return n&&Object(l.createElement)(l.Fragment,null,Object(l.createElement)(Rt,null),Object(l.createElement)(At,{styledElement:"form-button",title:Object(S.__)("Form button","kubio")}),Object(l.createElement)(At,{styledElement:"form-submit-button",title:Object(S.__)("Form submit button","kubio")}),Object(l.createElement)(At,{styledElement:"form-reset-button",title:Object(S.__)("Form reset button","kubio")}),!o&&Object(l.createElement)(Ae.ControlNotice,{className:"notice-general-settings",content:Object(S.__)("These settings are applied to Kubio blocks and the blocks within.","kubio")}))},Bt=e=>{let{parentAreaIdentifier:t}=e;return Object(l.createElement)(ye,{title:Object(S.__)("Form Elements","kubio"),parentAreaIdentifier:t,areaIdentifier:`${t}/form-elements`},Object(l.createElement)(Nt,{areaIdentifier:`${t}/form-elements`}))},Dt={H1:"h1",H2:"h2",H3:"h3",H4:"h4",H5:"h5",H6:"h6"},Mt={headingType:{values:Dt,options:[{value:Dt.H1,label:"H1"},{value:Dt.H2,label:"H2"},{value:Dt.H3,label:"H3"},{value:Dt.H4,label:"H4"},{value:Dt.H5,label:"H5"},{value:Dt.H6,label:"H6"}]}},Lt=()=>{const[e,t]=Object(f.useGlobalDataSetting)("googleFonts.serveLocally");return Object(l.createElement)(l.Fragment,null,Object(l.createElement)(Ae.ToggleControl,{label:Object(S.__)("Serve Google Fonts locally","kubio"),value:e,onChange:t}),Object(l.createElement)(Ae.ControlNotice,{className:"notice-general-settings no-padding",content:Object(S.__)("When this option is turned on the Google Fonts used in your site will be downloaded and served from your server instead of the Google server. This will minimize the DNS requests, reduce the Cumulative Layout Shift and serve your Google Fonts in a 100% GDPR compliant way.","kubio")}))},{weightOptions:Ft,sizeUnitsOptions:zt,sizeUnitsConfig:Gt,styleOptions:Kt,transformOptions:Ht,decorationOptions:Vt}=Ae.TypographyConfig,Ut=e=>{const{globalStyle:t,getStyleDefaultGlobalValue:n,getStyleInitialDefaultGlobalValue:o}=Object(f.useGlobalDataStyle)();return((e,t,n,o)=>{const a={styledComponent:"body"};return{setTypography:function(n,o){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=r.state?`states.${r.state}`:null;r=Object(b.omit)(r,"state");const l=["typography","holders",t,i,n].filter(Boolean).join("."),c=d.a.merge({},a,r);e.setStyle(l,o,c)},getTypography:function(n){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=r.state?`states.${r.state}`:null;r=Object(b.omit)(r,"state");const l=["typography","holders",t,i,n].filter(Boolean).join("."),c=d.a.merge({},a,r);return e.getStyle(l,o,c)},unsetTypography:function(n){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=r.state?`states.${r.state}`:null;r=Object(b.omit)(r,"state");const l=["typography","holders",t,i,n].filter(Boolean).join("."),c=d.a.merge({},a,r),s=o(l,c);e.setStyle(l,s,c)}}})(t,e,0,o)},$t=e=>{let{getTypography:t,setTypography:n,unsetTypography:o,showTransform:a=!1,showDecoration:r=!0}=e;return Object(l.createElement)(Ae.PopoverOptionsButton,{label:Object(S.__)("Advanced","kubio"),popoverWidth:250,popupContent:Object(l.createElement)(l.Fragment,null,a&&Object(l.createElement)(Ae.GutentagSelectControl,{label:Object(S.__)("Transform","kubio"),options:Ht,value:t("transform"),onChange:e=>n("transform",e)}),r&&Object(l.createElement)(Ae.GutentagSelectControl,{label:Object(S.__)("Decoration","kubio"),options:Vt,value:t("decoration",""),onChange:e=>n("decoration",e)}),Object(l.createElement)(Ae.GutentagSelectControl,{label:Object(S.__)("Style","kubio"),options:Kt,value:t("style"),onChange:e=>n("style",e)}),Object(l.createElement)(Ae.SeparatorHorizontalLine,{fit:!0}),Object(l.createElement)(Ae.RangeWithUnitControl,{label:Object(S.__)("Line Height","kubio"),value:t("lineHeight"),onChange:e=>n("lineHeight",e),onReset:()=>o("lineHeight"),defaultUnit:"",min:0,max:10,step:.1}),Object(l.createElement)(Ae.RangeWithUnitControl,{label:Object(S.__)("Letter Spacing","kubio"),value:t("letterSpacing",{value:"",unit:"px"}),onChange:e=>n("letterSpacing",e),onReset:()=>o("letterSpacing"),min:0,max:10,step:.1,units:zt}))})},Yt=e=>{let{element:t="h1"}=e;const{getTypography:n,setTypography:o,unsetTypography:a}=Ut(t),{getFontWeights:r}=Object(f.useGlobalDataFonts)(),i=r(n("family")),c=Ft.filter((e=>-1!==i.indexOf(e.value)));return Object(l.createElement)(j.BaseControl,null,Object(l.createElement)(j.Flex,{className:"kubio-font-family-container general-typography"},Object(l.createElement)(j.FlexBlock,null,Object(l.createElement)("span",{className:"kubio-font-family-label"},Object(S.__)("Font family","kubio"))),Object(l.createElement)(j.FlexItem,null,Object(l.createElement)(Ae.FontPicker,{value:n("family"),onChange:e=>o("family",e)}))),Object(l.createElement)(Ae.GutentagSelectControl,{className:"kubio-select-control-container",label:Object(S.__)("Font weight","kubio"),options:c,value:parseInt(n("weight")),onChange:e=>o("weight",e)}),Object(l.createElement)(Ae.InlineLabeledControl,{label:Object(S.__)("Color","kubio")},Object(l.createElement)(Ae.ColorIndicatorPopover,{color:n("color"),onChange:e=>o("color",e),onReset:()=>a("color"),showReset:!0})),Object(l.createElement)(Ae.RangeWithUnitControl,{label:Object(S.__)("Size","kubio"),units:zt,optionsByUnit:Gt,onChange:e=>o("size",e),value:n("size"),onReset:()=>a("size")}),Object(l.createElement)($t,{getTypography:n,setTypography:o,unsetTypography:a,showTransform:!0}))},Wt=()=>{const[e,t]=Object(l.useState)(""),{getTypography:n,setTypography:o,unsetTypography:a}=Ut("a");return Object(l.createElement)(l.Fragment,null,Object(l.createElement)(j.BaseControl,null,Object(l.createElement)(j.Flex,{className:"kubio-font-family-container"},Object(l.createElement)(j.FlexBlock,null,Object(l.createElement)("span",{className:"kubio-font-family-label"},Object(S.__)("Font family","kubio"))),Object(l.createElement)(j.FlexItem,null,Object(l.createElement)(Ae.FontPicker,{label:Object(S.__)("Font family","kubio"),value:n("family"),onChange:e=>o("family",e)}))),Object(l.createElement)(Ae.GutentagSelectControl,{label:Object(S.__)("Font Weight","kubio"),options:Ft,value:parseInt(n("weight")),onChange:e=>o("weight",e)}),Object(l.createElement)(Ae.RangeWithUnitControl,{label:Object(S.__)("Size","kubio"),units:zt,value:n("size"),onChange:e=>o("size",e),onReset:()=>a("size")}),Object(l.createElement)(j.BaseControl,{label:Object(S.__)("State","kubio")},Object(l.createElement)(Pt.StatesControl,{activeState:e,setActiveState:t,availableStates:["normal","hover","visited"]})),Object(l.createElement)(Ae.InlineLabeledControl,{label:Object(S.__)("Color","kubio")},Object(l.createElement)(Ae.ColorIndicatorPopover,{color:n("color","",{state:e}),onChange:t=>o("color",t,{state:e}),onReset:()=>{a("color",{state:e})},showReset:!0})),Object(l.createElement)(Ae.GutentagSelectControl,{label:Object(S.__)("Decoration","kubio"),options:Vt,value:n("decoration","",{state:e}),onChange:t=>o("decoration",t,{state:e})}),Object(l.createElement)(Ae.SeparatorHorizontalLine,null),Object(l.createElement)($t,{getTypography:n,setTypography:o,unsetTypography:a,showTransform:!0,showDecoration:!1})))},qt=()=>{const[e,t]=Object(l.useState)("h1"),n=Object(y.useSelect)((e=>{var t,n;return(null===(t=e("kubio/edit-site"))||void 0===t||null===(n=t.getSettings())||void 0===n?void 0:n.isKubioTheme)||null}));return Object(l.createElement)(l.Fragment,null,Object(l.createElement)(j.PanelBody,{initialOpen:!1,title:Object(S.__)("Headings","kubio")},Object(l.createElement)(Ae.ToggleGroup,{label:Object(S.__)("Setup Headings","kubio"),options:Mt.headingType.options,value:e,onChange:t}),Object(l.createElement)(Yt,{element:e})),Object(l.createElement)(j.PanelBody,{initialOpen:!1,title:Object(S.__)("Body Text","kubio")},Object(l.createElement)(Yt,{element:"p"})),Object(l.createElement)(j.PanelBody,{initialOpen:!1,title:Object(S.__)("Lead Text","kubio")},Object(l.createElement)(Yt,{element:"lead"})),Object(l.createElement)(j.PanelBody,{initialOpen:!1,title:Object(S.__)("Links","kubio")},Object(l.createElement)(Wt,null)),Object(l.createElement)(j.PanelBody,{initialOpen:!1,title:Object(S.__)("Adobe TypeKit","kubio")},Object(l.createElement)(Ae.TypeKitSetupInterface,{showNotice:!0})),Object(l.createElement)(j.PanelBody,{initialOpen:!1,title:Object(S.__)("Google Fonts Settings","kubio")},Object(l.createElement)(Lt,{showNotice:!0})),!n&&Object(l.createElement)(Ae.ControlNotice,{className:"notice-general-settings",content:Object(S.__)("These settings are applied to Kubio blocks and the blocks within.","kubio")}))},Xt=e=>{let{areaIdentifier:t}=e;return Object(y.useSelect)((e=>e(m.STORE_KEY).isEditorSidebarOpened(t)),[])?Object(l.createElement)(qt,null):Object(l.createElement)(l.Fragment,null)};var Qt=e=>{let{parentAreaIdentifier:t}=e;return Object(l.createElement)(ye,{title:Object(S.__)("Typography","kubio"),parentAreaIdentifier:t,areaIdentifier:`${t}/typography`},Object(l.createElement)(Xt,{areaIdentifier:`${t}/typography`}))};const Zt=()=>{const{logoImage:e,alternateLogoImage:t,setLogoImage:n,setAlternateLogoImage:o}=Object(f.useSiteLogoImages)(),[a,r]=Object(v.useEntityProp)("root","site","title"),[i,c]=Object(v.useEntityProp)("root","site","description"),[s,u]=Object(v.useEntityProp)("root","site","site_icon"),{siteIconUrl:b}=Object(y.useSelect)((e=>{var t;const{getMedia:n}=e("core");return{siteIconUrl:(null===(t=n(s))||void 0===t?void 0:t.source_url)||""}}));return Object(l.createElement)(j.PanelBody,{title:Object(S.__)("Site Identity","kubio"),className:"kubio-site-identity-panel"},Object(l.createElement)(j.BaseControl,{label:Object(S.__)("Site title","kubio"),id:"site-title-control"},Object(l.createElement)(Ae.InputControl,{value:a||"",onChange:e=>r(e)})),Object(l.createElement)(j.BaseControl,{label:Object(S.__)("Tagline","kubio"),id:"tagline-control"},Object(l.createElement)(Ae.InputControl,{value:i||"",onChange:e=>c(e)})),Object(l.createElement)(Ae.SeparatorHorizontalLine,null),Object(l.createElement)(j.BaseControl,{label:Object(S.__)("Logo image","kubio"),id:"logo-image-control"},Object(l.createElement)(Ae.MediaPicker,{value:e,type:"image",showButton:!0,onReset:()=>{n(null)},buttonLabel:Object(S.__)("Change image","kubio"),removeButtonLabel:Object(S.__)("Reset image","kubio"),onChange:e=>n(e.id)})),Object(l.createElement)(j.BaseControl,{label:Object(S.__)("Alternate logo image","kubio"),id:"alternate-logo-image-control"},Object(l.createElement)(Ae.MediaPicker,{value:t,type:"image",showButton:!0,showRemoveButton:!0,onReset:()=>{o(null)},buttonLabel:Object(S.__)("Change alternate image","kubio"),removeButtonLabel:Object(S.__)("Reset image","kubio"),onChange:e=>o(e.url)})),Object(l.createElement)(Ae.SeparatorHorizontalLine,null),Object(l.createElement)(j.BaseControl,{label:Object(S.__)("Site Icon","kubio"),id:"site-icon-control",help:Object(S.__)("Site Icons are what you see in browser tabs, bookmark bars, and within the WordPress mobile apps. Upload one here!","kubio")},Object(l.createElement)(Ae.MediaPicker,{value:""!==b?b:null,type:"image",showButton:!0,showRemoveButton:!0,onReset:()=>{u(null)},buttonLabel:Object(S.__)("Set site icon","kubio"),onChange:e=>u(e.id)})))},Jt=e=>{let{areaIdentifier:t}=e;const n=Object(y.useSelect)((e=>e(m.STORE_KEY).getEditorOpenedSidebar()),[]),o=null==n?void 0:n.endsWith(t);return Object(l.createElement)(l.Fragment,null,o&&Object(l.createElement)(Zt,null))};function en(e){let{parentAreaIdentifier:t}=e;return Object(l.createElement)(ye,{title:Object(S.__)("Site Identity","kubio"),parentAreaIdentifier:t,areaIdentifier:`${t}/site-identity`},Object(l.createElement)(Jt,{areaIdentifier:`${t}/site-identity`}))}const tn=()=>{const{globalStyle:e,getPropDefaultGlobalValue:t,getStyleDefaultGlobalValue:n}=Object(f.useGlobalDataStyle)(),o=(t,n,o)=>e.getPropInMedia(t,n,{...o}),a=(t,n)=>o=>e.setPropInMedia(t,o,{...n}),r=function(n){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return()=>{const a=t(n,o);e.setPropInMedia(n,a,o)}},i={styledComponent:"sectionSpacing"};return Object(l.createElement)(l.Fragment,null,Object(l.createElement)(j.PanelBody,{initialOpen:!0,title:Object(S.__)("Spacing","kubio")},Object(l.createElement)(Ae.RangeWithUnitControl,{label:Object(S.__)("Horizontal space between buttons/links","kubio"),units:Ae.sizeUnitsOptions,onChange:a("hSpace"),value:o("hSpace",{unit:"px"}),onReset:r("hSpace")}),Object(l.createElement)(Ae.RangeWithUnitControl,{label:Object(S.__)("Column contents vertical spacing","kubio"),units:Ae.sizeUnitsOptions,onChange:a("vSpace"),value:o("vSpace",{unit:"px"}),onReset:r("vSpace")}),Object(l.createElement)(Ae.RangeWithUnitControl,{label:Object(S.__)("Section vertical spacing","kubio"),units:Ae.sizeUnitsOptions,value:e.getStyle("padding.top",{unit:"px"},i),onChange:t=>{e.setStyle("padding.top",t,i),e.setStyle("padding.bottom",t,i)},onReset:()=>{const t=n("padding.top",i);e.setStyle("padding.top",t,i);const o=n("padding.bottom",i);e.setStyle("padding.bottom",o,i)}})))},nn=e=>{let{areaIdentifier:t}=e;const n=Object(y.useSelect)((e=>e(m.STORE_KEY).isEditorSidebarOpened(t)),[]),o=Object(y.useSelect)((e=>{var t,n;return(null===(t=e("kubio/edit-site"))||void 0===t||null===(n=t.getSettings())||void 0===n?void 0:n.isKubioTheme)||null}));return n&&Object(l.createElement)(l.Fragment,null,Object(l.createElement)(tn,null),!o&&Object(l.createElement)(Ae.ControlNotice,{className:"notice-general-settings",content:Object(S.__)("These settings are applied to Kubio blocks and the blocks within.","kubio")}))};var on=e=>{let{parentAreaIdentifier:t}=e;return Object(l.createElement)(ye,{title:Object(S.__)("Global Spacing","kubio"),label:Object(S.__)("Spacing","kubio"),parentAreaIdentifier:t,areaIdentifier:`${t}/spacing`},Object(l.createElement)(nn,{areaIdentifier:`${t}/spacing`}))};const an=e=>{let{type:t}=e;const{templateOptions:n,templatePartsOptions:o,config:a,getTemplatePartBlockByTemplateId:r,getTemplatePartSlugByTemplateId:i,onChangeTemplatePartSlugByTemplateId:s}=Object(c.useTemplateData)(t),u=d.a.capitalize(d.a.get(a,"label","Part")),{coreTemplateOptions:b,customTemplateOptions:p}=Object(c.useDeepMemo)((()=>({coreTemplateOptions:n.filter((e=>e.isCoreTemplate)),customTemplateOptions:n.filter((e=>!e.isCoreTemplate))})),[n]),m={getTemplatePartSlugByTemplateId:i,onChangeTemplatePartSlugByTemplateId:s,getTemplatePartBlockByTemplateId:r,typeLabel:u,templatePartsOptions:o},O=p.length>0;return Object(l.createElement)(j.PanelBody,{title:u,initialOpen:!1},Object(l.createElement)("div",{className:"kubio-general-setting-templates"},Object(l.createElement)(rn,Object(fe.a)({label:Object(S.__)("System templates","kubio"),templateOptions:b},m)),O&&Object(l.createElement)(l.Fragment,null,Object(l.createElement)(Ae.SeparatorHorizontalLine,null),Object(l.createElement)(rn,Object(fe.a)({label:Object(S.__)("Custom templates","kubio"),templateOptions:p},m)))))};function rn(e){let{label:t=Object(S.__)("Templates","kubio"),templateOptions:n=[],getTemplatePartSlugByTemplateId:o,getTemplatePartBlockByTemplateId:a,onChangeTemplatePartSlugByTemplateId:r,typeLabel:i,templatePartsOptions:c}=e;return Object(l.createElement)(j.BaseControl,null,Object(l.createElement)(j.BaseControl.VisualLabel,{className:"kubio-template-list__label"},t),n.map((e=>{const t=o(e.value),n=!!a(e.value);return Object(l.createElement)("div",{key:e.value+n,className:"kubio-general-setting-templates__item-container"},n&&Object(l.createElement)(Ae.GutentagSelectControl,{inlineLabel:!1,label:e.label,options:c,value:t,onChange:r(e.value)}),!n&&Object(l.createElement)(j.BaseControl,{className:"kubio-general-setting-templates__not-found-notice"},Object(l.createElement)(j.BaseControl.VisualLabel,null,e.label),Object(l.createElement)(Ae.ControlNotice,{showLabel:!1,content:Object(S.sprintf)(// translators: %s template type label
Object(S.__)("%s block not found in template","kubio"),i)})))})))}const ln=e=>{let{areaIdentifier:t}=e;const n=Object(y.useSelect)((e=>e(m.STORE_KEY).isEditorSidebarOpened(t)),[]);return Object(l.createElement)(l.Fragment,null,n&&Object(l.createElement)(l.Fragment,null,Object(l.createElement)(an,{type:"header"}),Object(l.createElement)(an,{type:"footer"}),Object(l.createElement)(an,{type:"sidebar"})))};var cn=e=>{let{parentAreaIdentifier:t}=e;return Object(y.useSelect)((e=>{var t,n;return null===(t=e("kubio/edit-site"))||void 0===t||null===(n=t.getSettings())||void 0===n?void 0:n.isKubioTheme}))?Object(l.createElement)(ye,{title:Object(S.__)("Templates","kubio"),parentAreaIdentifier:t,areaIdentifier:`${t}/templates`},Object(l.createElement)(ln,{areaIdentifier:`${t}/templates`})):null};function sn(e){let{parentAreaIdentifier:t}=e;const n=`${t}/general-settings`;return Object(l.createElement)(l.Fragment,null,Object(l.createElement)(ye,{title:Object(S.__)("General Settings","kubio"),areaIdentifier:n},Object(l.createElement)(en,{parentAreaIdentifier:n}),Object(l.createElement)(Qt,{parentAreaIdentifier:n}),Object(l.createElement)(Bt,{parentAreaIdentifier:n}),Object(l.createElement)(cn,{parentAreaIdentifier:n}),Object(l.createElement)(xt,{parentAreaIdentifier:n}),Object(l.createElement)(on,{parentAreaIdentifier:n}),Object(l.createElement)(Ct,{parentAreaIdentifier:n}),Object(l.createElement)(jt,{parentAreaIdentifier:n})))}const un=e=>{let{addItem:t}=e;const[n,o]=Object(l.useState)(!1),[a,r]=Object(l.useState)(Object(qe.generateItemInitialData)()),i=Object(l.useRef)(null);return Object(l.createElement)("div",{ref:i},Object(l.createElement)(j.Button,{onClick:()=>o(!0),className:"kubio-button-100",isPrimary:!0},Object(S.__)("Add menu item","kubio")),n&&Object(l.createElement)(j.Popover,{position:"middle left",className:"kubio-options-popover",onClose:()=>{o(!1)},anchorRef:i.current},Object(l.createElement)(Ae.MenuItemOptions,{item:a,isAdd:!0,onChange:e=>{t(e),o(!1),r(Object(qe.generateItemInitialData)())},afterUpdateClick:()=>o(!1),updateLabel:Object(S.__)("Add item","kubio")})))},bn=e=>{let{item:t,onItemChange:n,onRemoveItem:o,onTogglePopover:a}=e;const[r,i]=Object(l.useState)(t);Object(l.useEffect)((()=>{i(t)}),[t]);const c=e=>{const t={...r,...e};i(t),n(t)},s=Object(l.useRef)();return Object(l.createElement)("div",{ref:s},Object(l.createElement)(j.Flex,{className:"kubio-inspector-menu-item-content"},Object(l.createElement)(j.FlexBlock,null,Object(l.createElement)(j.Tooltip,{text:Object(Ne.stripTags)(r.label)},Object(l.createElement)("span",{className:"kubio-inspector-menu-item-label"},Object(Ne.stripTags)(r.label)))),Object(l.createElement)(j.FlexItem,{className:"kubio-inspector-menu-items-settings"},Object(l.createElement)(j.Flex,{gap:1},Object(l.createElement)(j.FlexItem,null,Object(l.createElement)(j.Button,{className:"kubio-inspector-menu-remove-item",isSmall:!0,iconSize:18,onClick:()=>o(r),icon:Ee.DeleteItemIcon})),Object(l.createElement)(j.FlexItem,null,Object(l.createElement)(Ae.PopoverOptionsButton,{iconSize:18,popoverClass:"kubio-menu-edit-popover",popoverAnchorRef:s,popupContent:e=>Object(l.createElement)(Ae.MenuItemOptions,{item:r,onChange:c,afterUpdateClick:e}),onPopoverClose:()=>a(!1),onPopoverOpen:()=>a(!0)}))))))},dn=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.filter((e=>e.parent===t)).map((t=>({...t,children:t.id?dn(e,t.id):[]})))},pn=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.map(((e,n)=>[{...Object(b.omit)(e,["children","block"]),order:n+1,parent:t},...pn(e.children||[],e.id)])).reduce(((e,t)=>e.concat(t)),[])},mn=e=>{let{items:t=[],setItems:n,isResolving:o,hasResolved:a}=e;const[r,i]=Object(l.useState)(-1/0),c=Object(l.useMemo)((()=>dn(t)),[t]),s=Object(l.useCallback)((e=>{n(e,!0)}),[n]),u=Object(l.useCallback)((e=>{let n=Object(b.cloneDeep)(t).filter((t=>t.id!==e.id)).map((t=>(t.parent===e.id&&(t.parent=e.parent),t))),o=0;n=n.map((t=>t.parent===e.parent?(o++,{...t,order:o}):t)),s(n)}),[s]),d=Object(l.useCallback)((e=>{const t=pn(e);s(t)}),[s]),p=Object(l.useCallback)((e=>{if(!e.id)return void console.error("Can not update item without id");const n=Object(b.cloneDeep)(t).map((t=>t.id===e.id?{...t,...e}:t));s(n)}),[s]),m=Object(l.useCallback)((e=>{let{item:t}=e;return Object(l.createElement)(bn,{item:t,onItemChange:p,onRemoveItem:u,onTogglePopover:e=>{i(e?t.id:-1/0)}})}),[i,p,u]),O=c.length>0,f=Object(l.useCallback)((e=>e.id===r),[r]);return Object(l.createElement)(j.BaseControl,null,Object(l.createElement)("div",{className:"kubio-inspector-menu-tree"},o&&Object(l.createElement)(Ae.LoadingPlaceholder,{message:Object(S.__)("Loading menu …","kubio")}),a&&O&&Object(l.createElement)(Ae.SortableTree,{items:c,renderItem:m,handler:!0,collapsable:!1,onChange:d,isActive:f}),a&&!O&&Object(l.createElement)(Ae.SmallPlaceholder,{message:Object(S.__)("Empty menu","kubio")})))},On=e=>{let{menu:t}=e;const{setItems:n,items:o=[],isResolving:a,hasResolved:r}=Object(qe.useMenuBlockEditor)(t.id),i=Object(l.useCallback)((e=>{n([...o,{...e,order:o.length+1}],!0)}),[o]);return Object(l.createElement)(l.Fragment,null,Object(l.createElement)(j.PanelBody,{title:Object(S.__)("Menu Structure","kubio")},Object(l.createElement)(mn,{menuId:t.id,items:o,setItems:n,isResolving:a,hasResolved:r}),Object(l.createElement)(un,{addItem:i})))},fn=e=>{let{menu:t,areaIdentifier:n}=e;const o=Object(y.useSelect)((e=>e(m.STORE_KEY).getEditorOpenedSidebar()));return o&&-1!==o.indexOf(n)&&Object(l.createElement)(On,{menu:t})},gn=e=>{let{parentAreaIdentifier:t,menu:n}=e;const o=`${t}/menu-${n.id}`;return Object(l.createElement)(ye,{title:Object(S.sprintf)(// translators: %s is for the menu name
Object(S.__)("Menu: %s","kubio"),n.name||Object(S.__)("Unnamed menu","kubio")),label:n.name||Object(S.__)("Unnamed menu","kubio"),parentAreaIdentifier:t,areaIdentifier:o},Object(l.createElement)(fn,{areaIdentifier:o,menu:n}))},hn=()=>{const[e,t]=Object(l.useState)(!1),[n,o]=Object(l.useState)(!1),[a,r]=Object(l.useState)(""),i=Object(l.useRef)(),{saveMenu:c}=Object(y.useDispatch)("core"),{createErrorNotice:s,createInfoNotice:b}=Object(y.useDispatch)(u.store),d=Object(l.useCallback)((()=>{n?b(Object(S.__)("Another menu creation is in progress","kubio"),{type:"snackbar"}):(t(!e),r(""))}),[e,t,n]),p=Object(l.useCallback)((async()=>{if(!n){o(!0);try{await c({name:a})}catch(e){s(Object(S.__)("Menu creation failed","kubio"),{type:"snackbar"})}t(!1),o(!1)}}),[t,c,a,n,o]);return Object(l.createElement)(l.Fragment,null,Object(l.createElement)(j.BaseControl,{className:"kubio-create-menu-button"},Object(l.createElement)(j.Button,{onClick:d,isPrimary:!0,className:"kubio-button-100",ref:i,isBusy:n},Object(S.__)("Create menu","kubio"))),e&&Object(l.createElement)(j.Popover,{position:"middle left",className:"kubio-options-popover",anchorRef:i.current,onClose:()=>t(!1)},Object(l.createElement)("div",null,Object(l.createElement)(j.BaseControl,null,Object(l.createElement)(Ae.InputControl,{label:Object(S.__)("Menu name","kubio"),onChange:r,value:a,disabled:n})),Object(l.createElement)(j.BaseControl,null,Object(l.createElement)(j.Button,{onClick:p,isPrimary:!0,disabled:n,isBusy:n,className:"kubio-button-100"},Object(S.__)("Create menu","kubio"))))))},jn=e=>{let{areaIdentifier:t}=e;const{menus:n}=Object(y.useSelect)((e=>{const{getMenus:t,isResolving:n,hasFinishedResolution:o}=e("core"),a=[{per_page:-1}];return{menus:t(...a),isResolvingMenus:n("getMenus",a),hasResolvedMenus:o("getMenus",a)}}));return Object(l.createElement)(l.Fragment,null,null==n?void 0:n.map((e=>Object(l.createElement)(gn,{key:e.id,parentAreaIdentifier:t,menu:e}))))};function En(e){let{parentAreaIdentifier:t}=e;const n=`${t}/menus-settings`;return Object(l.createElement)(l.Fragment,null,Object(l.createElement)(ye,{title:Object(S.__)("Menus","kubio"),areaIdentifier:n},Object(l.createElement)(jn,{areaIdentifier:n}),Object(l.createElement)(hn,null)))}var vn=function(){return Object(l.createElement)(k.PostTypeSupportCheck,{supportKeys:["comments","trackbacks"]},Object(l.createElement)(j.PanelBody,{title:Object(S.__)("Discussion","kubio")},Object(l.createElement)(k.PostTypeSupportCheck,{supportKeys:"comments"},Object(l.createElement)(j.PanelRow,null,Object(l.createElement)(k.PostComments,null))),Object(l.createElement)(k.PostTypeSupportCheck,{supportKeys:"trackbacks"},Object(l.createElement)(j.PanelRow,null,Object(l.createElement)(k.PostPingbacks,null)))))},_n=n(206);const yn=Object(y.withSelect)((e=>{const{getCurrentPostType:t}=e(_n.STORE_KEY),{getPostType:n}=e(v.store);return{postType:n(t())}}));var kn=Object(E.compose)(yn)((function(e){let{postType:t}=e;return Object(l.createElement)(k.PostFeaturedImageCheck,null,Object(l.createElement)(j.PanelBody,{title:Object(b.get)(t,["labels","featured_image"],Object(S.__)("Featured image","kubio"))},Object(l.createElement)(k.PostFeaturedImage,null)))}));var Sn=function(){const{postType:e}=Object(y.useSelect)((e=>{const{getCurrentPostType:t}=e(_n.STORE_KEY),{getPostType:n}=e(v.store);return{postType:n(t())}}),[]);return e?Object(l.createElement)(k.PageAttributesCheck,null,Object(l.createElement)(j.PanelBody,{title:Object(b.get)(e,["labels","attributes"],Object(S.__)("Page attributes","kubio"))},Object(l.createElement)(k.PageAttributesParent,null),Object(l.createElement)(j.PanelRow,null,Object(l.createElement)(k.PageAttributesOrder,null)))):null};var Tn=function(){return Object(l.createElement)(k.PostExcerptCheck,null,Object(l.createElement)(j.PanelBody,{title:Object(S.__)("Excerpt","kubio")},Object(l.createElement)(k.PostExcerpt,null)))};var xn=Object(E.compose)([Object(y.withSelect)((e=>{const{isPermalinkEditable:t,getCurrentPost:n,isCurrentPostPublished:o,getPermalinkParts:a,getEditedPostAttribute:r,getEditedPostSlug:i}=e(k.store),{getPostType:l}=e(v.store),{link:c}=n(),s=l(r("type")),u=a();return{postLink:c,isEditable:t(),isPublished:o(),isViewable:Object(b.get)(s,["viewable"],!1),postSlug:Object(ge.safeDecodeURIComponent)(i()),postTypeLabel:Object(b.get)(s,["labels","view_item"]),hasPermalinkParts:!!u,permalinkPrefix:null==u?void 0:u.prefix,permalinkSuffix:null==u?void 0:u.suffix}})),Object(E.ifCondition)((e=>{let{isEnabled:t,postLink:n,isViewable:o,hasPermalinkParts:a}=e;return t&&n&&o&&a}))])((function(e){let{postLink:t,permalinkPrefix:n,permalinkSuffix:o,editPermalink:a,postSlug:r,postTypeLabel:i,isEditable:c}=e;const[s,u]=Object(l.useState)(!1);let b,d,p;return c&&(b=n&&Object(l.createElement)("span",{className:"edit-post-post-link__link-prefix"},n),d=r&&Object(l.createElement)("span",{className:"edit-post-post-link__link-post-name"},r),p=o&&Object(l.createElement)("span",{className:"edit-post-post-link__link-suffix"},o)),Object(l.createElement)(j.PanelBody,{title:Object(S.__)("Permalink","kubio")},c&&Object(l.createElement)("div",{className:"editor-post-link"},Object(l.createElement)(Ae.InputControl,{label:Object(S.__)("URL Slug","kubio"),value:s?"":r,onChange:e=>{a(e),e?s&&u(!1):s||u(!0)},onBlur:e=>{a(Object(k.cleanForSlug)(e.target.value)),s&&u(!1)}}),Object(l.createElement)("p",null,Object(S.__)("The last part of the URL.","kubio")," ",Object(l.createElement)(j.ExternalLink,{href:"https://wordpress.org/support/article/writing-posts/#post-field-descriptions"},Object(S.__)("Read about permalinks","kubio")))),Object(l.createElement)("h3",{className:"edit-post-post-link__preview-label"},i||Object(S.__)("View post","kubio")),Object(l.createElement)("div",{className:"edit-post-post-link__preview-link-container"},Object(l.createElement)(j.ExternalLink,{className:"edit-post-post-link__link",href:t,target:"_blank"},c?Object(l.createElement)(l.Fragment,null,b,d,p):t)))}));var wn=function(e){let{taxonomy:t,children:n}=e;const o=Object(b.get)(t,["labels","menu_name"]);return o?Object(l.createElement)(j.PanelBody,{title:o},n):null};var In=function(){return Object(l.createElement)(k.PostTaxonomiesCheck,null,Object(l.createElement)(k.PostTaxonomies,{taxonomyWrapper:(e,t)=>Object(l.createElement)(wn,{taxonomy:t},e)}))};function Cn(e){let{layoutBlock:t}=e;const n=Object(c.useColibriDataHooks)(),o=Object(c.getColibriData)({clientId:null==t?void 0:t.clientId,autoSave:!0,loadColibriData:!0},n),a=Object(Ge.useQueryLayout)(o);return Object(l.createElement)(Ae.SelectWithIconControl,Object(fe.a)({label:Object(S.__)("Layout","kubio")},a))}var Pn=Object(E.compose)([Object(y.withSelect)((e=>{const{getPage:t=d.a.noop}=e("kubio/edit-site")||{};return{currentPage:t()}}))])((function(e){const{currentPage:t}=e,{getBlocks:n}=Object(y.useSelect)("core/block-editor"),o=d.a.get(t,["context","postId"]),[a,r]=Object(l.useState)();return Object(l.useEffect)((()=>{const e=n(),t=Object(Ne.findBlockByName)(e,"kubio/query-layout");r(t)}),[o]),a?Object(l.createElement)(j.PanelBody,{title:Object(S.__)("Blog layout","kubio"),initialOpen:!0},Object(l.createElement)(Cn,Object(fe.a)({},e,{layoutBlock:a}))):null}));var Rn=function(e){let{onNewTemplate:t}=e;const[n,o]=Object(l.useState)(!1);return Object(l.createElement)(l.Fragment,null,Object(l.createElement)("div",{className:"edit-post-template__actions"},Object(l.createElement)(_t.ProItem,{tag:j.Button,isPrimary:!0,onClick:()=>o(!0),urlArgs:{source:"template",content:"create-new"}},Object(S.__)("Create new template","kubio")),n&&Object(l.createElement)(Ae.TemplateWizard,{onNewTemplate:t,onClose:()=>{o(!1)}})))};var An=function(){const{currentPostType:e,currentTemplate:t,currentTemplateLabel:n,availableTemplates:o}=Object(y.useSelect)((e=>{var t;const{getCurrentPageTemplate:n,getCurrentPostType:o,getAvailablePageTemplates:a}=e(m.STORE_KEY),r=o();let i=n();r===i&&(i="");const l=a();return{currentPostType:r,currentTemplate:i,currentTemplateLabel:(null===(t=Object(b.find)(l,{value:i}))||void 0===t?void 0:t.label)||"",availableTemplates:l}}),[]),{onNewTemplate:a,assignTemplate:r,assignClassicTemplate:i}=Object(c.useTemplateData)("header"),s=Object(c.useDeepMemo)((()=>{const e=o.reduce(((e,t)=>{const n=t.source||"custom";return{...e,[n]:[...e[n]||[],t]}}),{});return m.templateGroupPriorities.map((t=>({label:m.templateGroups[t],items:e[t]}))).filter((e=>{var t;return null===(t=e.items)||void 0===t?void 0:t.length}))}),[o]);return"page"!==e||"front-page"===(null==t?void 0:t.replace(".php",""))?Object(l.createElement)(l.Fragment,null):Object(l.createElement)(j.PanelBody,{title:Object(S.sprintf)(/* translators: %s: template title */Object(S.__)("Template: %s","kubio"),n)},Object(l.createElement)(Ae.GutentagSelectControl,{hideLabelFromVision:!0,label:Object(S.__)("Template:","kubio"),value:t,onChange:async function(e){Object.values(c.defaultTemplatesByPostType).includes(e)&&(e="");const t=o.find((t=>t.value===e));if(!t)return;(null==t?void 0:t.isClassicTemplate)?i(e):r(e)},options:s}),Object(l.createElement)(Rn,{onNewTemplate:a}))};const Nn=["page","post","product"],Bn=e=>{let{areaIdentifier:t}=e;const{currentSidebar:n,isInnerPage:o}=Object(y.useSelect)((e=>({currentSidebar:e(m.STORE_KEY).getEditorOpenedSidebar(),isInnerPage:e(m.STORE_KEY).getIsInnerPage()})),[]),a=null==n?void 0:n.endsWith(t);return Object(l.createElement)("span",{className:"kubio-page-settings"},a&&Object(l.createElement)(l.Fragment,null,Object(l.createElement)(Pn,null),o&&Object(l.createElement)(An,null),Object(l.createElement)(xn,null),Object(l.createElement)(In,null),Object(l.createElement)(kn,null),Object(l.createElement)(Tn,null),Object(l.createElement)(vn,null),Object(l.createElement)(Sn,null)))};function Dn(e){let{parentAreaIdentifier:t}=e;const n=`${t}/page-settings`,{postType:o}=Object(y.useSelect)((e=>{const{getCurrentPostType:t}=e(m.STORE_KEY);return{postType:t()}}),[]);return Nn.includes(o)?Object(l.createElement)(l.Fragment,null,Object(l.createElement)(ye,{title:Object(S.__)("Page Settings","kubio"),areaIdentifier:n},Object(l.createElement)(Bn,{areaIdentifier:n}))):null}var Mn=n(48),Ln=n.n(Mn);const Fn=async()=>await Ln()({path:"kubio/v1/3rd_party_themes/import_blog"}),zn=["home","index","single","search","archive","singular"],Gn=()=>{const e=Object(O.useGetGlobalSessionProp)("ready",!1),t=Object(O.useGetGlobalSessionProp)("urlBasedTemplatesMap",{}),n=Object(O.useSetGlobalSessionProp)("urlBasedTemplatesMap",{}),[o,a]=Object(l.useState)(!1),{getEntity:r,page:i,templateType:c,templateId:s}=Object(y.useSelect)((e=>{const{getEditedEntityRecord:t}=e("core"),{getPage:n,getEditedPostType:o,getEditedPostId:a}=e(m.STORE_KEY);return{getEntity:t,page:n(),templateType:o(),templateId:a()}}),[]);Object(l.useEffect)((()=>{e||a(!1)}),[e]);const u=Object(l.useCallback)((()=>{const e=r("postType",c,s),t=null==e?void 0:e.kubio_template_source;a(!["kubio","kubio-custom"].includes(t))}),[s,c]),b=Object(l.useCallback)((async()=>{if(null==i||!i.path)return;let e=t[null==i?void 0:i.path],o=!0;if(!e&&null!==e){const a=await window.fetch(Object(ge.addQueryArgs)(null==i?void 0:i.path,{"__kubio-classic-page-template-slug":1})).then((e=>e.json()));e=a.data||null,n({...t,[null==i?void 0:i.path]:e}),o=a.success}a(o&&zn.includes(e))}),[i,t]),d=Object(l.useCallback)(((e,t)=>{if(e&&t){var n;const t=null==e||null===(n=e.split("//"))||void 0===n?void 0:n.pop();zn.includes(t)?u():a(!1)}else b()}),[]);return Object(l.useEffect)((()=>{e&&d(s,c)}),[e,s,c]),o},Kn=()=>{const[e,t]=Object(l.useState)(!1),[n,o]=Object(O.useGlobalSessionProp)("thirdPartyBlockInstalled",!1),a=Gn(),{createSuccessNotice:r,createErrorNotice:i}=Object(y.useDispatch)("core/notices"),c=Object(l.useCallback)((async()=>{t(!0);try{await Fn()}catch(e){return void i(Object(S.__)("There was an error while importing the Kubio blog. Please try again","kubio"))}o(!0),r(Object(S.__)("Kubio blog templates were imported successfully! Refresh the editor to enjoy the full site editing experience","kubio"),{isDismissible:!0,actions:[{label:Object(S.__)("Refresh page now","kubio"),onClick:()=>window.location.reload()}]}),t(!1)}),[]);return!a||a&&n?Object(l.createElement)(l.Fragment,null):Object(l.createElement)("div",{className:"kubio-sidebar-blog-area-import"},Object(l.createElement)("h2",null,Object(S.__)("💫 Start with the Kubio blog!","kubio")),Object(l.createElement)("p",null,Object(S.__)("Kubio comes with a fully customizable blog area for your site.","kubio"),Object(l.createElement)("br",null),Object(S.__)("Would you like to use the Kubio blog templates? ","kubio")),Object(l.createElement)(j.Button,{isPrimary:!0,isBusy:e,onClick:c},!e&&Object(S.__)("Import Kubio blog","kubio"),e&&Object(S.__)("Importing Kubio blog…","kubio")))};function Hn(e){let{beforeSectionsList:t,afterSectionsList:n}=e;const o=Re();return Object(l.createElement)(Ie,{title:Object(l.createElement)(l.Fragment,null,Object(l.createElement)("span",{className:"preview-notice"},Object(S.__)("You are editing","kubio")),Object(l.createElement)("span",{className:"panel-title site-title"},Object(Ne.fromHtmlEntities)(o))),areaIdentifier:"document"},t,Object(l.createElement)(Dn,{parentAreaIdentifier:"document"}),Object(l.createElement)(Kn,null),Object(l.createElement)(ft,null),Object(l.createElement)(sn,{parentAreaIdentifier:"document"}),Object(l.createElement)(En,{parentAreaIdentifier:"document"}),n)}const{Slot:Vn,Fill:Un}=Object(j.createSlotFill)("ColibriEditSiteBlockEditorSidebarInspector");const $n=()=>{const{subsidebars:e}=Object(y.useSelect)((e=>({subsidebars:e(m.STORE_KEY).getSubSidebars()})));return Object(O.useGetGlobalSessionProp)("ready",!1)?Object(l.createElement)(l.Fragment,null,Object(l.createElement)(Hn,null),Object(l.createElement)(Pe,null,Object(l.createElement)(Vn,{bubblesVirtually:!0})),Object(b.map)(e,((e,t)=>Object(l.createElement)(l.Fragment,{key:t},e)))):null},Yn=Un;var Wn=n(20);const qn={content:Object(l.createElement)(Wn.ContentBlockInspector,null),style:Object(l.createElement)(Wn.StyleBlockInspector,null),advanced:Object(l.createElement)(Wn.AdvancedStyleBlockInspector,null)},Xn=Object(Ge.getNamesOfBlocks)(),Qn=[Xn.HEADER,Xn.FOOTER,Xn.QUERY_LAYOUT,Xn.HERO,Xn.SECTION,Xn.ROW,Xn.COLUMN,Xn.QUERY,Xn.LOOP,Xn.LOOP_ITEM],Zn=[{name:"content",title:()=>{const e=Object(y.useSelect)((e=>{var t;return null===(t=e("core/block-editor").getSelectedBlock())||void 0===t?void 0:t.name}));let t=Object(S.__)("Layout","kubio");return-1===Qn.indexOf(e)&&(t=Object(S.__)("Content","kubio")),Object(l.createElement)("span",{className:"kubio-tab-panel"},Object(l.createElement)(ve.a,{icon:Ee.LayoutIcon}),Object(l.createElement)("span",{className:"kubio-tab-panel-text"},t))},className:"tab-content"},{name:"style",title:()=>Object(l.createElement)("span",{className:"kubio-tab-panel"},Object(l.createElement)(ve.a,{icon:Ee.StyleIcon}),Object(l.createElement)("span",{className:"kubio-tab-panel-text"},Object(S.__)("Style","kubio"))),className:"tab-style"},{name:"advanced",title:()=>Object(l.createElement)("span",{className:"kubio-tab-panel"},Object(l.createElement)(ve.a,{icon:Ee.AdvancedIcon}),Object(l.createElement)("span",{className:"kubio-tab-panel-text"},Object(S.__)("Advanced","kubio"))),className:"tab-advanced"}];var Jn=Object(E.compose)(Object(y.withSelect)((e=>{const{getSelectedBlockClientId:t}=e("core/block-editor");return{selectedBlockClientId:t()}})))((e=>{let{selectedBlockClientId:t}=e;const[n,o]=Object(Wn.useCurrentInspectorTab)();return t&&Object(l.createElement)(l.Fragment,null,Object(l.createElement)(Ae.TabPanel,{className:"kubio-advanced-block-inspector",currentTab:n,onSelect:o,tabs:Zn},(e=>Object(l.createElement)("div",{className:"kubio-block-inspector-tab-content"},Object(l.createElement)(Wn.BlockInspectorTopControls.Slot,{bubblesVirtually:!0}),qn[e.name]))))})),eo=n(9);const to="editor-styles-wrapper",no="wp-editor-classic-layout-styles";const oo=e=>{if("BUTTON"===e.nodeName){const t=["forminator-ui","wpcf7-form ","wpforms-form","mc4wp-form"],n=e.closest("form"),o=t.some((e=>{var t;return null==n||null===(t=n.classList)||void 0===t?void 0:t.contains(e)}));if(n&&!n.getAttribute("action")&&!o)return}e.addEventListener("click",(e=>{e.preventDefault()}))};const ao=Object(l.forwardRef)((function(e,t){let{contentRef:n,children:o,head:a,headHTML:r,contentHolderSelector:i,assetsHolderSelector:s,src:u,onLoad:d=b.noop,execStylesheetCompat:p=!0,...f}=e;const[g,h]=Object(l.useState)(),[j,v]=Object(l.useState)(),_=Object(O.useCurrentPageBodyClasses)(),k=Object(O.useSetGlobalSessionProp)("ownerDocument"),T=Object(O.useSetGlobalSessionProp)("blockEditorRootClasses",""),x=Object(O.useGetGlobalSessionProp)("ready",!1),{currentTheme:w,currentTemplateSource:I}=Object(y.useSelect)((e=>{const{getCurrentTheme:t}=e("core"),{getCurrentKubioTemplateSource:n}=e(m.STORE_KEY);return{currentTheme:t(),currentTemplateSource:n()}}),[]);Object(l.useEffect)((()=>{g&&(x?g.defaultView.postMessage("kubio-editor-content-ready"):g.defaultView.postMessage("kubio-editor-content-changed"))}),[x,g]),Object(l.useEffect)((()=>{!x&&u&&(h(null),v(null),k(window.document),Object(eo.removeStyleManager)(g))}),[x,u]),Object(l.useEffect)((()=>{if(!x||!g)return;let e=!1;const t=x&&u&&g;x&&!u&&g&&["kubio-custom","kubio"].includes(I)&&(e=!0),["kubio-custom","kubio"].includes(I)?(e=>{let t=e.querySelector(".kubio-block-vars-reset");t||(t=e.createElement("style"),t.classList.add("kubio-block-vars-reset"),t.textContent="\n\t\t:root,\n\t\tbody,\n\t\tbody *,\n\t\t.editor-styles-wrapper .block-editor-block-list__layout.is-root-container > *\n\t\t{\n\t\t\t--wp--style--block-gap:0;\n\t\t\t--global-content-width: unset;\n\t\t}",e.head.appendChild(t))})(g):(e=>{const t=e.querySelector(".kubio-block-vars-reset");var n;t&&(null==t||null===(n=t.remove)||void 0===n||n.call(t))})(g);g.querySelectorAll([`link[href*="/${w.template}/"]`,`link[href*="/${w.stylesheet}/"]`].join(",")).forEach((t=>{const n=null==t?void 0:t.id.replace(/(.*?)-css$/,"$1");n&&g.querySelectorAll(`style[id*="${n}-"]`).forEach((t=>{t.sheet&&(t.sheet.disabled=e)})),t.sheet&&(t.sheet.disabled=e)}));g.querySelectorAll(["wp-reset-editor-styles-css","wp-editor-classic-layout-styles-css","common-css","forms-css"].map((e=>`link#${e}`))).forEach((e=>{e.sheet&&(e.sheet.disabled=t)}))}),[x,u,w,I,g]),Object(l.useEffect)((()=>{if(g&&_.length){const e=Array.from(g.body.classList);g.body.setAttribute("class",Object(b.uniq)(e.concat(_)).join(" "))}}),[g,_]);const[,C]=Object(O.useGlobalSessionProp)("blocksOwnerDocument",null,[]),[,P]=Object(O.useGlobalSessionProp)("currentPageHasBlocksContent",null,[]),R=Object(l.useCallback)((e=>{function t(){const{contentDocument:t}=e,{readyState:o,body:a}=t;if("complete"!==o)return!1;"function"==typeof n?n(a):n&&(n.current=a);const l=["a",'[type="submit"]',"form button"];new t.defaultView.MutationObserver((function(e){Object(b.each)(e,(function(e){e.target.querySelectorAll(l.join(",")).forEach(oo)}))})).observe(t,{childList:!0,subtree:!0}),t.querySelectorAll(l.join(",")).forEach(oo),p&&function(e){const t=new Map;Array.from(document.styleSheets).forEach((n=>{try{n.cssRules}catch(e){return}const{ownerNode:o,cssRules:a}=n;a&&Array.from(a).find((e=>{let{selectorText:t}=e;return t&&(t.includes(`.${to}`)||t.includes(".wp-block"))}))&&!t.has(o)&&(o.id&&-1!==o.id.indexOf(no)||o.href&&-1!==o.href.indexOf(no)?e.head.prepend(o.cloneNode(!0)):e.head.appendChild(o.cloneNode(!0)),t.set(o,!0))}))}(t),t.defaultView.isKubioBlockEditor=!0,t.defaultView.isInsideIframe=!0,function(e,t){e.head.innerHTML="<style>/* head style start */</style>"+t+"<style>/* head style end */</style><style>*{scroll-behavior: auto !important;}</style>"+e.head.innerHTML}(t,r),function(e){const{defaultView:t}=e,{frameElement:n}=t;function o(e){const{keyCode:o,ctrlKey:a,metaKey:r}=e;if((65===o||95===o)&&(a||r)){const t=e.target.hasAttribute("contenteditable")?e.target:e.target.closest("[contenteditable]");if(t)return((e,t)=>(t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation(),e&&e.ownerDocument.execCommand("selectAll",!1,null),!1))(t,e)}const i=Object.getPrototypeOf(e).constructor.name,l=window[i],c={};for(const t in e)c[t]=e[t];if(e instanceof t.MouseEvent){const e=n.getBoundingClientRect();c.clientX+=e.left,c.clientY+=e.top}const s=new l(e.type,c);!n.dispatchEvent(s)&&e.preventDefault()}const a=["keydown","keypress","dragover"];for(const t of a)e.addEventListener(t,o)}(t),h(t),k(t);let c=i&&t.querySelector(i),s="";if(i&&c){const e=c.parentElement;1===e.children.length&&(c.remove(),c=e),s=c.getAttribute("class"),c.setAttribute("class","kubio-hybrid-template-content-edit")}T(s);let m=t.body;return c?m=c:(u||i)&&(m.classList.add("kubio-hybrid-no-block-content"),P(!1)),m.classList.add(to),m.classList.add("wp-embed-responsive"),d(e,t),v(m),C(t),!0}e&&(e.contentDocument.body.parentElement.className="kubio-iframe",u?e.addEventListener("load",(()=>{t()})):t()||e.addEventListener("load",(()=>{t()})))}),[]),A=Object(l.useMemo)((()=>{if(!g)return!1;return s&&g.querySelector(s)||g.head}),[s,g]),N=Object(l.useMemo)((()=>({ownerDocument:g||window.document})),[g]);return Object(l.createElement)(c.OwnerDocumentContext.Provider,{value:N},Object(l.createElement)("iframe",Object(fe.a)({},f,{ref:Object(E.useMergeRefs)([t,R]),tabIndex:"0",title:Object(S.__)("Editor canvas","kubio"),className:"kubio-iframe",name:"editor-canvas",src:u}),j&&Object(l.createPortal)(o,j),A&&Object(l.createPortal)(a,A)))})),ro=async(e,t)=>new Promise((n=>{if(-1!==Array.from(e.ownerDocument.querySelectorAll("script[src]")).map((e=>e.src)).indexOf(t))return;const o=e.ownerDocument.createElement("script");o.async=!0,o.src=t,e.appendChild(o),o.addEventListener("load",n)})),io=Object(b.debounce)((async(e,t,n)=>{for(n(),t=Object(b.cloneDeep)(t);t.length;){const n=t.shift();await ro(e,n)}}),1e3),lo=e=>{let{children:t,className:n}=e;const o=Object(l.useRef)();Object(l.useLayoutEffect)((()=>{const e=o.current;if(e){var t;const n=null===(t=e.ownerDocument.querySelector("#kubio-scripts-template"))||void 0===t?void 0:t.content.querySelectorAll("script");n&&((e,t)=>{let n=null;n=Object(y.subscribe)((()=>io(e,t,n)))})(e.ownerDocument.head,Array.from(n).map((e=>{let{src:t}=e;return t})).filter(Boolean))}}),[o.current]);const a=Object(y.useSelect)((e=>{var t;const{getSettings:n}=e(h.store);return null===(t=n())||void 0===t?void 0:t.supportsLayout}),[]),r=Object(h.useSetting)("layout")||{},{contentSize:i,wideSize:c}=r,s={type:"default",alignments:Object(l.useMemo)((()=>{const e=["left","center","right"];return i&&e.push("full"),c&&e.push("wide"),a?e:void 0}),[a,i,c])};return Object(l.createElement)(l.Fragment,null,Object(l.createElement)("div",{ref:o}),Object(l.createElement)(h.WritingFlow,null,Object(l.createElement)(h.BlockList,{__experimentalLayout:s,className:w()(n,"edit-site-block-editor__block-list","kubio-block-editor__block-list"),renderAppender:Ge.KubioBlockAppender}),t))};var co=n(322),so=n.n(co);const uo=()=>Object(l.createElement)("div",{className:"kubio-loading-logo"},Object(l.createElement)(j.Icon,{icon:Ee.KubioLoader})),bo=()=>{const e=Object(l.useRef)();return Object(l.useEffect)((()=>{if(!e.current)return;const t=e.current;t.contentWindow.document.open(),t.contentWindow.document.write(so.a),t.contentWindow.document.close();const n=t.contentDocument||t.contentWindow.document,o=null==n?void 0:n.querySelector("#content");o&&Object(l.render)(Object(l.createElement)(uo,null),o)}),[e.current]),Object(l.createElement)("iframe",{ref:e,className:"kubio-loading-logo-iframe"})},po=(e,t)=>{e&&(t?(e.body.classList.add("kubio-iframe-holder--show"),e.body.classList.remove("kubio-iframe-holder--hide")):(e.body.classList.remove("kubio-iframe-holder--show"),e.body.classList.add("kubio-iframe-holder--hide")))},mo=Object(E.pure)((e=>{let{iframe:t,deviceType:n}=e;const o=Object(h.__experimentalUseResizeCanvas)(n,!0),a=Object(l.useRef)(),r=Object(l.useRef)(),i=Object(E.useMergeRefs)([a,Object(h.__unstableUseTypingObserver)()]);return Object(O.useEditorIsLoadedChanged)((e=>{var t,n;po(null===(t=r.current)||void 0===t?void 0:t.ownerDocument,e),po(null===(n=a.current)||void 0===n?void 0:n.ownerDocument,e)})),Object(l.createElement)(l.Fragment,null,Object(l.createElement)(h.BlockTools,{className:"kubio-block-tools",__unstableContentRef:a},Object(l.createElement)("div",{id:"kubio-editor-view"},Object(l.createElement)("div",{id:"kubio-iframe-holder",className:"editor-styles-wrapper edit-site-block-editor__editor-styles-wrapper",style:o,ref:r},t(i)),Object(l.createElement)(bo,null))))})),Oo="<style>body{width:100%;max-width:100%;overflow-x:hidden;}</style>",fo=Object(E.createHigherOrderComponent)((e=>t=>{const{setOpenInserter:n}=Object(y.useDispatch)(m.STORE_KEY),{settings:o,templateType:a,page:r,deviceType:i,templateId:c}=Object(y.useSelect)((e=>{const{getSettings:t,getTemplateType:o,getTemplateId:a,getPage:r,__experimentalGetPreviewDeviceType:i}=e(m.STORE_KEY);return{settings:t(n),templateType:o(),templateId:a(),page:r(),deviceType:i()}}),[]),s={settings:o,templateType:a,page:r,deviceType:i,templateId:c};return r||a?Object(l.createElement)(e,Object(fe.a)({},t,s)):null}),"currentEditorEntity");var go=Object(E.compose)(fo,E.pure)((function(e){let{settings:t,templateType:n,page:o,deviceType:a,templateId:r}=e;const[i,c,s]=Object(v.useEntityBlockEditor)("postType",n,{id:r}),{setPage:u}=Object(y.useDispatch)(m.STORE_KEY),b=Object(h.__unstableUseMouseMoveTypingReset)(),d=window.__kubioEditorStyles.html+Oo,p=Object(l.useCallback)((e=>Object(l.createElement)(ao,{headHTML:d,ref:b,head:Object(l.createElement)(h.__unstableEditorStyles,{styles:t.styles}),contentRef:e},Object(l.createElement)(lo,null))),[b,d,t.styles]);return Object(l.createElement)(h.BlockEditorProvider,{settings:t,value:i,onInput:c,onChange:s,useSubRegistry:!1},Object(l.createElement)(h.BlockEditorKeyboardShortcuts,null),Object(l.createElement)(h.__experimentalLinkControl.ViewerFill,null,Object(l.useCallback)((e=>Object(l.createElement)(je,Object(fe.a)({},e,{activePage:o,onActivePageChange:u}))),[o])),Object(l.createElement)(Yn,null,Object(l.createElement)(Jn,null)),Object(l.createElement)(mo,{deviceType:a,iframe:p}))}));var ho=function(){var e,t;const{setOpenInserter:n}=Object(y.useDispatch)(m.STORE_KEY),[o,a]=Object(l.useState)({}),{settings:r,page:i,deviceType:c,classicTemplateId:s}=Object(y.useSelect)((e=>{const{getSettings:t,getEntity:o,getPage:a,getClassicTemplateId:r,__experimentalGetPreviewDeviceType:i}=e(m.STORE_KEY);return{settings:{...t(n)},entity:o(),page:a(),classicTemplateId:r(),deviceType:i()}}),[n]);Object(l.useEffect)((()=>{Object(b.isEqual)(i,o)||a(i)}),[i]);const[u,d,p]=Object(v.useEntityBlockEditor)("postType",null==o||null===(e=o.context)||void 0===e?void 0:e.postType,{id:null==o||null===(t=o.context)||void 0===t?void 0:t.postId}),{setPage:f}=Object(y.useDispatch)(m.STORE_KEY),g=Object(h.__unstableUseMouseMoveTypingReset)(),j=Object(O.useSetGlobalSessionProp)("ready"),E=(e,t)=>{t.body.id="kubio",j(!0)},_=window.__kubioEditorStyles.html+Oo,k=Object(O.useGetGlobalSessionProp)("blockEditorRootClasses",""),S=Object(l.useCallback)((e=>(null==o?void 0:o.path)&&Object(l.createElement)(ao,{headHTML:_,ref:g,contentRef:e,src:Object(ge.addQueryArgs)(null==o?void 0:o.path,{"__kubio-site-edit-iframe-preview":!0,"__kubio-site-edit-iframe-classic-template":s}),contentHolderSelector:"#kubio-site-edit-content-holder",assetsHolderSelector:"#kubio-site-edit-assets-holder",onLoad:E,execStylesheetCompat:!1},Object(l.createElement)(lo,{className:k},Object(l.createElement)(Ae.LayoutPicker,null)))),[null==o?void 0:o.path,g,_,_,r.styles,k]);return Object(l.createElement)(h.BlockEditorProvider,{settings:r,value:u,onInput:d,onChange:p,useSubRegistry:!1},Object(l.createElement)(h.BlockEditorKeyboardShortcuts,null),Object(l.createElement)(h.__experimentalLinkControl.ViewerFill,null,Object(l.useCallback)((e=>Object(l.createElement)(je,Object(fe.a)({},e,{activePage:o,onActivePageChange:f}))),[o])),Object(l.createElement)(Yn,null,Object(l.createElement)(Jn,null)),Object(l.createElement)(mo,{deviceType:c,iframe:S}))},jo=n(354),Eo=n(260);var vo=Object(l.createElement)(C.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(l.createElement)(C.Path,{d:"M7 5.5h10a.5.5 0 01.5.5v12a.5.5 0 01-.5.5H7a.5.5 0 01-.5-.5V6a.5.5 0 01.5-.5zM17 4H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V6a2 2 0 00-2-2zm-1 3.75H8v1.5h8v-1.5zM8 11h8v1.5H8V11zm6 3.25H8v1.5h6v-1.5z"}));function _o(e){let{record:t,checked:n,onChange:o,closePanel:a}=e;const{name:r,kind:i,title:c,key:s}=t,u=Object(y.useSelect)((e=>{var t;const{blocks:n=[]}=e("core").getEditedEntityRecord(i,r,s),o=e("core/block-editor").getBlockParents(null===(t=n[0])||void 0===t?void 0:t.clientId);return o[o.length-1]}),[]),b=Object(y.useSelect)((e=>{if("postType"!==i||"wp_template"!==r)return c;const t=e("core").getEditedEntityRecord(i,r,s);return e("core/editor").__experimentalGetTemplateInfo(t).title}),[r,i,c,s]),d=Object(y.useSelect)((e=>e("core/block-editor").getSelectedBlockClientId()===u),[u]),p=d?Object(S.__)("Selected","kubio"):Object(S.__)("Select","kubio"),{selectBlock:m}=Object(y.useDispatch)("core/block-editor"),O=Object(l.useCallback)((()=>m(u)),[u]),f=Object(l.useCallback)((()=>{m(u),a()}),[u]);return Object(l.createElement)(j.PanelRow,null,Object(l.createElement)(j.CheckboxControl,{label:Object(l.createElement)("strong",null,b||Object(S.__)("Untitled","kubio")),checked:n,onChange:o}),u?Object(l.createElement)(l.Fragment,null,Object(l.createElement)(j.Button,{onClick:O,className:"entities-saved-states__find-entity",disabled:d},p),Object(l.createElement)(j.Button,{onClick:f,className:"entities-saved-states__find-entity-small",disabled:d},p)):null)}const yo={site:Eo.a,page:vo};function ko(e){let{list:t,unselectedEntities:n,setUnselectedEntities:o,closePanel:a}=e;const r=t[0],i=Object(y.useSelect)((e=>e("core").getEntity(r.kind,r.name)),[r.kind,r.name]),{name:c}=r,s=yo[c];return Object(l.createElement)(j.PanelBody,{title:i.label,initialOpen:!0,icon:s},t.map((e=>Object(l.createElement)(_o,{key:e.key||`${e.kind}-${e.name}-${e.property}`,record:e,checked:!Object(b.some)(n,(t=>t.kind===e.kind&&t.name===e.name&&t.key===e.key)),onChange:t=>o(e,t),closePanel:a}))))}const So={title:Object(S.__)("Title","kubio"),description:Object(S.__)("Tagline","kubio"),site_logo:Object(S.__)("Logo","kubio"),sitelogo:Object(S.__)("Logo","kubio"),show_on_front:Object(S.__)("Show on front","kubio"),page_on_front:Object(S.__)("Page on front","kubio")},To={wp_template_part:e=>Object(S._n)("template part","template parts",e,"kubio"),wp_template:e=>Object(S._n)("template","templates",e,"kubio"),post:e=>Object(S._n)("post","posts",e,"kubio"),page:e=>Object(S._n)("page","pages",e,"kubio"),site:e=>Object(S._n)("site","sites",e,"kubio")};var xo=Object(j.withFocusReturn)((function(e){let{isOpen:t,close:n}=e;const{dirtyEntityRecords:o}=Object(y.useSelect)((e=>{const t=e(v.store).__experimentalGetDirtyEntityRecords().filter((e=>!("root"===e.kind&&"site"===e.name))),n=e(v.store).getEntityRecordEdits("root","site"),o=[];for(const e in n)o.push({kind:"root",name:"site",title:So[e]||e,property:e});return{dirtyEntityRecords:[...t,...o]}}),[]),{saveEditedEntityRecord:a}=Object(y.useDispatch)("core"),r=Object.values(Object(b.groupBy)(o,"name")),i=[];r.forEach((e=>{To[e[0].name]&&i.push(To[e[0].name](e.length))}));const[c,s]=Object(l.useState)([]),u=(e,t)=>{let{kind:n,name:o,key:a}=e;s(t?c.filter((e=>e.kind!==n||e.name!==o||e.key!==a)):[...c,{kind:n,name:o,key:a}])},d=Object(l.useCallback)((()=>n()),[n]),p=Object(S.__)("Save","kubio");return t?Object(l.createElement)("div",{className:"entities-saved-states__panel kubio-entities-saved-states__panel"},Object(l.createElement)("div",{className:"entities-saved-states__panel-header"},Object(l.createElement)(j.Button,{isPrimary:!0,disabled:o.length-c.length==0,onClick:()=>{const e=o.filter((e=>{let{kind:t,name:n,key:o}=e;return!Object(b.some)(c,(e=>e.kind===t&&e.name===n&&e.key===o))}));n(e),e.forEach((e=>{let{kind:t,name:n,key:o}=e;a(t,n,o)}))},className:"editor-entities-saved-states__save-button"},p),Object(l.createElement)(j.Button,{onClick:d,icon:jo.a,label:Object(S.__)("Close panel","kubio")})),Object(l.createElement)("div",{className:"entities-saved-states__text-prompt"},Object(l.createElement)("strong",null,Object(S.__)("Select the changes you want to save","kubio")),Object(l.createElement)("p",null,Object(S.__)("Some changes may affect other areas of your site.","kubio"))),r.map((e=>Object(l.createElement)(ko,{key:e[0].name,list:e,closePanel:d,unselectedEntities:c,setUnselectedEntities:u})))):null})),wo=n(341);var Io=Object(l.createElement)(C.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(l.createElement)(C.Path,{d:"M7 13.8h6v-1.5H7v1.5zM18 16V4c0-1.1-.9-2-2-2H6c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2zM5.5 16V4c0-.3.2-.5.5-.5h10c.3 0 .5.2.5.5v12c0 .3-.2.5-.5.5H6c-.3 0-.5-.2-.5-.5zM7 10.5h8V9H7v1.5zm0-3.3h8V5.8H7v1.4zM20.2 6v13c0 .7-.6 1.2-1.2 1.2H8v1.5h11c1.5 0 2.7-1.2 2.7-2.8V6h-1.5z"}));const Co=["front-page","single-post","page","archive","search","404","index"],Po="root",Ro="template-parts",Ao="templates",No="templates-general",Bo="templates-pages",Do="templates-posts",Mo="kubio__custom-templates",Lo="kubio__theme-templates",Fo="kubio__kubio-templates",zo=[{area:"header",menu:"template-parts-headers",title:Object(S.__)("Headers","kubio")},{area:"footer",menu:"template-parts-footers",title:Object(S.__)("Footers","kubio")},{area:"sidebar",menu:"template-parts-sidebars",title:Object(S.__)("Sidebars","kubio")},{area:"uncategorized",menu:"template-parts-general",title:Object(S.__)("General","kubio")}];function Go(e){let{openEntitiesSavedStates:t}=e;const{saveEditedEntityRecord:n}=Object(y.useDispatch)("core"),{isSaving:o,isDirty:a}=Object(y.useSelect)((e=>{const{__experimentalGetDirtyEntityRecords:t,isSavingEntityRecord:n}=e("core"),o=t();return{isDirty:o.length>0,isSaving:Object(b.some)(o,(e=>n(e.kind,e.name,e.key)))}})),r=!a||o,i=Object(S.__)("Save","kubio"),{dirtyEntityRecords:c}=Object(y.useSelect)((e=>{const t=e(v.store).__experimentalGetDirtyEntityRecords().filter((e=>!("root"===e.kind&&"site"===e.name))),n=e(v.store).getEntityRecordEdits("root","site"),o=[];for(const e in n)o.push({kind:"root",name:"site",property:e});return{dirtyEntityRecords:[...t,...o]}}),[]);return Object(l.createElement)(l.Fragment,null,Object(l.createElement)(j.Button,{isPrimary:!0,className:"edit-site-save-button__button","aria-disabled":r,disabled:r,isBusy:o,onClick:r?void 0:()=>{c.forEach((e=>{let{kind:t,name:o,key:a}=e;n(t,o,a)}))}},i),Object(l.createElement)(j.Button,{isPrimary:!0,icon:Ee.ArrowDown,iconSize:24,className:"edit-site-save-button__dropdown","aria-disabled":r,disabled:r,onClick:r?void 0:t}))}const Ko=()=>{const{setOpenInserter:e}=Object(y.useDispatch)(m.STORE_KEY),t=Object(y.useSelect)((e=>e(m.STORE_KEY).getOpenedInserter()),[]),n=Object(O.useBlocksOwnerDocument)(),o=Object(E.useViewportMatch)("medium","<"),a=Object(l.useRef)(),r=Object(l.useCallback)((n=>{!1!==t&&(n.target.classList.contains("edit-site-header-toolbar__inserter-toggle")||n.target.closest(".edit-site-header-toolbar__inserter-toggle")||n.target.closest(".kubio-inserter-ignore-click-outisde")||e(!1))}),[t,e]);return Object(c.useOnClickOutside)(a,r),Object(l.createElement)("div",{ref:a,className:"edit-site-editor__inserter-panel"},Object(l.createElement)("div",{className:"edit-site-editor__inserter-panel-header"},Object(l.createElement)(j.Button,{icon:jo.a,onClick:()=>e(!1)})),Object(l.createElement)("div",{className:"edit-site-editor__inserter-panel-content"},t&&Object(l.createElement)(h.__experimentalLibrary,{shouldFocusBlock:o,rootClientId:null==t?void 0:t.rootClientId,__experimentalInsertionIndex:null==t?void 0:t.insertionIndex,ownerDocument:n,insertionPoint:t,isAppender:null==t?void 0:t.isAppender})))},Ho=Object(Ge.getNamesOfBlocks)(),Vo=["core/column","core/post-content","core/template-part",Ho.HEADER,Ho.FOOTER,Ho.SIDEBAR,Ho.COLUMN,Ho.LOOP_ITEM,Ho.SLIDER_CONTENT],Uo=()=>{const{rootClientId:e,isInserterOpen:t,insertionIndex:n}=Object(y.useSelect)((e=>{const{getBlockListSettings:t,getSelectedBlockClientId:n,getBlockRootClientId:o,getBlock:a,getBlockIndex:r}=e("core/block-editor");let i,l=n(),c=t(l);(Object(b.isUndefined)(c)||c.templateLock)&&(i=r(l),l=o(l),c=t(l));const s=l&&Vo.includes(a(l).name)&&(Object(b.isUndefined)(c)||!c.templateLock);return{isInserterOpen:e(m.STORE_KEY).getOpenedInserter(),rootClientId:s?l:null,insertionIndex:i}}),[]),{setOpenInserter:o}=Object(y.useDispatch)(m.STORE_KEY),{selectBlock:a}=Object(y.useDispatch)("core/block-editor"),r=Object(l.useRef)(),i=Object(l.useCallback)((n=>{const i=!t&&"block-inserter";i?a(null):(r.current.focus(),n.preventDefault(),n.stopPropagation()),o(i,e)}),[t,e]);return Object(l.createElement)(l.Fragment,null,Object(l.createElement)(j.Button,{ref:r,isSecondary:!0,isPressed:t,className:"edit-site-header-toolbar__inserter-toggle",onClick:i,icon:t?N.a:Me.a,onMouseDown:e=>{e.preventDefault()},label:Object(S._x)((e=>e?"Close":"Add block")(t),"Generic label for block inserter button","kubio")}))};n(83);var $o=n(340),Yo=n(59);function Wo(e){let{feature:t,label:n,info:o,messageActivated:a,messageDeactivated:r}=e;const i=Object(y.useSelect)((e=>e(m.STORE_KEY).isFeatureActive(t)),[]),{toggleFeature:c}=Object(y.useDispatch)(m.STORE_KEY);return Object(l.createElement)(j.MenuItem,{icon:i&&I.a,isSelected:i,onClick:Object(b.flow)(c.bind(null,t),(()=>{i?Object(Yo.speak)(r||Object(S.__)("Feature deactivated","kubio")):Object(Yo.speak)(a||Object(S.__)("Feature activated","kubio"))})),role:"menuitemcheckbox",info:o},n)}const{Fill:qo,Slot:Xo}=Object(j.createSlotFill)("ToolsMoreMenuGroup");qo.Slot=e=>{let{fillProps:t}=e;return Object(l.createElement)(Xo,{fillProps:t},(e=>!Object(b.isEmpty)(e)&&Object(l.createElement)(j.MenuGroup,{label:Object(S.__)("Tools","kubio")},e)))};var Qo=qo;const Zo={className:"edit-site-more-menu__content",position:"bottom left"},Jo={tooltipPosition:"bottom"};var ea=()=>{Object(y.useSelect)((e=>!!e(m.STORE_KEY)&&e(m.STORE_KEY).isGutentagDebug()));const{toggleGutentagDebug:e}=Object(y.useDispatch)(m.STORE_KEY);let t=Object(l.createElement)(l.Fragment,null);return Object(l.createElement)(j.DropdownMenu,{className:"edit-site-more-menu",icon:$o.a,label:Object(S.__)("More tools & options","kubio"),popoverProps:Zo,toggleProps:Jo},(e=>{let{onClose:n}=e;return Object(l.createElement)(l.Fragment,null,Object(l.createElement)(j.MenuGroup,{label:Object(S._x)("View","noun","kubio")},Object(l.createElement)(Wo,{feature:"fixedToolbar",label:Object(S.__)("Top toolbar","kubio"),info:Object(S.__)("Access all block and document tools in a single place","kubio"),messageActivated:Object(S.__)("Top toolbar activated","kubio"),messageDeactivated:Object(S.__)("Top toolbar deactivated","kubio")}),Object(l.createElement)(Wo,{feature:"focusMode",label:Object(S.__)("Spotlight mode","kubio"),info:Object(S.__)("Focus on one block at a time","kubio"),messageActivated:Object(S.__)("Spotlight mode activated","kubio"),messageDeactivated:Object(S.__)("Spotlight mode deactivated","kubio")}),t,Object(l.createElement)(ae.Slot,{name:"kubio/edit-site/plugin-more-menu",label:Object(S.__)("Plugins","kubio"),as:[j.MenuGroup,j.MenuItem],fillProps:{onClick:n}})),Object(l.createElement)(Qo.Slot,{fillProps:{onClose:n}}))}))};var ta=Object(l.createElement)(C.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(l.createElement)(C.Path,{d:"M20.5 16h-.7V8c0-1.1-.9-2-2-2H6.2c-1.1 0-2 .9-2 2v8h-.7c-.8 0-1.5.7-1.5 1.5h20c0-.8-.7-1.5-1.5-1.5zM5.7 8c0-.3.2-.5.5-.5h11.6c.3 0 .5.2.5.5v7.6H5.7V8z"}));var na=Object(l.createElement)(C.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(l.createElement)(C.Path,{d:"M17 4H7c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm.5 14c0 .3-.2.5-.5.5H7c-.3 0-.5-.2-.5-.5V6c0-.3.2-.5.5-.5h10c.3 0 .5.2.5.5v12zm-7.5-.5h4V16h-4v1.5z"}));var oa=Object(l.createElement)(C.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(l.createElement)(C.Path,{d:"M15 4H9c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h6c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm.5 14c0 .3-.2.5-.5.5H9c-.3 0-.5-.2-.5-.5V6c0-.3.2-.5.5-.5h6c.3 0 .5.2.5.5v12zm-4.5-.5h2V16h-2v1.5z"})),aa=n(323),ra=n.n(aa);let ia=null,la=Math.random();function ca(e){let t=ra.a.replace("{message}",Object(S.__)("Generating preview…","kubio"));t=t.replace("{svg_image}",Object(l.renderToString)(Ee.KubioLoader)),e.write(t),e.title=Object(S.__)("Generating preview…","kubio"),e.close()}function sa(){ia=window.open("",Object(S.__)("Generating preview…","kubio")+la++)}const ua="publish",ba="autosave",da={PREVIEW:"preview",DRAFT:"draft"},pa=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ua,{fieldsToOmit:n=["blocks"],type:o=da.PREVIEW}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Ln()({path:"kubio/v1/save-entity",method:"POST",data:{postData:Object(b.omit)({...e,id:e.id||e.wp_id},["selectionStart","selectionEnd"].concat(n)),type:o,status:t}})},ma=[{kind:"kubio",name:"menu"},{kind:"root",name:"site"}];var Oa=n(39),fa=n.n(Oa);const ga=[{title:Object(S.__)("Desktop","kubio"),name:"Desktop",icon:ta},{title:Object(S.__)("Tablet","kubio"),name:"Tablet",icon:na},{title:Object(S.__)("Mobile","kubio"),name:"Mobile",icon:oa}],ha=e=>{let{deviceType:t,setDeviceType:n}=e;const{isDirty:o}=Object(y.useSelect)((e=>{const{__experimentalGetDirtyEntityRecords:t}=e("core");return{isDirty:t().length>0}})),a=(()=>{const{getDirtyEntityRecords:e,getAutosaves:t,getEntityRecordEdits:n,getEditedEntityRecord:o}=Object(y.useSelect)((e=>({getDirtyEntityRecords:e("core").__experimentalGetDirtyEntityRecords,getAutosaves:e("core").getAutosaves,getEntityRecordEdits:e("core").getEntityRecordEdits,getEditedEntityRecord:e("core").getEditedEntityRecord}))),{saveEditedEntityRecord:a}=Object(y.useDispatch)("core");return async function(r){var i;let{autosaveType:l=da.PREVIEW}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=[];c=r||e();const s=c.filter((e=>{let{kind:t,name:n}=e;return!Object(b.find)(ma,{kind:t,name:n})})),u=c.filter((e=>{let{kind:t,name:n,key:o}=e;return!Object(b.find)(s,{kind:t,name:n,key:o})})),d=s.map((e=>{let{kind:t,name:n,key:r}=e;const i=o(t,n,r);let c;if(null!=i&&i.blocks)c=Object(Ce.serialize)(i.blocks);else{if("string"!=typeof(null==i?void 0:i.content))return null;c=null==i?void 0:i.content}return-1!==["wp_template","wp_template_part","page","post","product"].indexOf(i.type)?pa({...i,content:c},ba,{type:l}):a(t,n,r,{isAutosave:!0})})),p=u.map((e=>{let{kind:t,name:o,key:a}=e;return{kind:t,name:o,key:a,...n(t,o,a)}})),m=null===(i=e())||void 0===i?void 0:i.filter((e=>{let{name:t}=e;return"page"===t||"post"===t})).reduce(((e,t)=>{let{key:n,name:a,kind:r}=t;const i=o(r,a,n);return{...e,[n]:null==i?void 0:i.template}}),{});return Promise.all(d).then((e=>{const n=s.map(((n,o)=>{let{name:a,key:r}=n;return e[o]?{id:e[o].ID||e[o].id,parent:e[o].post_parent||e[o].parent,data:e[o]}:Object(b.last)(t(a,r))}));return Promise.all(n).then((e=>{const t=e.filter(Boolean).map((e=>{let{id:t,parent:n}=e;return{id:t,parent:n}}));return{updatesRecords:e.map((e=>null==e?void 0:e.data)),autosaves:t,customEntities:p,pageTemplatesMap:m,customData:Object(Be.applyFilters)("kubio/custom-preview-data",{})}}))}))}})(),{saveChangeset:r}=(()=>{const[e,t]=Object(O.useGlobalSessionProp)("previewChangest",{}),n=Object(y.useSelect)((e=>{var t;return null===(t=e("core/block-editor").getSettings())||void 0===t?void 0:t.changeset_uuid}));Object(l.useEffect)((()=>{e.id||!n||e.isLoading||(t({...e,isLoading:!0}),Ln()({path:Object(ge.addQueryArgs)("/wp/v2/kubio/preview-changeset/",{slug:n})}).then((e=>{e&&e.length&&t({...e[0],isLoading:!1})})))}),[e,t,n]);const o=Object(l.useCallback)((()=>{e.id&&window.navigator.sendBeacon&&window.navigator.sendBeacon(`${window.ajaxurl}?action=kubio-delete-changeset&uuid=${e.slug}`)}),[e.id]);return Object(l.useEffect)((()=>(window.addEventListener("beforeunload",o),()=>window.removeEventListener("beforeunload",o))),[e.id]),{saveChangeset:async o=>{let a=e;return a.id||(a=await Ln()({path:Object(ge.addQueryArgs)("/wp/v2/kubio/preview-changeset/",{slug:n})}),t(a)),await Ln()({path:`/wp/v2/kubio/preview-changeset/${a.id}`,method:"POST",data:{...Object(b.pick)(e,["title","slug","type"]),content:JSON.stringify(Object(b.omit)(o,"updatesRecords"))}}),n}}})(),{currentPageURL:i}=Object(y.useSelect)((e=>{const t=e(m.STORE_KEY).getPage(),n=d.a.get(t,"link"),o=d.a.get(t,"path"),a=n||o;return{currentPageURL:(null!=a?a:"").replace(/\/$/,"")}}));return Object(l.createElement)("div",{className:"kubio-preview-options"},ga.map((e=>{let{name:o,title:a,icon:r}=e;return Object(l.createElement)(j.Button,{key:o,icon:r,isPressed:o===t,label:a,onClick:()=>n(o)})})),""!==i&&Object(l.createElement)(j.Button,{onClick:async e=>{let{}=e;const t=(()=>{ia&&!ia.closed||sa();try{ca(ia.document)}catch(e){sa(),ca(ia.document)}return setTimeout((function(){ia.focus()}),100),ia})();if(o){const e=await a(),n=await r(e);t.location=Object(ge.addQueryArgs)(i,{"kubio-preview":n,"kubio-random":`${fa.a.generate()}-${fa.a.generate()}`})}else t.location=Object(ge.addQueryArgs)(i,{"kubio-random":`${fa.a.generate()}-${fa.a.generate()}`})}},Object(S.__)("Preview","kubio")))};var ja=Object(l.createElement)(C.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(l.createElement)(C.Path,{d:"M15.6 6.5l-1.1 1 2.9 3.3H8c-.9 0-1.7.3-2.3.9-1.4 1.5-1.4 4.2-1.4 5.6v.2h1.5v-.3c0-1.1 0-3.5 1-4.5.3-.3.7-.5 1.3-.5h9.2L14.5 15l1.1 1.1 4.6-4.6-4.6-5z"})),Ea=n(28);function va(){const e=Object(y.useSelect)((e=>e("core").hasRedo())),{redo:t}=Object(y.useDispatch)("core");return Object(l.createElement)(j.Button,{icon:ja,label:Object(S.__)("Redo","kubio"),shortcut:Ea.displayShortcut.primaryShift("z"),"aria-disabled":!e,onClick:e?t:void 0})}var _a=Object(l.createElement)(C.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(l.createElement)(C.Path,{d:"M18.3 11.7c-.6-.6-1.4-.9-2.3-.9H6.7l2.9-3.3-1.1-1-4.5 5L8.5 16l1-1-2.7-2.7H16c.5 0 .9.2 1.3.5 1 1 1 3.4 1 4.5v.3h1.5v-.2c0-1.5 0-4.3-1.5-5.7z"}));function ya(){const e=Object(y.useSelect)((e=>e("core").hasUndo())),{undo:t}=Object(y.useDispatch)("core");return Object(l.createElement)(j.Button,{icon:_a,label:Object(S.__)("Undo","kubio"),shortcut:Ea.displayShortcut.primary("z"),"aria-disabled":!e,onClick:e?t:void 0})}function ka(e){let{openEntitiesSavedStates:t}=e;const{deviceType:n,isEditorSidebarOpened:o,shortcut:a,getBlockSelectionStart:r,isListViewOpen:i,listViewShortcut:c}=Object(y.useSelect)((e=>{const{__experimentalGetPreviewDeviceType:t,isFeatureActive:n,getEditedPostType:o,getEditedPostId:a,isInserterOpened:r,getTemplateId:i,getTemplatePartId:l,getEntity:c,getPage:s,getShowOnFront:u,isListViewOpened:b}=e(m.STORE_KEY),{getEntityRecord:d}=e("core"),{__experimentalGetTemplateInfo:p}=e("core/editor"),O=i(),f=l(),g=o(),h=d("postType",g,a());let j;var E;"wp_template"===g?j=null!=h&&h.title?null==h||null===(E=h.title)||void 0===E?void 0:E.raw:p(h).title:j=null==h?void 0:h.slug;const{getShortcutRepresentation:v}=e("core/keyboard-shortcuts");return{isListViewOpen:b(),deviceType:t(),entityTitle:j,hasFixedToolbar:n("fixedToolbar"),template:h,templateType:g,isInserterOpen:r(),templateId:O,templatePartId:f,entity:c(),page:s(),showOnFront:u(),isEditorSidebarOpened:e(m.STORE_KEY).isEditorSidebarOpened(),shortcut:v("core/edit-post/toggle-sidebar"),getBlockSelectionStart:e("core/block-editor").getBlockSelectionStart,listViewShortcut:v("kubio/edit-site/toggle-list-view")}}),[]),{__experimentalSetPreviewDeviceType:s,openSidebar:u,closeSidebar:b}=Object(y.useDispatch)(m.STORE_KEY),d=Object(E.useViewportMatch)("medium"),p=o?()=>{b()}:()=>{u(r()?"block-inspector":"document"),_(!1)},O=Re(),{isNavigationOpened:f}=Object(y.useSelect)(m.STORE_KEY),{setIsNavigationPanelOpened:g,openNavigationPanelToMenu:v,setIsListViewOpened:_}=Object(y.useDispatch)(m.STORE_KEY),k=Object(l.useCallback)((()=>{_(!i),i||b()}),[_,i]);return Object(l.createElement)("div",{className:"edit-site-header"},Object(l.createElement)("div",{className:"edit-site-header_start"},Object(l.createElement)("div",{className:"edit-site-header__toolbar"},d&&Object(l.createElement)(l.Fragment,null,Object(l.createElement)(Uo,null),Object(l.createElement)(h.ToolSelector,null),Object(l.createElement)(ya,null),Object(l.createElement)(va,null),Object(l.createElement)(j.Button,{className:"edit-site-header-toolbar__list-view-toggle",icon:wo.a,isPressed:i/* translators: button label text should, if possible, be under 16 characters. */,label:Object(S.__)("List View","kubio"),onClick:k,shortcut:c})),!1)),Object(l.createElement)("div",{className:"edit-site-header_center"},Object(l.createElement)("div",{className:"edit-site-document-actions"},Object(l.createElement)("div",{className:"edit-site-document-actions__title-wrapper"},Object(l.createElement)(j.Button,{className:"edit-site-document-actions__title",onClick:()=>{f()?g(!1):v(Po)},isPressed:f(),iconPosition:"right",showTooltip:!0,label:f()?Object(S.__)("Close the site content panel","kubio"):Object(S.__)("Open the site content panel","kubio")},Object(l.createElement)(j.Flex,{align:"center"},Object(l.createElement)(j.FlexItem,{className:"edit-site-document-entity-title"},Object(l.createElement)("span",null,Object(Ne.fromHtmlEntities)(O))),Object(l.createElement)(j.FlexItem,null,Object(l.createElement)(j.Icon,{icon:Io,size:20}))))))),Object(l.createElement)("div",{className:"edit-site-header_end"},Object(l.createElement)("div",{className:"edit-site-header__actions"},Object(l.createElement)(ha,{deviceType:n,setDeviceType:s}),Object(l.createElement)(Go,{openEntitiesSavedStates:t}),Object(l.createElement)(j.Button,{icon:De.a,label:Object(S.__)("Settings","kubio"),onClick:p,isPressed:o,"aria-expanded":o,className:"kubio-secondary-panel-toggler",shortcut:a}),Object(l.createElement)(ce.Slot,{scope:"kubio/edit-site"}),Object(l.createElement)(ea,null))))}function Sa(e){let{openEntitiesSavedStates:t}=e;const{__experimentalGetDirtyEntityRecords:n,isSavingEntityRecord:o}=Object(y.useSelect)(v.store),{redo:a,undo:r}=Object(y.useDispatch)(v.store);return Object(me.useShortcut)("kubio/edit-site/save",(e=>{e.preventDefault();const a=n(),r=!!a.length;!a.some((e=>o(e.kind,e.name,e.key)))&&r&&t()})),Object(me.useShortcut)("kubio/edit-site/undo",(e=>{r(),e.preventDefault()})),Object(me.useShortcut)("kubio/edit-site/redo",(e=>{a(),e.preventDefault()})),null}Sa.Register=function(){const{registerShortcut:e}=Object(y.useDispatch)(me.store);return Object(l.useEffect)((()=>{e({name:"kubio/edit-site/save",category:"global",description:Object(S.__)("Save your changes.","kubio"),keyCombination:{modifier:"primary",character:"s"}}),e({name:"kubio/edit-site/undo",category:"global",description:Object(S.__)("Undo your last changes.","kubio"),keyCombination:{modifier:"primary",character:"z"}}),e({name:"kubio/edit-site/redo",category:"global",description:Object(S.__)("Redo your last undo.","kubio"),keyCombination:{modifier:"primaryShift",character:"z"}}),e({name:"kubio/edit-site/toggle-list-view",category:"global",description:Object(S.__)("Open the block list view.","kubio"),keyCombination:{modifier:"access",character:"o"}})}),[e]),null};var Ta=Sa;const xa=e=>{let{children:t,templateId:n,templateType:o,page:a}=e;const[r,i]=Object(l.useState)(!1),[c,s]=Object(l.useState)(!1),u=Gn(),[b,d]=Object(O.useGlobalSessionProp)("thirdPartyBlockInstalled",!1),{createSuccessNotice:p}=Object(y.useDispatch)("core/notices");Object(l.useEffect)((()=>{i(u)}),[u,n,o,a]);const m=Object(l.useCallback)((()=>{c||i(!1)}),[c]),f=Object(l.useCallback)((async()=>{s(!0);try{await Fn()}catch(e){}d(!0),p(Object(S.__)("Kubio blog templates were imported successfully! Refresh the editor to enjoy the full site editing experience","kubio"),{isDismissible:!0,actions:[{label:Object(S.__)("Refresh page now","kubio"),onClick:()=>window.location.reload()}]}),i(!1)}),[]);return Object(l.createElement)(l.Fragment,null,r&&!b&&Object(l.createElement)(j.Modal,{title:Object(S.__)("💫 Start with the Kubio blog!","kubio"),onRequestClose:m,shouldCloseOnEsc:!1,shouldCloseOnClickOutside:!1,isDismissible:!c},Object(l.createElement)("p",null,Object(S.__)("Kubio comes with a fully customizable blog area for your site.","kubio"),Object(l.createElement)("br",null),Object(S.__)("Would you like to use the Kubio blog templates? ","kubio")),Object(l.createElement)(j.ButtonGroup,{className:"h-template-part-modal__button-group"},!c&&Object(l.createElement)(j.Button,{isLink:!0,onClick:m},Object(S.__)("Maybe later","kubio")),Object(l.createElement)(j.Button,{isPrimary:!0,isBusy:c,onClick:f},!c&&Object(S.__)("Import Kubio blog","kubio"),c&&Object(S.__)("Importing Kubio blog…","kubio")))),t)},wa="__experimentalMainDashboardButton",{Fill:Ia,Slot:Ca}=Object(j.createSlotFill)(wa),Pa=Ia;Pa.Slot=e=>{let{children:t}=e;const n=Object(j.__experimentalUseSlot)(wa);return Boolean(n.fills&&n.fills.length)?Object(l.createElement)(Ca,{bubblesVirtually:!0}):t};var Ra=Pa;var Aa=Object(l.createElement)(C.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(l.createElement)(C.Path,{d:"M12 4L4 7.9V20h16V7.9L12 4zm6.5 14.5H14V13h-4v5.5H5.5V8.8L12 5.7l6.5 3.1v9.7z"}));const Na=["attachment","kubio_changeset","kubio-globals"],Ba=e=>{let{onComplete:t=b.noop,closeModal:n=b.noop,entityName:o=Object(S.__)("other","kubio")}=e;const a=Object(c.useUnloadStoreEntities)(),r=Object(c.useResetUndoStack)(),i=Object(O.useSetGlobalSessionProp)("ready"),{hasDirtyEntities:s,entitiesToSave:u}=Object(y.useSelect)((e=>{const{__experimentalGetDirtyEntityRecords:t}=e("core");return{hasDirtyEntities:t().filter((e=>{let{kind:t,name:n}=e;return"postType"===t&&!Na.includes(n)})).length>0,entitiesToSave:t()}})),{saveEditedEntityRecord:d}=Object(y.useDispatch)("core"),p=Object(l.useCallback)((()=>{i(!1),a(),r(),t(),Object(Be.doAction)("kubio.editor.page-changed")}),[a,r,t]);Object(l.useEffect)((()=>{s||p()}),[]);return Object(l.createElement)(l.Fragment,null,s&&Object(l.createElement)(j.Modal,{title:Object(S.__)("You have unsaved changes","kubio"),onRequestClose:n},Object(l.createElement)("p",null,Object(l.createElement)("span",{dangerouslySetInnerHTML:{__html:Object(S.sprintf)(// translators: %s: page name
Object(S.__)("You are being redirected to <strong>%s</strong> page.","kubio"),o)}}),Object(l.createElement)("br",null),Object(S.__)("Would you like to save these changes or discard them?","kubio")),Object(l.createElement)(j.ButtonGroup,{className:"h-template-part-modal__button-group"},Object(l.createElement)(j.Button,{isLink:!0,onClick:()=>{p()}},Object(S.__)("Discard changes","kubio")),Object(l.createElement)(j.Button,{isPrimary:!0,onClick:()=>{(()=>{const e=u.map((e=>{let{kind:t,name:n,key:o}=e;return d(t,n,o)}));return Promise.all(e)})().then((()=>{p()}))}},Object(S.__)("Save changes","kubio")))))};var Da=Object(l.createElement)(C.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},Object(l.createElement)(C.Path,{d:"M18 4H6c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm.5 14c0 .3-.2.5-.5.5H6c-.3 0-.5-.2-.5-.5V6c0-.3.2-.5.5-.5h12c.3 0 .5.2.5.5v12zM7 11h2V9H7v2zm0 4h2v-2H7v2zm3-4h7V9h-7v2zm0 4h7v-2h-7v2z"}));function Ma(e){let{item:t}=e;const{setPage:n,setIsNavigationPanelOpened:o}=Object(y.useDispatch)(Oe),{page_for_posts:a,page_on_front:r,show_on_front:i,wooCommercePagesIds:c,isActive:s}=Object(y.useSelect)((e=>{var n,o,a,r,i;const{page_for_posts:l,page_on_front:c,show_on_front:s}=e("core").getEditedEntityRecord("root","site"),u=null===(n=e("core/block-editor").getSettings())||void 0===n||null===(o=n.kubioBasicWooCommerce)||void 0===o?void 0:o.pagesIds,{getPage:b,getTemplateId:d,getTemplatePartId:p}=e(Oe),m=[null===(a=b())||void 0===a||null===(r=a.context)||void 0===r||null===(i=r.postId)||void 0===i?void 0:i.toString(),d(),p()].filter(Boolean);return{page_for_posts:l,page_on_front:c,show_on_front:s,wooCommercePagesIds:Object.values(u||{}),isActive:m.includes(t.id.toString())}}),[]),u=Object(l.useCallback)((()=>{const{type:e,slug:a,link:r,id:i}=t;n({type:e,slug:a,path:Object(ge.getPathAndQueryString)(r),context:{postType:e,postId:i}}),o(!1)}),[n,t]),[b,d]=Object(l.useState)(!1),p=Object(l.useCallback)((()=>{s||d(!0)}),[d]);if(!t)return null;const m=(e=>{var t;const n=e.taxonomy?e.name:null==e||null===(t=e.title)||void 0===t?void 0:t.rendered,o=document.createElement("div");return o.innerHTML=n,o.textContent||o.innerText||""})(t)||Object(S.__)("(no title)","kubio"),O=m;let f;"page"===i&&r===t.id&&(f=Object(l.createElement)(j.Icon,{title:Object(S.__)("Homepage","kubio"),icon:Aa,size:18})),"page"===i&&a===t.id&&(f=Object(l.createElement)(j.Icon,{title:Object(S.__)("Posts page","kubio"),icon:Da,size:18})),-1!==c.indexOf(t.id)&&(f=Object(l.createElement)(j.Icon,{title:Object(S.__)("Posts page","kubio"),icon:Ee.WooCommerceSmallLogo,size:18}));const g=w()("edit-site-navigation-panel__content-item",{"kubio-navigation-item-active":s});return Object(l.createElement)(l.Fragment,null,Object(l.createElement)(j.__experimentalNavigationItem,{className:g,item:`${t.taxonomy||t.type}-${t.id}`,title:O,onClick:p,badge:f}),b&&Object(l.createElement)(Ba,{onComplete:u,closeModal:()=>d(!1),entityName:O}))}const La=e=>Object(b.deburr)(e).replace(/^\//,"").toLowerCase(),Fa=(e,t)=>-1!==La(e).indexOf(La(t));function za(e){let{item:t,icon:n}=e;const{title:o,description:a,isActive:r}=Object(y.useSelect)((e=>{var n,o,a,r;const{getPage:i,getTemplateId:l,getTemplatePartId:c}=e(Oe),s=[null===(n=i())||void 0===n||null===(o=n.context)||void 0===o||null===(a=o.postId)||void 0===a?void 0:a.toString(),l(),c()].filter(Boolean);return{..."wp_template"===t.type?e("core/editor").__experimentalGetTemplateInfo(t):{title:(null==t||null===(r=t.title)||void 0===r?void 0:r.rendered)||(null==t?void 0:t.slug),description:""},isActive:s.includes(t.id.toString())}}),[]),{setTemplate:i,setTemplatePart:c,setIsNavigationPanelOpened:s,setPage:u}=Object(y.useDispatch)(Oe),[b,d]=Object(l.useState)(!1),p=Object(l.useCallback)((()=>{r||d(!0)}),[d,r]);if(!t)return null;const m=w()("edit-site-navigation-panel__template-item",{"kubio-navigation-item-active":r});return Object(l.createElement)(j.__experimentalNavigationItem,{className:m,item:`${t.type}-${t.id}`,title:o,icon:n},Object(l.createElement)(j.Button,{onClick:p},Object(l.createElement)("span",{className:"edit-site-navigation-panel__info-wrapper"},Object(l.createElement)("div",{className:"edit-site-navigation-panel__template-item-title"},"draft"===t.status&&Object(l.createElement)("em",null,Object(S.__)("[Draft]","kubio")),o),a&&Object(l.createElement)("div",{className:"edit-site-navigation-panel__template-item-description"},a))),b&&Object(l.createElement)(Ba,{onComplete:()=>{"wp_template"===t.type?i(t.id,t.slug,!0):c(t.id),s(!1)},closeModal:()=>d(!1),entityName:o}))}function Ga(e){let{items:t,search:n}=e;const o=(null==t?void 0:t.length)>0?t[0].type:null,a=Object(y.useSelect)((e=>{if("wp_template"===o){const{__experimentalGetTemplateInfo:n}=e("core/editor");return t.map((e=>({slug:e.slug,...n(e)})))}return(t||[]).map((e=>{var t,n;return{slug:e.slug,title:null===(t=e.title)||void 0===t?void 0:t.rendered,description:null===(n=e.excerpt)||void 0===n?void 0:n.rendered}}))}),[t,o]),r=Object(l.useMemo)((()=>null===t||0===n.length?[]:t.filter((e=>{let{slug:t}=e;const{title:o,description:r}=a.find((e=>e.slug===t));return Fa(t,n)||Fa(o,n)||Fa(r,n)}))),[t,a,n]),i="wp_template"===o||"wp_template_part"===o?za:Ma;return Object(l.createElement)(j.__experimentalNavigationGroup,{title:Object(S.__)("Search results","kubio")},Object(b.map)(r,(e=>Object(l.createElement)(i,{item:e,key:`${e.type}-${e.id}`}))))}const Ka=e=>{let{kind:t="postType",entity:n,title:o,hasSearch:a=!0,parentMenu:r=Po}=e;const{search:i,searchQuery:s,onSearch:u,isDebouncing:p}=function(){const[e,t]=Object(l.useState)(""),[n,o]=Object(l.useState)(""),[a,r]=Object(l.useState)(!1);Object(l.useEffect)((()=>{r(!1)}),[n]);const i=Object(l.useCallback)(Object(b.debounce)(o,75),[o]);return{search:e,searchQuery:n,isDebouncing:a,onSearch:Object(l.useCallback)((e=>{t(e),i(e),r(!0)}),[t,r,i])}}(),O=Object(y.useRegistry)(),{resetSelection:f}=O.dispatch(h.store),{setPage:g,setIsNavigationPanelOpened:E}=Object(y.useDispatch)(m.STORE_KEY),{saveEntityRecord:v}=Object(y.dispatch)("core"),{items:_,showOnFront:k,pageForPosts:T,pageOnFront:x,isResolved:w,siteURL:I}=Object(y.useSelect)((e=>{const{getEntityRecords:o,getEditedEntityRecord:a,hasFinishedResolution:r}=e("core"),i=[t,n,{search:s}],l=r("getEntityRecords",i),{page_for_posts:c,page_on_front:u}=e("core").getEditedEntityRecord("root","site");return{items:o(...i),isResolved:l,showOnFront:a("root","site").show_on_front,siteURL:e("core/block-editor").getSettings().siteUrl||"/",pageForPosts:c,pageOnFront:u}}),[s,n,t]),[C,P]=Object(l.useState)(""),[R,A]=Object(l.useState)(!1),[N,B]=Object(l.useState)(!1),[D,M]=Object(l.useState)(!1),[L,F]=Object(l.useState)({}),z=Object(l.useCallback)((()=>{B(!0)}),[B]),G=async(e,t)=>{M(!0);const n={title:C,status:"publish",template:$},o=await v(e,t,n);o&&(F(o),z())},{availableTemplates:K,isKubioTheme:H}=Object(y.useSelect)((e=>{const t=e(m.STORE_KEY),{getSettings:n}=e(h.store);return{availableTemplates:t.getAvailablePageTemplates(),isKubioTheme:n().isKubioTheme}}),[]),{templates:V,defaultTemplate:U}=Object(c.useDeepMemo)((()=>{let e;let t=K;return H?(e=d.a.find(t,{value:"kubio-full-width"})?"kubio-full-width":"full-width",t=K.filter((e=>""!==e.value))):(e="",Object(b.find)(t,{value:e})||(e=d.a.find(t,{value:"kubio-full-width"})?"kubio-full-width":"full-width")),{defaultTemplate:e,templates:t}}),[K,H]),[$,Y]=Object(l.useState)(U),W=Object(c.useDeepMemo)((()=>{const e=V.reduce(((e,t)=>{const n=t.source||"custom";return{...e,[n]:[...e[n]||[],t]}}),{}),t=[];return d.a.forEach(m.templateGroupPriorities,(function(n){var o;null!==(o=e[n])&&void 0!==o&&o.length&&(t.push({value:"template-group-"+n,label:m.templateGroups[n],disabled:!0}),d.a.forEach(e[n],(function(e){t.push(e)})))})),t}),[V]),[q,X]=Object(l.useState)(!1),Q=Object(l.useCallback)((()=>{X(!1),g({type:"page",path:I,context:{queryContext:{page:1}}}),E(!1)}),[g]),Z=Object(l.useCallback)((()=>{L&&(g({type:L.type,slug:L.slug,path:Object(ge.getPathAndQueryString)(L.link),context:{postType:L.type,postId:L.id}}),M(!1),E(!1))}),[g,L]),J=!w||i&&p;let ee=Object(l.createElement)(l.Fragment,null);"postType"===t&&"page"===n&&(ee=Object(l.createElement)(l.Fragment,null,Object(l.createElement)(j.Button,{isPrimary:!0,icon:Me.a,iconPosition:"right",onClick:()=>{A(!0)},className:"kubio-new-page-btn",label:Object(S.__)("New","kubio")},Object(S.__)("New","kubio")),R&&Object(l.createElement)(l.Fragment,null,Object(l.createElement)(j.Modal,{title:Object(S.__)("Add page","kubio"),onRequestClose:()=>{A(!1)},className:"block-editor-block-new-entity-modal",shouldCloseOnEsc:!D,shouldCloseOnClickOutside:!D,isDismissible:!D},Object(l.createElement)("div",{className:"popover__content"},Object(l.createElement)(j.__experimentalInputControl,{value:C,onChange:e=>P(e),label:Object(S.__)("Title","kubio"),autoFocus:!0,onKeyPress:e=>{"Enter"===e.key&&G(t,n)}}),Object(l.createElement)(j.__experimentalSpacer,{margin:3}),Object(l.createElement)(j.SelectControl,{value:$,onChange:e=>Y(e),label:Object(S.__)("Template","kubio"),options:W}),Object(l.createElement)(j.__experimentalSpacer,{margin:6}),Object(l.createElement)(j.Button,{isPrimary:!0,isBusy:D,disabled:""===C,onClick:()=>{f(0,0,null),G(t,n)},className:"add-button"},Object(S.__)("Add page","kubio"))))),N&&Object(l.createElement)(Ba,{onComplete:Z,closeModal:()=>B(!1),entityName:C})));const te=d.a.sortBy(_,(e=>"page"!==k||T!==e.id&&x!==e.id?1:0));return Object(l.createElement)(j.__experimentalNavigationMenu,{menu:`kubio-content-area-${t}-${n}`,title:o,parentMenu:r,hasSearch:a,onSearch:u,search:i,isSearchDebouncing:p||!w,titleAction:ee,className:"kubio-nav-menu-heading"},i&&!p&&Object(l.createElement)(Ga,{items:te,search:i,disableFilter:!0}),!i&&Object(l.createElement)(l.Fragment,null,"posts"===k&&Object(l.createElement)(j.__experimentalNavigationItem,{item:"post-/",title:Object(S.__)("All Posts","kubio"),onClick:()=>X(!0)},Object(l.createElement)(j.Button,{className:"components-button css-1g713f0 ejwewyf3"},Object(l.createElement)(j.Flex,{align:"center"},Object(l.createElement)(j.FlexItem,null,Object(l.createElement)(j.Icon,{icon:Aa,size:18})),Object(l.createElement)(j.FlexBlock,null,Object(l.createElement)("span",null,Object(S.__)("All Posts","kubio"))),q&&Object(l.createElement)(Ba,{onComplete:Q,closeModal:()=>B(!1),entityName:C})))),null==te?void 0:te.map((e=>Object(l.createElement)(Ma,{item:e,key:`${e.type||e.taxonomy}-${e.id}`})))),J&&Object(l.createElement)(j.__experimentalNavigationItem,{title:Object(S.__)("Loading…","kubio"),isText:!0}))};function Ha(e){var t,n;let{onActivateMenu:o}=e;const[a,r]=Object(l.useState)("root"),{page:i}=Object(y.useSelect)((e=>({page:e(m.STORE_KEY).getPage()})),[]),c=Object(l.useMemo)((()=>{var e,t;return[{kind:"postType",entity:"page",title:Object(S.__)("Pages","kubio")},{kind:"postType",entity:"post",title:Object(S.__)("Posts","kubio")},{kind:"taxonomy",entity:"category",title:Object(S.__)("Categories","kubio")},...(null===(e=window)||void 0===e||null===(t=e.kubioEditSiteSettings)||void 0===t?void 0:t.postTypes)||[]]}),[null===(t=window)||void 0===t||null===(n=t.kubioEditSiteSettings)||void 0===n?void 0:n.postTypes]);return Object(l.createElement)(j.__experimentalNavigation,{activeItem:i&&`content-${i.path}`,activeMenu:a,onActivateMenu:e=>{r(e),o(e)}},a===Po&&Object(l.createElement)(Ra.Slot,null,Object(l.createElement)(j.__experimentalNavigationBackButton,{backButtonLabel:Object(S.__)("Dashboard","kubio"),className:"edit-site-navigation-panel__back-to-dashboard",href:"index.php"})),Object(l.createElement)(j.__experimentalNavigationMenu,{title:Object(S.__)("Site Content","kubio")},null==c?void 0:c.map((e=>{let{kind:t,entity:n,title:o}=e;return Object(l.createElement)(j.__experimentalNavigationItem,{title:o,navigateToMenu:`kubio-content-area-${t}-${n}`,key:`${t}-${n}`})}))),null==c?void 0:c.map((e=>Object(l.createElement)(Ka,Object(fe.a)({},e,{key:`${e.kind}-${e.entity}`})))))}function Va(e){let{menu:t,title:n,templateParts:o}=e;return Object(l.createElement)(j.__experimentalNavigationMenu,{menu:t,title:n,parentMenu:Ro,isEmpty:!o||0===o.length},Object(b.map)(o,(e=>Object(l.createElement)(za,{item:e,key:`wp_template_part-${e.id}`}))))}function Ua(){const[e,t]=Object(l.useState)(""),n=Object(l.useCallback)((e=>{t(e)})),{isLoading:o,templateParts:a,templatePartsByArea:r}=Object(y.useSelect)((e=>{const t=e(v.store).getEntityRecords("postType","wp_template_part"),n=t||[],o=Object(b.groupBy)(n.map((e=>({...e,area:e.area||"uncategorized"}))),"area");return{isLoading:null===t,templateParts:n,templatePartsByArea:o}}),[]);return Object(l.createElement)(l.Fragment,null,Object(l.createElement)(j.__experimentalNavigationMenu,{menu:Ro,title:Object(S.__)("Template Parts","kubio"),parentMenu:Po,hasSearch:!0,onSearch:n,search:e},e&&Object(l.createElement)(Ga,{items:a,search:e}),!e&&zo.map((e=>{let{title:t,menu:n}=e;return Object(l.createElement)(j.__experimentalNavigationItem,{key:`template-parts-navigate-to-${n}`,navigateToMenu:n,title:t,hideIfTargetMenuEmpty:!0})})),!e&&o&&Object(l.createElement)(j.__experimentalNavigationItem,{title:Object(S.__)("Loading…","kubio"),isText:!0})),zo.map((e=>{let{area:t,menu:n,title:o}=e;return Object(l.createElement)(Va,{key:`template-parts-menu-${n}`,menu:n,title:o,templateParts:r[t]})})))}function $a(){const{defaultTemplateTypes:e,templates:t,classicThemePrimaryTemplates:n}=Object(y.useSelect)((e=>{const{getSettings:t}=e(Oe),n=e("core").getEntityRecords("postType","wp_template");return{defaultTemplateTypes:t().defaultTemplateTypes,classicThemePrimaryTemplates:t().classicThemePrimaryTemplates,templates:n}}),[]),{addTemplate:o}=Object(y.useDispatch)(Oe),a=Object(b.map)(t,"slug"),r=Object(b.filter)(e,(e=>Object(b.includes)(Object(b.uniq)([...Co,...n]),e.slug)&&!Object(b.includes)(a,e.slug)));return r.length?Object(l.createElement)(j.DropdownMenu,{className:"edit-site-navigation-panel__new-template-dropdown",icon:null,label:Object(S.__)("Add Template","kubio"),popoverProps:{noArrow:!1},toggleProps:{children:Object(l.createElement)(j.Button,{isPrimary:!0,icon:Me.a,iconPosition:"right",className:"kubio-new-page-btn",label:Object(S.__)("New","kubio")},Object(S.__)("New","kubio"))}},(t=>{let{onClose:n}=t;return Object(l.createElement)(j.NavigableMenu,{className:"edit-site-navigation-panel__new-template-popover"},Object(l.createElement)(j.MenuGroup,{label:Object(S.__)("Add Template","kubio")},Object(b.map)(r,(t=>{let{title:a,description:r,slug:i}=t;return Object(l.createElement)(j.MenuItem,{info:r,key:i,onClick:()=>{(t=>{const{title:n,description:a}=Object(b.find)(e,{slug:t});o({content:"__KUBIO_REPLACE_WITH_APPROPRIATE_CONTENT__",excerpt:a,slug:t.toString(),status:"publish",title:n,kubio_template_source:"kubio-custom"})})(i),n()}},a)}))))})):null}function Ya(e){let{menu:t,title:n,templates:o,parentMenu:a}=e;const r=!o||0===o.length;return!r&&Object(l.createElement)(j.__experimentalNavigationMenu,{menu:t,title:n,parentMenu:a,isEmpty:r},Object(b.map)(o,(e=>Object(l.createElement)(za,{item:e,key:`wp_template-${e.id}`}))))}const Wa=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"custom";return!!e&&(null==e?void 0:e.filter((e=>{let{kubio_template_source:n="custom"}=e;return n===t})))};function qa(e){let{title:t,templates:n,menu:o,hasAdd:a=!0,parentMenu:r=Ao}=e;const i=Object(l.useMemo)((()=>{const e={},t=Wa(n,"kubio"),o=Wa(n,"theme"),a=!!n&&Object(b.difference)(n,[...t,...o]);return t&&t.length&&(e.kubio=t),o&&o.length&&(e.theme=o),a&&a.length&&(e.custom=o),e}),[n]),c=Object.keys(i).length<=1;return Object(l.createElement)(l.Fragment,null,Object(l.createElement)(j.__experimentalNavigationMenu,{menu:o,title:t,titleAction:a&&Object(l.createElement)($a,null),parentMenu:r},c&&Object(l.createElement)(l.Fragment,null,Object(b.map)(n,(e=>Object(l.createElement)(za,{item:e,key:`wp_template-${e.id}`,icon:Ee.KubioLogo})))),!c&&Object(l.createElement)(l.Fragment,null,Object(l.createElement)(j.__experimentalNavigationItem,{navigateToMenu:`${o}--${Fo}`,title:Object(S.__)("Kubio templates","kubio"),hideIfTargetMenuEmpty:!0}),Object(l.createElement)(j.__experimentalNavigationItem,{navigateToMenu:`${o}--${Lo}`,title:Object(S.__)("Theme templates","kubio"),hideIfTargetMenuEmpty:!0}),Object(l.createElement)(j.__experimentalNavigationItem,{navigateToMenu:`${o}--${Mo}`,title:Object(S.__)("Custom templates","kubio"),hideIfTargetMenuEmpty:!0}))),Object(l.createElement)(Ya,{menu:`${o}--${Fo}`,title:Object(S.__)("Kubio templates","kubio"),templates:i.kubio,parentMenu:o}),Object(l.createElement)(Ya,{menu:`${o}--${Lo}`,title:Object(S.__)("Theme templates","kubio"),templates:i.theme,parentMenu:o}),Object(l.createElement)(Ya,{menu:`${o}--${Mo}`,title:Object(S.__)("Custom templates","kubio"),templates:i.custom,parentMenu:o}))}function Xa(){var e,t,n,o,a,r;const[i,s]=Object(l.useState)(""),u=Object(l.useCallback)((e=>{s(e)})),{templates:b}=Object(y.useSelect)((e=>{const{getEntityRecords:t}=e(v.store);return{templates:t("postType","wp_template",{per_page:-1})}}),[]),d=Object(l.useMemo)((()=>b.reduce(((e,t)=>{let n="general";const o=t.slug;return Object(c.currentTemplateIsPage)(o)&&(n="page"),Object(c.currentTemplateIsPost)(o)&&(n="post"),{...e,[n]:[...e[n]||[],t]}}),{})),[b]);return Object(l.createElement)(l.Fragment,null,Object(l.createElement)(j.__experimentalNavigationMenu,{menu:Ao,title:Object(S.__)("Templates","kubio"),titleAction:Object(l.createElement)($a,null),parentMenu:Po,hasSearch:!0,onSearch:u,search:i},i&&Object(l.createElement)(Ga,{items:b,search:i}),!i&&Object(l.createElement)(l.Fragment,null,!(null===(e=d.page)||void 0===e||!e.length)&&Object(l.createElement)(j.__experimentalNavigationItem,{navigateToMenu:Bo,title:Object(S.__)("Page templates","kubio"),hideIfTargetMenuEmpty:!0}),!(null===(t=d.post)||void 0===t||!t.length)&&Object(l.createElement)(j.__experimentalNavigationItem,{navigateToMenu:Do,title:Object(S.__)("Post templates","kubio"),hideIfTargetMenuEmpty:!0}),!(null===(n=d.general)||void 0===n||!n.length)&&Object(l.createElement)(j.__experimentalNavigationItem,{navigateToMenu:No,title:Object(S.__)("General templates","kubio"),hideIfTargetMenuEmpty:!0})),!i&&null===b&&Object(l.createElement)(j.__experimentalNavigationItem,{title:Object(S.__)("Loading…","kubio"),isText:!0})),!(null===(o=d.page)||void 0===o||!o.length)&&Object(l.createElement)(qa,{menu:Bo,title:Object(S.__)("Page templates","kubio"),templates:d.page,hasAdd:!1,category:"page"}),!(null===(a=d.post)||void 0===a||!a.length)&&Object(l.createElement)(qa,{menu:Do,title:Object(S.__)("Post templates","kubio"),templates:d.post,category:"post",hasAdd:!1}),!(null===(r=d.general)||void 0===r||!r.length)&&Object(l.createElement)(qa,{menu:No,title:Object(S.__)("General templates","kubio"),templates:d.general,hasAdd:!1,category:"general"}))}function Qa(e){let{activeMenu:t,onActivateMenu:n}=e;const{postId:o,postType:a}=Object(y.useSelect)((e=>{const{getEditedPostType:t,getEditedPostId:n}=e(Oe);return{postId:n(),postType:t()}}),[]);return Object(l.createElement)(j.__experimentalNavigation,{activeItem:`${a}-${o}`,activeMenu:t,onActivateMenu:e=>{n(e)}},Object(l.createElement)(j.__experimentalNavigationMenu,{title:Object(S.__)("Advanced","kubio")},Object(l.createElement)(j.__experimentalNavigationItem,{title:Object(S.__)("Templates","kubio"),navigateToMenu:Ao}),Object(l.createElement)(j.__experimentalNavigationItem,{title:Object(S.__)("Template Parts","kubio"),navigateToMenu:Ro}),Object(l.createElement)(Xa,{activeMenu:t}),Object(l.createElement)(Ua,null)))}var Za=e=>{let{isOpen:t}=e;const[n,o]=Object(l.useState)(Po),[a,r]=Object(l.useState)(Po),{siteTitle:i}=Object(y.useSelect)((e=>{const{getEntityRecord:t}=e("core");return{siteTitle:(t("root","__unstableBase",void 0)||{}).name}}),[]),c=Object(l.useRef)();Object(l.useEffect)((()=>{t&&c.current.focus()}),[a]);const s=Object(E.usePrevious)(t);Object(l.useEffect)((()=>{n!==Po&&t&&!s&&o(Po)}),[n,t]);const{setIsNavigationPanelOpened:u}=Object(y.useDispatch)(Oe);return Object(l.createElement)("div",{className:w()("edit-site-navigation-panel",{"is-open":t}),ref:c,tabIndex:"-1",onKeyDown:e=>{e.keyCode===Ea.ESCAPE&&(e.stopPropagation(),u(!1))}},Object(l.createElement)("div",{className:"edit-site-navigation-panel__inner"},Object(l.createElement)("div",{className:"edit-site-navigation-panel__site-title-container"},Object(l.createElement)(j.Flex,null,Object(l.createElement)(j.FlexBlock,null,Object(l.createElement)("div",{className:"edit-site-navigation-panel__site-title"},i)),Object(l.createElement)(j.FlexItem,null,Object(l.createElement)(j.Tooltip,{text:Object(S.__)("Close panel","kubio")},Object(l.createElement)(j.Button,{className:"kubio-edit-site-navigation-panel__close-button",icon:jo.a,onClick:()=>u(!1)}))))),Object(l.createElement)("div",{className:"edit-site-navigation-panel__scroll-container"},a===Po&&Object(l.createElement)(Ha,{onActivateMenu:o}),n===Po&&Object(l.createElement)(Qa,{activeMenu:a,onActivateMenu:r}))))};var Ja=function(e){let{isOpen:t}=e;const{isActive:n}=Object(y.useSelect)((e=>{const{isFeatureActive:t}=e(m.STORE_KEY);return{isActive:t("fullscreenMode")}}),[]),{setIsNavigationPanelOpened:o}=Object(y.useDispatch)(m.STORE_KEY);if(!n)return null;const a=Object(l.createElement)(j.Icon,{size:"36px",icon:Ee.KubioLogo});return Object(l.createElement)("div",{className:"edit-site-navigation-toggle"+(t?" is-open":"")},Object(l.createElement)(j.Button,{className:"edit-site-navigation-toggle__button has-icon",label:Object(S.__)("Toggle navigation","kubio"),onClick:()=>o(!t),showTooltip:!0},a))};const{Fill:er,Slot:tr}=Object(j.createSlotFill)("EditSiteNavigationPanelPreview");function nr(){const e=Object(y.useSelect)((e=>e(Oe).isNavigationOpened()));return Object(l.createElement)(l.Fragment,null,Object(l.createElement)(Ja,{isOpen:e}),e&&Object(l.createElement)(Za,{isOpen:e}),Object(l.createElement)(tr,null))}function or(){const{setIsListViewOpened:e}=Object(y.useDispatch)(m.STORE_KEY),{clearSelectedBlock:t,selectBlock:n}=Object(y.useDispatch)(h.store);const o=Object(E.useFocusOnMount)("firstElement"),a=Object(E.useFocusReturn)();const r=`edit-site-editor__list-view-panel-label-${Object(E.useInstanceId)(or)}`;return Object(l.createElement)("div",{"aria-labelledby":r,className:"edit-site-editor__list-view-panel",onKeyDown:function(t){t.keyCode!==Ea.ESCAPE||t.defaultPrevented||e(!1)}},Object(l.createElement)("div",{className:"edit-site-editor__list-view-panel-header"},Object(l.createElement)("strong",{id:r},Object(S.__)("List view","kubio")),Object(l.createElement)(j.Button,{icon:N.a,label:Object(S.__)("Close list view sidebar","kubio"),onClick:()=>e(!1)})),Object(l.createElement)("div",{className:"edit-site-editor__list-view-panel-content",ref:Object(E.useMergeRefs)([a,o])},Object(l.createElement)(h.__experimentalListView,{onSelect:async function(e){await t(),n(e,-1)},showNestedBlocks:!0,__experimentalFeatures:!0,__experimentalPersistentListViewFeatures:!0})))}function ar(){const{setTemplate:e,setTemplatePart:t,showHomepage:n,setPage:o}=Object(y.useDispatch)(m.STORE_KEY),{siteUrl:a,state:r}=window.kubioEditSiteSettings;Object(l.useEffect)((()=>{!async function(){var i,l,c,s;const u=window.location.href,b=Object(ge.getQueryArg)(u,"postId")||(null==r||null===(i=r.entity)||void 0===i||null===(l=i.context)||void 0===l?void 0:l.postId),d=Object(ge.getQueryArg)(u,"pageURL");if(!b&&!d)return void await n();const p=Object(ge.getQueryArg)(u,"postType")||(null==r||null===(c=r.entity)||void 0===c||null===(s=c.context)||void 0===s?void 0:s.postType);if(d)await o({path:d});else if("wp_template"===p)await e(b);else if("wp_template_part"===p)await t(b);else if(p){var m,O,f;const e=(null==r||null===(m=r.entity)||void 0===m||null===(O=m.context)||void 0===O?void 0:O.postId)===b?null==r||null===(f=r.entity)||void 0===f?void 0:f.path:`${a}?p=${b}`;await o({context:{postType:p,postId:b},path:e})}else await n();Object(Be.doAction)("kubio.afterEntitySet")}()}),[]);const i=function(){const e=Object(l.useRef)(),t=Object(y.useSelect)((e=>{var t,n;const{getEditedPostType:o,getEditedPostId:a,getPage:r}=e(m.STORE_KEY),i=r();let l=a(),c=o();return null!=i&&null!==(t=i.context)&&void 0!==t&&t.postId&&null!=i&&null!==(n=i.context)&&void 0!==n&&n.postType&&(l=i.context.postId,c=i.context.postType),l&&c?{postId:l,postType:c,page:i}:{page:i}}));d.a.isEqual(e.current,t)||(e.current=t);return e.current}();return Object(l.useEffect)((()=>{const e=Object(ge.removeQueryArgs)(window.location.href,"postType","postId","pageURL"),{page:t,...n}=i,o=i?Object(ge.addQueryArgs)(e,n):e;window.history.replaceState({},"",o)}),[i]),null}const rr=Object(l.createContext)({}),ir=[Object(Ge.getNamesOfBlocks)().HEADER,Object(Ge.getNamesOfBlocks)().FOOTER,Object(Ge.getNamesOfBlocks)().SIDEBAR,"core/template-part","core/post-content"],lr=e=>{let{children:t,blockContext:n,templateId:o,templateType:a,page:r}=e;const[i,c]=Object(l.useState)({}),s=Object(l.useRef)([]),u=Object(l.useRef)([]),[d,p]=Object(l.useState)(!1),m=Object(O.useSetGlobalSessionProp)("ready"),f=Object(O.useGetGlobalSessionProp)("ready",!1),{getCurrentBlocksIds:g,partsResolutionFinished:h}=Object(y.useSelect)((e=>{var t;const{getClientIdsWithDescendants:n}=e("core/block-editor"),{hasFinishedResolution:i,getEntityRecords:l}=e("core"),c=null===(t=l("postType","wp_template_part"))||void 0===t?void 0:t.map((e=>{let{id:t}=e;return t}));return{getCurrentBlocksIds:n,partsResolutionFinished:!(!f&&o&&a)||u.current.reduce(((e,t)=>{let{theme:n,slug:o,content:a}=t,l=!0;var s,u;a?l=i("getEditedEntityRecord",["postType",null==r||null===(s=r.context)||void 0===s?void 0:s.postType,null==r||null===(u=r.context)||void 0===u?void 0:u.postId]):null!=c&&c.includes(`${n}//${o}`)&&(l=i("getEditedEntityRecord",["postType","wp_template_part",`${n}//${o}`]));return e&&l}),!0)}}),[u.current.length,f,n,o,o]),j=Object(E.useDebounce)(Object(l.useCallback)((e=>{m(e)}),[]),3e3);Object(l.useEffect)((()=>{f||(s.current=[],u.current=[]),p(f)}),[f]);const v=Object(E.useDebounce)(Object(l.useCallback)((e=>{m(e)}),[]),1e4);Object(l.useEffect)((()=>{const e=u.current.length?d&&h:d;h&&v(!0),j(e)}),[h,d,u.current]);const _=Object(l.useCallback)(((e,t,n)=>{let{theme:o,slug:a}=n;s.current=Object(b.uniq)([...s.current,e]);const r=s.current.length,i=g().length;ir.includes(t)&&(o&&a?Object(b.find)(u.current,{theme:o,slug:a})||u.current.push({theme:o,slug:a}):"core/post-content"===t&&u.current.push({content:!0})),r>=i&&p(!0)}),[]);Object(l.useEffect)((()=>{!Object(b.isEqual)(i,n)&&o&&a&&c(n)}),[n,o,a]);const k=Object(l.useMemo)((()=>({isReady:f,markBlockAsLoaded:_})),[f]);return Object(l.createElement)(rr.Provider,{value:k},t)},cr=Object(E.createHigherOrderComponent)((e=>t=>{const{markBlockAsLoaded:n,isReady:o}=Object(l.useContext)(rr);return Object(l.useEffect)((()=>{o||n(t.clientId,t.name,t.attributes)}),[o]),Object(l.createElement)(e,t)}),"BlockListEditorStateReady");function sr(){return function(){const[e,t]=Object(g.useGlobalStylesOutput)(),{getSettings:n}=Object(y.useSelect)(Oe),{updateSettings:o}=Object(y.useDispatch)(Oe);Object(l.useEffect)((()=>{var a;if(d.a.isEmpty(e)||d.a.isEmpty(t))return;const r=n(),i=(null==r||null===(a=r.styles)||void 0===a?void 0:a.filter((e=>!e.isGlobalStyles)))||[],l=Object(Ne.mergeNoArrays)({},r,{styles:[...i,...e],__experimentalFeatures:t});o(l)}),[e,t])}(),null}Object(Be.addFilter)("editor.BlockListBlock","kubio/style/BlockListEditorStateReady",Object(E.compose)([cr]),1);const ur={secondarySidebar:Object(S.__)("Block Library","kubio"),drawer:Object(S.__)("Navigation Sidebar","kubio")},br=Object(E.createHigherOrderComponent)((e=>t=>{var n,o;let{initialSettings:a}=t;const{isFullscreenActive:r,sidebarIsOpened:i,settings:c,templateId:s,templateType:u,page:b,isNavigationOpen:p,isInserterOpen:O,isListViewOpen:f,isFSETemplate:g}=Object(y.useSelect)((e=>{const{isFeatureActive:t,getSettings:n,getEditedPostType:o,getEditedPostId:a,getPage:r,isNavigationOpened:i,isListViewOpened:l}=e(m.STORE_KEY),c=o(),s=a();return{isFullscreenActive:t("fullscreenMode"),sidebarIsOpened:e(m.STORE_KEY).isEditorSidebarOpened(),settings:n(),templateType:c,page:r(),templateId:s,isNavigationOpen:i(),isInserterOpen:e(m.STORE_KEY).getOpenedInserter(),isFSETemplate:!!s&&!!c,isListViewOpen:l()}}),[]),{postId:h,post:j,currentTemplateId:E,isKubioTheme:v}=Object(y.useSelect)((e=>{const t=d.a.get(b,["context","postId"]),n=d.a.get(b,["context","postType"]),{getEditorSettings:o}=e(k.store),{getEntityRecord:a,getEntityRecords:r}=e("core"),{getTemplateId:i=d.a.noop}=e("kubio/edit-site");let l;if(["wp_template","wp_template_part"].includes(n)){const e=r("postType",n,{wp_id:t});l=null==e?void 0:e[0]}else l=a("postType",n,t);return{postId:t,currentTemplateId:i(),isKubioTheme:o().supportsTemplateMode,post:l}}),[null==b||null===(n=b.context)||void 0===n?void 0:n.postId,null==b||null===(o=b.context)||void 0===o?void 0:o.postType]),{openSidebar:_}=Object(y.useDispatch)(m.STORE_KEY);Object(l.useEffect)((()=>{_("document")}),[]);const{editEntityRecord:S}=Object(y.useDispatch)("core"),{updateEditorSettings:T,setupEditor:x}=Object(y.useDispatch)("core/editor"),{defaultTemplateTypes:w}=c;Object(l.useEffect)((()=>{T(a)}),[w]),Object(l.useEffect)((()=>{T({...a,defaultTemplateTypes:w})}),[w]),Object(l.useLayoutEffect)((()=>{j&&x(j)}),[h]),Object(l.useLayoutEffect)((()=>{if(j&&"string"==typeof E){const e=v?"full-width":"kubio-full-width",t=E.includes(e),n=d.a.get(j,["content","raw"]),o=d.a.get(j,"template"),a=d.a.get(j,"id"),r=d.a.get(j,"type");!n&&t&&""===o&&S("postType",r,a,{template:e})}}),[h]);const I={isListViewOpen:f,isFullscreenActive:r,sidebarIsOpened:i,templateId:s,templateType:u,page:b,isNavigationOpen:p,isInserterOpen:O,isFSETemplate:g,__experimentalGlobalStylesBaseStyles:c.__experimentalGlobalStylesBaseStyles,__experimentalGlobalStylesUserEntityId:c.__experimentalGlobalStylesUserEntityId};return Object(l.createElement)(l.Fragment,null,Object(l.createElement)(e,I),Object(l.createElement)(ar,null))}),"WithEditorCurrentEntity");var dr=Object(E.compose)(br,E.pure)((function(e){const{__experimentalGlobalStylesUserEntityId:t,sidebarIsOpened:n,templateId:o,templateType:a,page:r,isNavigationOpen:i,isInserterOpen:s,isListViewOpen:u,isFSETemplate:b}=e,{setPage:d}=Object(y.useDispatch)("core/editor"),E=Object(c.useActiveMedia)(),[_,S]=Object(l.useState)(!1),T=Object(l.useCallback)((()=>S(!0)),[]),x=Object(l.useCallback)((()=>{S(!1)}),[]);!function(){const{hasBlockSelection:e,isEditorSidebarOpened:t,isGlobalStyleEditing:n}=Object(y.useSelect)((e=>({hasBlockSelection:!!e("core/block-editor").getBlockSelectionStart(),isEditorSidebarOpened:e(m.STORE_KEY).isEditorSidebarOpened(),isGlobalStyleEditing:e(m.STORE_KEY).isGlobalStyleEditing()})),[]),{openSidebar:o}=Object(y.useDispatch)(m.STORE_KEY);Object(l.useEffect)((function(){t&&o(e?"block-inspector":n?"document/general-settings":"document")}),[e,t,n])}(),(()=>{const[e,t]=Object(l.useState)({}),[,n]=Object(Wn.useCurrentInspectorTab)(),o=Object(y.useSelect)((e=>{const t=e("core/block-editor").getSelectedBlock();return{clientId:null==t?void 0:t.clientId,name:null==t?void 0:t.name}}));Object(l.useEffect)((()=>{(null==e?void 0:e.clientId)!==(null==o?void 0:o.clientId)&&(null==e?void 0:e.name)!==(null==o?void 0:o.name)&&(n("content"),t(o))}),[o,e,t,n])})();const I=Object(O.useGetGlobalSessionProp)("ready",!1),C=Object(l.useMemo)((()=>({...null==r?void 0:r.context,queryContext:[(null==r?void 0:r.context.queryContext)||{page:1},e=>d({...r,context:{...null==r?void 0:r.context,queryContext:{...null==r?void 0:r.context.queryContext,...e}}})]})),[JSON.stringify(null==r?void 0:r.context)]);Object(l.useEffect)((()=>{i?document.body.classList.add("is-navigation-sidebar-open"):document.body.classList.remove("is-navigation-sidebar-open")}),[i]),Object(l.useEffect)((()=>Object(p.initializeGutentagPatterns)()),[]);const P=w()("kubio-sidebar",{"kubio-sidebar-hidden":!n||s||u}),R=w()("kubio-secondary-sidebar",{"kubio-secondary-sidebar-hidden":!(s||u)}),A=Object(l.createElement)(lr,{blockContext:C,templateId:o,templateType:a,page:r},Object(l.createElement)(f.KubioGlobalDataContextProvider,null,Object(l.createElement)($e,null,Object(l.createElement)(g.GlobalStylesProvider,null,Object(l.createElement)(h.BlockContextProvider,{value:C},Object(l.createElement)(sr,null),Object(l.createElement)(Ta.Register,null),Object(l.createElement)($n,null),Object(l.createElement)(pe,{labels:ur,drawer:Object(l.createElement)(nr,null),secondarySidebar:Object(l.createElement)("div",{className:R},s&&Object(l.createElement)(Ko,null),u&&Object(l.createElement)(or,null)),sidebar:Object(l.createElement)("div",{className:P},Object(l.createElement)(be.Slot,{scope:`${m.STORE_KEY}/sidebars`})),header:Object(l.createElement)(ka,{openEntitiesSavedStates:T}),notices:Object(l.createElement)(k.EditorSnackbars,null),content:Object(l.createElement)(l.Fragment,null,Object(l.createElement)(k.EditorNotices,null),b&&Object(l.createElement)(go,null),!b&&Object(l.createElement)(ho,null),Object(l.createElement)(Ta,{openEntitiesSavedStates:T}),Object(l.createElement)("div",{id:"kubio-toolbar-boundary"})),actions:Object(l.createElement)(l.Fragment,null,Object(l.createElement)(xo,{isOpen:_,close:x})),footer:Object(l.createElement)(h.BlockBreadcrumb,null)}),Object(l.createElement)(j.Popover.Slot,null),Object(l.createElement)(J.PluginArea,null))))));return Object(l.createElement)("div",{className:w()("kubio-editor-wrapper",`kubio-editor-wrapper--media-${E}`)},Object(l.createElement)(de,{isActive:!0}),Object(l.createElement)(k.UnsavedChangesWarning,null),Object(l.createElement)(me.ShortcutProvider,null,Object(l.createElement)(j.SlotFillProvider,null,Object(l.createElement)(v.EntityProvider,{kind:"root",type:"site"},b&&Object(l.createElement)(v.EntityProvider,{kind:"postType",type:a,id:o},Object(l.createElement)(v.EntityProvider,{kind:"postType",type:"wp_global_styles",id:t},A)),!b&&A))),Object(l.createElement)("div",{id:"vue-main-instance"}),I&&Object(l.createElement)(xa,{blockContext:C,templateId:o,templateType:a,page:r}))})),pr=n(117);Object(Be.addFilter)("editor.MediaUpload","kubio/edit-site/components/media-upload",(()=>pr.MediaUpload)),Object(Be.addFilter)("editor.BlockEdit","kubio/advancedPanel",Pt.withInspectorControlsAdvancedPanel);var mr=n(207);const Or={features:{fullscreenMode:!0}},fr=Object(y.combineReducers)({features(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Or.features,t=arguments.length>1?arguments[1]:void 0;return"TOGGLE_FEATURE"===t.type?{...e,[t.feature]:!e[t.feature]}:e}});var gr=Object(y.combineReducers)({preferences:fr,deviceType:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Desktop",t=arguments.length>1?arguments[1]:void 0;return"SET_PREVIEW_DEVICE_TYPE"===t.type?t.deviceType:e},settings:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return"UPDATE_SETTINGS"===t.type?{...e,...t.settings}:e},editedPost:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_TEMPLATE":case"SET_PAGE":return{type:"wp_template",id:t.templateId,page:t.page};case"SET_PAGE_CONTENT":return{page:t.page};case"SET_TEMPLATE_PART":return{type:"wp_template_part",id:t.templatePartId,page:{context:{}}}}return e},homeTemplateId:function(e,t){return"SET_HOME_TEMPLATE"===t.type?t.homeTemplateId:e},navigationPanel:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{menu:Po,isOpen:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"OPEN_NAVIGATION_PANEL_TO_MENU":return{...e,isOpen:!0,menu:t.menu};case"SET_IS_NAVIGATION_PANEL_OPENED":return{...e,menu:t.isOpen?e.menu:Po,isOpen:t.isOpen};case"SET_IS_INSERTER_OPENED":return{...e,menu:e.isOpen&&t.isOpen?Po:e.menu,isOpen:!t.isOpen&&e.isOpen}}return e},blockInserterPanel:function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"OPEN_NAVIGATION_PANEL_TO_MENU":return!1;case"SET_IS_NAVIGATION_PANEL_OPENED":return!t.isOpen&&e;case"SET_IS_INSERTER_OPENED":return t.isOpen}return e},currentAncestor:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return"SET_CURRENT_ANCESTOR"===t.type?t.currentAncestor:e},templateId:function(e,t){switch(t.type){case"SET_TEMPLATE":case"ADD_TEMPLATE":case"SET_PAGE":case"SET_ENTITY":return t.templateId;case"SET_TEMPLATE_PART":return}return e},templatePartId:function(e,t){return"SET_TEMPLATE_PART"===t.type?t.templatePartId:e},templateType:function(e,t){switch(t.type){case"SET_TEMPLATE":case"ADD_TEMPLATE":case"SET_PAGE":case"SET_ENTITY":return"wp_template";case"SET_TEMPLATE_PART":return"wp_template_part"}return e},templateIds:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TEMPLATE":return[...e,t.templateId];case"REMOVE_TEMPLATE":return e.filter((e=>e!==t.templateId))}return e},templatePartIds:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e},page:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_PAGE":case"SET_PAGE_CONTENT":case"SET_TEMPLATE":return t.page;case"SET_TEMPLATE_PART":return{context:{}}}return e},entity:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return"SET_ENTITY"===t.type?t.entity:e},showOnFront:function(e){return e},subSidebars:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_SUBSIDEBAR":return e[t.areaIdentifier]?e:{...e,[t.areaIdentifier]:t.sidebar};case"REMOVE_SUBSIDEBAR":return{...e,[t.areaIdentifier]:!1}}return e},globalStyleEditing:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{value:void 0,previousEntity:null},t=arguments.length>1?arguments[1]:void 0;return"TOGGLE_GLOBAL_STYLE_EDITING"===t.type?{...e,value:t.value,previousEntity:t.previousEntity}:e},openedInserter:function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;return"TOGGLE_IS_INSERTER_OPEN"===t.type?{value:null==t?void 0:t.value,clientId:null==t?void 0:t.rootClientId,options:(null==t?void 0:t.options)||{}}:e},isGutentagDebug:function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;return"TOGGLE_GUTENTAG_DEBUG"===t.type?null==t?void 0:t.value:e},classicTemplate:function(e,t){switch(t.type){case"SET_PAGE":case"SET_PAGE_CONTENT":return{...e,id:null==t?void 0:t.classicTemplateId}}return e},listViewPanel:function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"OPEN_NAVIGATION_PANEL_TO_MENU":return!1;case"SET_IS_NAVIGATION_PANEL_OPENED":return!t.isOpen&&e;case"SET_IS_INSERTER_OPENED":return!t.value&&e;case"SET_IS_LIST_VIEW_OPENED":return t.isOpen}return e}});const{select:hr,dispatch:jr}=y.controls;function Er(e){return{type:"TOGGLE_FEATURE",feature:e}}function vr(e){return{type:"SET_PREVIEW_DEVICE_TYPE",deviceType:e}}function*_r(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const o={templateSlug:t};if(!t){const t=yield y.controls.resolveSelect("core","getEntityRecord","postType","wp_template",e);o.templateSlug=null==t?void 0:t.slug}return{type:"SET_TEMPLATE",templateId:e,page:{context:n?{}:o}}}function*yr(e){const t=yield y.controls.dispatch("core","saveEntityRecord","postType","wp_template",e);return{type:"SET_TEMPLATE",templateId:t.id,page:{context:{templateSlug:t.slug}}}}function*kr(e){yield Object(mr.apiFetch)({path:`/wp/v2/templates/${e}`,method:"DELETE"});const t=yield y.controls.select(m.STORE_KEY,"getPage");yield y.controls.dispatch(m.STORE_KEY,"setPage",t)}function Sr(e){return{type:"SET_TEMPLATE_PART",templatePartId:e}}function Tr(e){return{type:"SET_HOME_TEMPLATE",homeTemplateId:e}}function*xr(e,t){var n;let o,a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e.path&&null!==(n=e.context)&&void 0!==n&&n.postId){const t=yield y.controls.resolveSelect("core","getEntityRecord","postType",e.context.postType||"post",e.context.postId);e.path=Object(ge.getPathAndQueryString)(t.link)}if(!a)return void(yield{type:"SET_PAGE_CONTENT",page:e,classicTemplateId:t});if(!t&&a&&(o=yield y.controls.resolveSelect("core","__experimentalGetTemplateForLink",e.path),!o))return void(yield{type:"SET_PAGE",page:e,templateId:null});const r=t||o,{id:i,slug:l}=r;return yield{type:"SET_PAGE",page:l?{...e,context:{...e.context,templateSlug:l}}:e,templateId:i},i}function*wr(){const{show_on_front:e,page_on_front:t}=yield y.controls.resolveSelect("core","getEntityRecord","root","site"),{siteUrl:n}=yield y.controls.select(m.STORE_KEY,"getSettings"),o={path:n,context:"page"===e?{postType:"page",postId:t}:{}},a=yield*xr(o);if(!a)return{type:"GUTENTAG_NO_ACTION"};yield Tr(a)}function Ir(e){return{type:"OPEN_NAVIGATION_PANEL_TO_MENU",menu:e}}function Cr(e){return{type:"SET_IS_NAVIGATION_PANEL_OPENED",isOpen:e}}function Pr(e){return{type:"UPDATE_SETTINGS",settings:e}}function*Rr(e){return yield jr("core/interface","enableComplementaryArea",`${m.STORE_KEY}/sidebars`,`${m.STORE_KEY}/sidebar/${e}`)}function*Ar(){return yield jr("core/interface","enableComplementaryArea",`${m.STORE_KEY}/sidebars`,`${m.STORE_KEY}/sidebar/block-inserter`)}function*Nr(e){let{areaIdentifier:t,sidebar:n}=e;return{type:"ADD_SUBSIDEBAR",sidebar:n,areaIdentifier:t}}function*Br(e){let{areaIdentifier:t}=e;return{type:"REMOVE_SUBSIDEBAR",areaIdentifier:t}}function*Dr(){yield jr("core/interface","enableComplementaryArea",`${m.STORE_KEY}/sidebars`)}function*Mr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:"TOGGLE_GLOBAL_STYLE_EDITING",value:e,previousEntity:t}}function*Lr(e){return{type:"TOGGLE_GUTENTAG_DEBUG",value:e}}function*Fr(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return{type:"TOGGLE_IS_INSERTER_OPEN",value:e,rootClientId:t||!1,options:n}}function zr(e){return{type:"SET_CURRENT_ANCESTOR",currentAncestor:e}}function Gr(e){return{type:"SET_IS_LIST_VIEW_OPENED",isOpen:e}}var Kr=n(52);const Hr=Object.values(c.defaultTemplatesByPostType).map((e=>`${e}.php`));function Vr(e,t){return"fullscreenMode"===t||Object(b.get)(e.preferences.features,[t],!1)}function Ur(e){return e.deviceType}const $r=Object(y.createRegistrySelector)((e=>()=>e("core").canUser("create","media"))),Yr=Object(Kr.a)(((e,t)=>{const n={...e.settings,outlineMode:!0,focusMode:Vr(e,"focusMode"),hasFixedToolbar:Vr(e,"fixedToolbar"),__experimentalSetIsInserterOpened:t};return $r(e)?(n.mediaUpload=t=>{let{onError:n,...o}=t;Object(pr.uploadMedia)({wpAllowedMimeTypes:e.settings.allowedMimeTypes,onError:e=>{let{message:t}=e;return n(t)},...o})},n):n}),(e=>[$r(e),e.settings,Vr(e,"focusMode"),Vr(e,"fixedToolbar")]));function Wr(e){return e.homeTemplateId}function qr(e){return e.editedPost.type}function Xr(e){return e.editedPost.id}function Qr(e){return e.editedPost.page}function Zr(e){return e.navigationPanel.isOpen}function Jr(e){return e.blockInserterPanel}function ei(e){return e.templateId}function ti(e){return e.templatePartId}function ni(e){return e.templateType}function oi(e){return e.templateIds}function ai(e){return e.templatePartIds}function ri(e){return e.entity}function ii(e){return e.showOnFront}const li=Object(y.createRegistrySelector)((e=>function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const o=e("core/interface").getActiveComplementaryArea(`${m.STORE_KEY}/sidebars`);return n?o===`${m.STORE_KEY}/sidebar/${n}`:!Object(b.isEmpty)(o)}));function ci(e){var t;return null===(t=e.openedInserter)||void 0===t?void 0:t.value}function si(e){var t;return null===(t=e.openedInserter)||void 0===t?void 0:t.clientId}function ui(e){var t,n;return!(null===(t=e.openedInserter)||void 0===t||null===(n=t.options)||void 0===n||!n.replace)}function bi(e){var t,n;return!(null===(t=e.openedInserter)||void 0===t||null===(n=t.options)||void 0===n||!n.closeOnSelect)}function di(e){return e.currentAncestor}function pi(){return Object(y.select)("core/interface").getActiveComplementaryArea(`${m.STORE_KEY}/sidebars`)}function mi(e){return e.subSidebars}function Oi(e){return e.globalStyleEditing.value}function fi(e){return e.globalStyleEditing.previousEntity}function gi(e){return e.isGutentagDebug}function hi(e){const{rootClientId:t,insertionIndex:n}=e.blockInserterPanel;return{rootClientId:t,insertionIndex:n}}function ji(e){return e.listViewPanel}const Ei=e=>{var t;const{templateId:n,templateType:o}=e;return n&&o&&(null===(t=Object(y.select)("core").getEditedEntityRecord("postType",o,n))||void 0===t?void 0:t.kubio_template_source)||null},vi=e=>{var t;const n=null==e||null===(t=e.page)||void 0===t?void 0:t.context;let o=null;var a,r,i;null!=n&&n.postType&&null!=n&&n.postId?o=null!==(a=Object(y.select)("core").getEditedEntityRecord("postType",null==n?void 0:n.postType,null==n?void 0:n.postId).template)&&void 0!==a?a:null:o=null!==(r=null===(i=e.templateId)||void 0===i?void 0:i.split("//").pop())&&void 0!==r?r:null;const l=Object(y.select)("core").getEditedEntityRecord("root","site");if("page"===l.show_on_front&&l.page_on_front===parseInt(null==n?void 0:n.postId)){const e=Object(y.select)("core").getEntityRecords("postType","wp_template",{per_page:-1}).map((e=>{let{id:t}=e;return t.split("//").pop()})).includes("front-page"),{classicHasFrontPageTemplate:t}=Object(y.select)("core/block-editor").getSettings();if(e||t)return"front-page"}return""===o&&(o="page"===(null==n?void 0:n.postType)?"page":"single"),o},_i=e=>{const t=vi(e);return!!t&&Object(y.select)("core").getEntityRecords("postType","wp_template",{per_page:-1}).map((e=>{let{id:t}=e;return t.split("//").pop()})).includes(t)},yi=e=>{var t;const n=null==e||null===(t=e.page)||void 0===t?void 0:t.context;return(null==n?void 0:n.postType)||null},ki=e=>{var t;const n=null==e||null===(t=e.page)||void 0===t?void 0:t.context;return(null==n?void 0:n.postId)||null},Si=e=>{var t;const n=null==e||null===(t=e.page)||void 0===t?void 0:t.context,o=Object(y.select)("core").getEditedEntityRecord("root","site"),a=null==o?void 0:o.page_for_posts;return parseInt(a)===parseInt(n.postId)},Ti=e=>{var t,n;const o=Qr(e),a="front-page"===(null==o||null===(t=o.context)||void 0===t?void 0:t.templateSlug),r=Object(y.select)("core").getEditedEntityRecord("root","site"),i=null==r?void 0:r.page_on_front,l=null==o||null===(n=o.context)||void 0===n?void 0:n.postId,c="page"===r.show_on_front&&parseInt(i)===parseInt(l);return a||c},xi=e=>{const t=Object(y.select)("core").getEditedEntityRecord("root","site"),n=Qr(e),o=d.a.get(n,"context",{}),{postType:a,postId:r}=o,i="page"===(null==t?void 0:t.show_on_front),l=null==t?void 0:t.page_on_front,c=i&&parseInt(l)===parseInt(r),s=i&&parseInt(null==t?void 0:t.page_for_posts)===parseInt(r);return"page"===a&&!s&&!c},wi=e=>{var t,n;const o=(null===(t=Object(y.select)("core").getEntityRecords("postType","wp_template",{per_page:-1}))||void 0===t?void 0:t.filter((e=>{let{slug:t}=e;return Object(c.currentTemplateIsPage)(t)})))||[],a=(null===(n=Object(y.select)("core/block-editor").getSettings())||void 0===n?void 0:n.classicThemeTemplates)||[],r=o.map((e=>{let{title:t,slug:n,kubio_template_source:o="custom"}=e;return{value:n,label:"kubio"===o?t.rendered.replace("Kubio","").trim():t.rendered,source:o}}));return Object.keys(a).forEach((e=>{const t=a[e];Object(b.find)(o,{slug:e.replace(".php","")})||r.push({value:Hr.includes(e)?e.replace(".php",""):e,label:t,isClassicTemplate:!0,source:"theme"})})),r.forEach((e=>{"page"===e.value&&(e.value="")})),d.a.sortBy(r,["source","label"])};function Ii(e){var t;return null==e||null===(t=e.classicTemplate)||void 0===t?void 0:t.id}const Ci={reducer:gr,actions:r,selectors:i,controls:mr.controls,persist:["preferences"]};var Pi=Object(l.createElement)(C.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"-2 -2 24 24"},Object(l.createElement)(C.Path,{d:"M20 10c0-5.51-4.49-10-10-10C4.48 0 0 4.49 0 10c0 5.52 4.48 10 10 10 5.51 0 10-4.48 10-10zM7.78 15.37L4.37 6.22c.55-.02 1.17-.08 1.17-.08.5-.06.44-1.13-.06-1.11 0 0-1.45.11-2.37.11-.18 0-.37 0-.58-.01C4.12 2.69 6.87 1.11 10 1.11c2.33 0 4.45.87 6.05 2.34-.68-.11-1.65.39-1.65 1.58 0 .74.45 1.36.9 2.1.35.61.55 1.36.55 2.46 0 1.49-1.4 5-1.4 5l-3.03-8.37c.54-.02.82-.17.82-.17.5-.05.44-1.25-.06-1.22 0 0-1.44.12-2.38.12-.87 0-2.33-.12-2.33-.12-.5-.03-.56 1.2-.06 1.22l.92.08 1.26 3.41zM17.41 10c.24-.64.74-1.87.43-4.25.7 1.29 1.05 2.71 1.05 4.25 0 3.29-1.73 6.24-4.4 7.78.97-2.59 1.94-5.2 2.92-7.78zM6.1 18.09C3.12 16.65 1.11 13.53 1.11 10c0-1.3.23-2.48.72-3.59C3.25 10.3 4.67 14.2 6.1 18.09zm4.03-6.63l2.58 6.98c-.86.29-1.76.45-2.71.45-.79 0-1.57-.11-2.29-.33.81-2.38 1.62-4.74 2.42-7.1z"}));var Ri=function(e){let{icon:t}=e;if(!Object(y.useSelect)((e=>e(m.STORE_KEY).isFeatureActive("fullscreenMode")),[]))return null;const n=t||Pi;return Object(l.createElement)(j.Button,{className:"edit-site-fullscreen-mode-close",icon:n,iconSize:36,href:"index.php",label:Object(S.__)("Back","kubio")})};function Ai(e,t){(t=Object(b.cloneDeep)(t)).__experimentalFetchLinkSuggestions=c.fetchLinkSuggestions,t.__experimentalSpotlightEntityBlocks=["core/template-part"];const n=new URLSearchParams(window.location.search);t.isGutentagDebug=!!n.get("kubio-debug");const o=t.state;delete t.state,o.settings=t,Object(s.registerCoreBlocks)(),Object(p.initFirebaseData)(),_.isFunction(s.__experimentalRegisterExperimentalCoreBlocks)&&Object(s.__experimentalRegisterExperimentalCoreBlocks)({enableFSEBlocks:!0}),async function(e){Object(y.registerStore)(Oe,{...Ci,initialState:e})}(o),Object(c.registerTemplateStore)(),Object(l.render)(Object(l.createElement)(l.StrictMode,null,Object(l.createElement)(dr,{initialSettings:o.settings})),document.getElementById(e)),window.kubioToggleDebug=e=>{wp.data.dispatch("kubio/edit-site").toggleGutentagDebug(e)}}},59:function(e,t){!function(){e.exports=this.wp.a11y}()},6:function(e,t){!function(){e.exports=this.wp.primitives}()},62:function(e,t){!function(){e.exports=this.wp.keyboardShortcuts}()},65:function(e,t){!function(){e.exports=this.ReactDOM}()},67:function(e,t){!function(){e.exports=this.kubio.blockLibrary}()},68:function(e,t,n){"use strict";var o=n(41),a=n(70),r=n(74),i=n(75)||0;function l(){return a(i)}e.exports=l,e.exports.generate=l,e.exports.seed=function(t){return o.seed(t),e.exports},e.exports.worker=function(t){return i=t,e.exports},e.exports.characters=function(e){return void 0!==e&&o.characters(e),o.shuffled()},e.exports.isValid=r},69:function(e,t,n){"use strict";var o=1;e.exports={nextValue:function(){return(o=(9301*o+49297)%233280)/233280},seed:function(e){o=e}}},7:function(e,t,n){"use strict";function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},o.apply(this,arguments)}n.d(t,"a",(function(){return o}))},70:function(e,t,n){"use strict";var o,a,r=n(71);n(41);e.exports=function(e){var t="",n=Math.floor(.001*(Date.now()-1567752802062));return n===a?o++:(o=0,a=n),t+=r(7),t+=r(e),o>0&&(t+=r(o)),t+=r(n)}},71:function(e,t,n){"use strict";var o=n(41),a=n(72),r=n(73);e.exports=function(e){for(var t,n=0,i="";!t;)i+=r(a,o.get(),1),t=e<Math.pow(16,n+1),n++;return i}},72:function(e,t,n){"use strict";var o,a="object"==typeof window&&(window.crypto||window.msCrypto);o=a&&a.getRandomValues?function(e){return a.getRandomValues(new Uint8Array(e))}:function(e){for(var t=[],n=0;n<e;n++)t.push(Math.floor(256*Math.random()));return t},e.exports=o},73:function(e,t){e.exports=function(e,t,n){for(var o=(2<<Math.log(t.length-1)/Math.LN2)-1,a=-~(1.6*o*n/t.length),r="";;)for(var i=e(a),l=a;l--;)if((r+=t[i[l]&o]||"").length===+n)return r}},74:function(e,t,n){"use strict";var o=n(41);e.exports=function(e){return!(!e||"string"!=typeof e||e.length<6)&&!new RegExp("[^"+o.get().replace(/[|\\{}()[\]^$+*?.-]/g,"\\$&")+"]").test(e)}},75:function(e,t,n){"use strict";e.exports=0},77:function(e,t,n){"use strict";e.exports=function(e,t,n,o,a,r,i,l){if(!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=[n,o,a,r,i,l],u=0;(c=new Error(t.replace(/%s/g,(function(){return s[u++]})))).name="Invariant Violation"}throw c.framesToPop=1,c}}},78:function(e,t){!function(){e.exports=this.wp.notices}()},8:function(e,t){!function(){e.exports=this.wp.data}()},83:function(e,t){!function(){e.exports=this.kubio.adminPanel}()},9:function(e,t){!function(){e.exports=this.kubio.styleManager}()},90:function(e,t){!function(){e.exports=this.kubio.advancedPanel}()},98:function(e,t,n){"use strict";n.d(t,"a",(function(){return ge})),n.d(t,"b",(function(){return Ee})),n.d(t,"c",(function(){return ce}));var o=n(7);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function r(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,a,r=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(o=n.next()).done)&&(r.push(o.value),!t||r.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return r}}(e,t)||r(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var l=n(29);function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&o.push.apply(o,Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach((function(t){Object(l.a)(e,t,n[t])}))}return e}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function b(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}var d=n(132),p=n.n(d),m=n(35);function O(e,t){if(t&&("object"===p()(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Object(m.a)(e)}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}var g=n(115);function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Object(g.a)(e,t)}var j=n(11),E=n(16),v=n.n(E),_=n(65),y=n(77),k=n.n(y);function S(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||r(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var T=function(){function e(){s(this,e),Object(l.a)(this,"refs",{})}return b(e,[{key:"add",value:function(e,t){this.refs[e]||(this.refs[e]=[]),this.refs[e].push(t)}},{key:"remove",value:function(e,t){var n=this.getIndex(e,t);-1!==n&&this.refs[e].splice(n,1)}},{key:"isActive",value:function(){return this.active}},{key:"getActive",value:function(){var e=this;return this.refs[this.active.collection].find((function(t){return t.node.sortableInfo.index==e.active.index}))}},{key:"getIndex",value:function(e,t){return this.refs[e].indexOf(t)}},{key:"getOrderedRefs",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.active.collection;return this.refs[e].sort(x)}}]),e}();function x(e,t){return e.node.sortableInfo.index-t.node.sortableInfo.index}function w(e,t){return Object.keys(e).reduce((function(n,o){return-1===t.indexOf(o)&&(n[o]=e[o]),n}),{})}var I={end:["touchend","touchcancel","mouseup"],move:["touchmove","mousemove"],start:["touchstart","mousedown"]},C=function(){if("undefined"==typeof window||"undefined"==typeof document)return"";var e=window.getComputedStyle(document.documentElement,"")||["-moz-hidden-iframe"],t=(Array.prototype.slice.call(e).join("").match(/-(moz|webkit|ms)-/)||""===e.OLink&&["","o"])[1];return"ms"===t?"ms":t&&t.length?t[0].toUpperCase()+t.substr(1):""}();function P(e,t){Object.keys(t).forEach((function(n){e.style[n]=t[n]}))}function R(e,t){e.style["".concat(C,"Transform")]=null==t?"":"translate3d(".concat(t.x,"px,").concat(t.y,"px,0)")}function A(e,t){e.style["".concat(C,"TransitionDuration")]=null==t?"":"".concat(t,"ms")}function N(e,t){for(;e;){if(t(e))return e;e=e.parentNode}return null}function B(e,t,n){return Math.max(e,Math.min(n,t))}function D(e){return"px"===e.substr(-2)?parseFloat(e):0}function M(e){var t=window.getComputedStyle(e);return{bottom:D(t.marginBottom),left:D(t.marginLeft),right:D(t.marginRight),top:D(t.marginTop)}}function L(e,t){var n=t.displayName||t.name;return n?"".concat(e,"(").concat(n,")"):e}function F(e,t){var n=e.getBoundingClientRect();return{top:n.top+t.top,left:n.left+t.left}}function z(e){return e.touches&&e.touches.length?{x:e.touches[0].pageX,y:e.touches[0].pageY}:e.changedTouches&&e.changedTouches.length?{x:e.changedTouches[0].pageX,y:e.changedTouches[0].pageY}:{x:e.pageX,y:e.pageY}}function G(e){return e.touches&&e.touches.length||e.changedTouches&&e.changedTouches.length}function K(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{left:0,top:0};if(e){var o={left:n.left+e.offsetLeft,top:n.top+e.offsetTop};return e.parentNode===t?o:K(e.parentNode,t,o)}}function H(e,t,n){return e<n&&e>t?e-1:e>n&&e<t?e+1:e}function V(e){var t=e.lockOffset,n=e.width,o=e.height,a=t,r=t,i="px";if("string"==typeof t){var l=/^[+-]?\d*(?:\.\d*)?(px|%)$/.exec(t);k()(null!==l,'lockOffset value should be a number or a string of a number followed by "px" or "%". Given %s',t),a=parseFloat(t),r=parseFloat(t),i=l[1]}return k()(isFinite(a)&&isFinite(r),"lockOffset value should be a finite. Given %s",t),"%"===i&&(a=a*n/100,r=r*o/100),{x:a,y:r}}function U(e){var t=e.height,n=e.width,o=e.lockOffset,a=Array.isArray(o)?o:[o,o];k()(2===a.length,"lockOffset prop of SortableContainer should be a single value or an array of exactly two values. Given %s",o);var r=i(a,2),l=r[0],c=r[1];return[V({height:t,lockOffset:l,width:n}),V({height:t,lockOffset:c,width:n})]}function $(e){return e instanceof HTMLElement?function(e){var t=window.getComputedStyle(e),n=/(auto|scroll)/;return["overflow","overflowX","overflowY"].find((function(e){return n.test(t[e])}))}(e)?e:$(e.parentNode):null}function Y(e){var t=window.getComputedStyle(e);return"grid"===t.display?{x:D(t.gridColumnGap),y:D(t.gridRowGap)}:{x:0,y:0}}var W=27,q=32,X=37,Q=38,Z=39,J=40,ee="A",te="BUTTON",ne="CANVAS",oe="INPUT",ae="OPTION",re="TEXTAREA",ie="SELECT";function le(e){var t="input, textarea, select, canvas, [contenteditable]",n=e.querySelectorAll(t),o=e.cloneNode(!0);return S(o.querySelectorAll(t)).forEach((function(e,t){("file"!==e.type&&(e.value=n[t].value),"radio"===e.type&&e.name&&(e.name="__sortableClone__".concat(e.name)),e.tagName===ne&&n[t].width>0&&n[t].height>0)&&e.getContext("2d").drawImage(n[t],0,0)})),o}function ce(e){var t,n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{withRef:!1};return n=t=function(t){function n(){return s(this,n),O(this,f(n).apply(this,arguments))}return h(n,t),b(n,[{key:"componentDidMount",value:function(){Object(_.findDOMNode)(this).sortableHandle=!0}},{key:"getWrappedInstance",value:function(){return k()(a.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableHandle() call"),this.refs.wrappedInstance}},{key:"render",value:function(){var t=a.withRef?"wrappedInstance":null;return Object(j.createElement)(e,Object(o.a)({ref:t},this.props))}}]),n}(j.Component),Object(l.a)(t,"displayName",L("sortableHandle",e)),n}function se(e){return null!=e.sortableHandle}var ue=function(){function e(t,n){s(this,e),this.container=t,this.onScrollCallback=n}return b(e,[{key:"clear",value:function(){null!=this.interval&&(clearInterval(this.interval),this.interval=null)}},{key:"update",value:function(e){var t=this,n=e.translate,o=e.minTranslate,a=e.maxTranslate,r=e.width,i=e.height,l={x:0,y:0},c={x:1,y:1},s=10,u=10,b=this.container,d=b.scrollTop,p=b.scrollLeft,m=b.scrollHeight,O=b.scrollWidth,f=0===d,g=m-d-b.clientHeight==0,h=0===p,j=O-p-b.clientWidth==0;n.y>=a.y-i/2&&!g?(l.y=1,c.y=u*Math.abs((a.y-i/2-n.y)/i)):n.x>=a.x-r/2&&!j?(l.x=1,c.x=s*Math.abs((a.x-r/2-n.x)/r)):n.y<=o.y+i/2&&!f?(l.y=-1,c.y=u*Math.abs((n.y-i/2-o.y)/i)):n.x<=o.x+r/2&&!h&&(l.x=-1,c.x=s*Math.abs((n.x-r/2-o.x)/r)),this.interval&&(this.clear(),this.isAutoScrolling=!1),0===l.x&&0===l.y||(this.interval=setInterval((function(){t.isAutoScrolling=!0;var e={left:c.x*l.x,top:c.y*l.y};t.container.scrollTop+=e.top,t.container.scrollLeft+=e.left,t.onScrollCallback(e)}),5))}}]),e}();var be={axis:v.a.oneOf(["x","y","xy"]),contentWindow:v.a.any,disableAutoscroll:v.a.bool,distance:v.a.number,getContainer:v.a.func,getHelperDimensions:v.a.func,helperClass:v.a.string,helperContainer:v.a.oneOfType([v.a.func,"undefined"==typeof HTMLElement?v.a.any:v.a.instanceOf(HTMLElement)]),hideSortableGhost:v.a.bool,keyboardSortingTransitionDuration:v.a.number,lockAxis:v.a.string,lockOffset:v.a.oneOfType([v.a.number,v.a.string,v.a.arrayOf(v.a.oneOfType([v.a.number,v.a.string]))]),lockToContainerEdges:v.a.bool,onSortEnd:v.a.func,onSortMove:v.a.func,onSortOver:v.a.func,onSortStart:v.a.func,pressDelay:v.a.number,pressThreshold:v.a.number,keyCodes:v.a.shape({lift:v.a.arrayOf(v.a.number),drop:v.a.arrayOf(v.a.number),cancel:v.a.arrayOf(v.a.number),up:v.a.arrayOf(v.a.number),down:v.a.arrayOf(v.a.number)}),shouldCancelStart:v.a.func,transitionDuration:v.a.number,updateBeforeSortStart:v.a.func,useDragHandle:v.a.bool,useWindowAsScrollContainer:v.a.bool},de={lift:[q],drop:[q],cancel:[W],up:[Q,X],down:[J,Z]},pe={axis:"y",disableAutoscroll:!1,distance:0,getHelperDimensions:function(e){var t=e.node;return{height:t.offsetHeight,width:t.offsetWidth}},hideSortableGhost:!0,lockOffset:"50%",lockToContainerEdges:!1,pressDelay:0,pressThreshold:5,keyCodes:de,shouldCancelStart:function(e){return-1!==[oe,re,ie,ae,te].indexOf(e.target.tagName)||!!N(e.target,(function(e){return"true"===e.contentEditable}))},transitionDuration:300,useWindowAsScrollContainer:!1},me=Object.keys(be);function Oe(e){k()(!(e.distance&&e.pressDelay),"Attempted to set both `pressDelay` and `distance` on SortableContainer, you may only use one or the other, not both at the same time.")}function fe(e,t){try{var n=e()}catch(e){return t(!0,e)}return n&&n.then?n.then(t.bind(null,!1),t.bind(null,!0)):t(!1,value)}function ge(e){var t,n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{withRef:!1};return n=t=function(t){function n(e){var t;return s(this,n),t=O(this,f(n).call(this,e)),Object(l.a)(Object(m.a)(Object(m.a)(t)),"state",{}),Object(l.a)(Object(m.a)(Object(m.a)(t)),"handleStart",(function(e){var n=t.props,o=n.distance,a=n.shouldCancelStart;if(2!==e.button&&!a(e)){t.touched=!0,t.position=z(e);var r=N(e.target,(function(e){return null!=e.sortableInfo}));if(r&&r.sortableInfo&&t.nodeIsChild(r)&&!t.state.sorting){var i=t.props.useDragHandle,l=r.sortableInfo,c=l.index,s=l.collection;if(l.disabled)return;if(i&&!N(e.target,se))return;t.manager.active={collection:s,index:c},G(e)||e.target.tagName!==ee||e.preventDefault(),o||(0===t.props.pressDelay?t.handlePress(e):t.pressTimer=setTimeout((function(){return t.handlePress(e)}),t.props.pressDelay))}}})),Object(l.a)(Object(m.a)(Object(m.a)(t)),"nodeIsChild",(function(e){return e.sortableInfo.manager===t.manager})),Object(l.a)(Object(m.a)(Object(m.a)(t)),"handleMove",(function(e){var n=t.props,o=n.distance,a=n.pressThreshold;if(!t.state.sorting&&t.touched&&!t._awaitingUpdateBeforeSortStart){var r=z(e),i={x:t.position.x-r.x,y:t.position.y-r.y},l=Math.abs(i.x)+Math.abs(i.y);t.delta=i,o||a&&!(l>=a)?o&&l>=o&&t.manager.isActive()&&t.handlePress(e):(clearTimeout(t.cancelTimer),t.cancelTimer=setTimeout(t.cancel,0))}})),Object(l.a)(Object(m.a)(Object(m.a)(t)),"handleEnd",(function(){t.touched=!1,t.cancel()})),Object(l.a)(Object(m.a)(Object(m.a)(t)),"cancel",(function(){var e=t.props.distance;t.state.sorting||(e||clearTimeout(t.pressTimer),t.manager.active=null)})),Object(l.a)(Object(m.a)(Object(m.a)(t)),"handlePress",(function(e){try{var n=t.manager.getActive(),o=function(){if(n){var o=function(){var n=p.sortableInfo.index,o=M(p),a=Y(t.container),u=t.scrollContainer.getBoundingClientRect(),f=i({index:n,node:p,collection:m});if(t.node=p,t.margin=o,t.gridGap=a,t.width=f.width,t.height=f.height,t.marginOffset={x:t.margin.left+t.margin.right+t.gridGap.x,y:Math.max(t.margin.top,t.margin.bottom,t.gridGap.y)},t.boundingClientRect=p.getBoundingClientRect(),t.containerBoundingRect=u,t.index=n,t.newIndex=n,t.axis={x:r.indexOf("x")>=0,y:r.indexOf("y")>=0},t.offsetEdge=K(p,t.container),t.initialOffset=z(O?c({},e,{pageX:t.boundingClientRect.left,pageY:t.boundingClientRect.top}):e),t.initialScroll={left:t.scrollContainer.scrollLeft,top:t.scrollContainer.scrollTop},t.initialWindowScroll={left:window.pageXOffset,top:window.pageYOffset},t.helper=t.helperContainer.appendChild(le(p)),P(t.helper,{boxSizing:"border-box",height:"".concat(t.height,"px"),left:"".concat(t.boundingClientRect.left-o.left,"px"),pointerEvents:"none",position:"fixed",top:"".concat(t.boundingClientRect.top-o.top,"px"),width:"".concat(t.width,"px")}),O&&t.helper.focus(),s&&(t.sortableGhost=p,P(p,{opacity:0,visibility:"hidden"})),t.minTranslate={},t.maxTranslate={},O){var g=d?{top:0,left:0,width:t.contentWindow.innerWidth,height:t.contentWindow.innerHeight}:t.containerBoundingRect,h=g.top,j=g.left,E=g.width,v=h+g.height,_=j+E;t.axis.x&&(t.minTranslate.x=j-t.boundingClientRect.left,t.maxTranslate.x=_-(t.boundingClientRect.left+t.width)),t.axis.y&&(t.minTranslate.y=h-t.boundingClientRect.top,t.maxTranslate.y=v-(t.boundingClientRect.top+t.height))}else t.axis.x&&(t.minTranslate.x=(d?0:u.left)-t.boundingClientRect.left-t.width/2,t.maxTranslate.x=(d?t.contentWindow.innerWidth:u.left+u.width)-t.boundingClientRect.left-t.width/2),t.axis.y&&(t.minTranslate.y=(d?0:u.top)-t.boundingClientRect.top-t.height/2,t.maxTranslate.y=(d?t.contentWindow.innerHeight:u.top+u.height)-t.boundingClientRect.top-t.height/2);l&&l.split(" ").forEach((function(e){return t.helper.classList.add(e)})),t.listenerNode=e.touches?p:t.contentWindow,O?(t.listenerNode.addEventListener("wheel",t.handleKeyEnd,!0),t.listenerNode.addEventListener("mousedown",t.handleKeyEnd,!0),t.listenerNode.addEventListener("keydown",t.handleKeyDown)):(I.move.forEach((function(e){return t.listenerNode.addEventListener(e,t.handleSortMove,!1)})),I.end.forEach((function(e){return t.listenerNode.addEventListener(e,t.handleSortEnd,!1)}))),t.setState({sorting:!0,sortingIndex:n}),b&&b({node:p,index:n,collection:m,isKeySorting:O,nodes:t.manager.getOrderedRefs(),helper:t.helper},e),O&&t.keyMove(0)},a=t.props,r=a.axis,i=a.getHelperDimensions,l=a.helperClass,s=a.hideSortableGhost,u=a.updateBeforeSortStart,b=a.onSortStart,d=a.useWindowAsScrollContainer,p=n.node,m=n.collection,O=t.manager.isKeySorting,f=function(){if("function"==typeof u){t._awaitingUpdateBeforeSortStart=!0;var n=fe((function(){var t=p.sortableInfo.index;return Promise.resolve(u({collection:m,index:t,node:p,isKeySorting:O},e)).then((function(){}))}),(function(e,n){if(t._awaitingUpdateBeforeSortStart=!1,e)throw n;return n}));if(n&&n.then)return n.then((function(){}))}}();return f&&f.then?f.then(o):o()}}();return Promise.resolve(o&&o.then?o.then((function(){})):void 0)}catch(e){return Promise.reject(e)}})),Object(l.a)(Object(m.a)(Object(m.a)(t)),"handleSortMove",(function(e){var n=t.props.onSortMove;"function"==typeof e.preventDefault&&e.preventDefault(),t.updateHelperPosition(e),t.animateNodes(),t.autoscroll(),n&&n(e)})),Object(l.a)(Object(m.a)(Object(m.a)(t)),"handleSortEnd",(function(e){var n=t.props,o=n.hideSortableGhost,a=n.onSortEnd,r=t.manager,i=r.active.collection,l=r.isKeySorting,c=t.manager.getOrderedRefs();t.listenerNode&&(l?(t.listenerNode.removeEventListener("wheel",t.handleKeyEnd,!0),t.listenerNode.removeEventListener("mousedown",t.handleKeyEnd,!0),t.listenerNode.removeEventListener("keydown",t.handleKeyDown)):(I.move.forEach((function(e){return t.listenerNode.removeEventListener(e,t.handleSortMove)})),I.end.forEach((function(e){return t.listenerNode.removeEventListener(e,t.handleSortEnd)})))),t.helper.parentNode.removeChild(t.helper),o&&t.sortableGhost&&P(t.sortableGhost,{opacity:"",visibility:""});for(var s=0,u=c.length;s<u;s++){var b=c[s],d=b.node;b.edgeOffset=null,b.boundingClientRect=null,R(d,null),A(d,null),b.translate=null}t.autoScroller.clear(),t.manager.active=null,t.manager.isKeySorting=!1,t.setState({sorting:!1,sortingIndex:null}),"function"==typeof a&&a({collection:i,newIndex:t.newIndex,oldIndex:t.index,isKeySorting:l,nodes:c},e),t.touched=!1})),Object(l.a)(Object(m.a)(Object(m.a)(t)),"autoscroll",(function(){var e=t.props.disableAutoscroll,n=t.manager.isKeySorting;if(e)t.autoScroller.clear();else{if(n){var o=c({},t.translate),a=0,r=0;return t.axis.x&&(o.x=Math.min(t.maxTranslate.x,Math.max(t.minTranslate.x,t.translate.x)),a=t.translate.x-o.x),t.axis.y&&(o.y=Math.min(t.maxTranslate.y,Math.max(t.minTranslate.y,t.translate.y)),r=t.translate.y-o.y),t.translate=o,R(t.helper,t.translate),t.scrollContainer.scrollLeft+=a,void(t.scrollContainer.scrollTop+=r)}t.autoScroller.update({height:t.height,maxTranslate:t.maxTranslate,minTranslate:t.minTranslate,translate:t.translate,width:t.width})}})),Object(l.a)(Object(m.a)(Object(m.a)(t)),"onAutoScroll",(function(e){t.translate.x+=e.left,t.translate.y+=e.top,t.animateNodes()})),Object(l.a)(Object(m.a)(Object(m.a)(t)),"handleKeyDown",(function(e){var n=e.keyCode,o=t.props,a=o.shouldCancelStart,r=o.keyCodes,i=c({},de,void 0===r?{}:r);t.manager.active&&!t.manager.isKeySorting||!(t.manager.active||i.lift.includes(n)&&!a(e)&&t.isValidSortingTarget(e))||(e.stopPropagation(),e.preventDefault(),i.lift.includes(n)&&!t.manager.active?t.keyLift(e):i.drop.includes(n)&&t.manager.active?t.keyDrop(e):i.cancel.includes(n)?(t.newIndex=t.manager.active.index,t.keyDrop(e)):i.up.includes(n)?t.keyMove(-1):i.down.includes(n)&&t.keyMove(1))})),Object(l.a)(Object(m.a)(Object(m.a)(t)),"keyLift",(function(e){var n=e.target,o=N(n,(function(e){return null!=e.sortableInfo})).sortableInfo,a=o.index,r=o.collection;t.initialFocusedNode=n,t.manager.isKeySorting=!0,t.manager.active={index:a,collection:r},t.handlePress(e)})),Object(l.a)(Object(m.a)(Object(m.a)(t)),"keyMove",(function(e){var n=t.manager.getOrderedRefs(),o=n[n.length-1].node.sortableInfo.index,a=t.newIndex+e,r=t.newIndex;if(!(a<0||a>o)){t.prevIndex=r,t.newIndex=a;var i=H(t.newIndex,t.prevIndex,t.index),l=n.find((function(e){return e.node.sortableInfo.index===i})),c=l.node,s=t.containerScrollDelta,u=l.boundingClientRect||F(c,s),b=l.translate||{x:0,y:0},d=u.top+b.y-s.top,p=u.left+b.x-s.left,m=r<a,O=m&&t.axis.x?c.offsetWidth-t.width:0,f=m&&t.axis.y?c.offsetHeight-t.height:0;t.handleSortMove({pageX:p+O,pageY:d+f,ignoreTransition:0===e})}})),Object(l.a)(Object(m.a)(Object(m.a)(t)),"keyDrop",(function(e){t.handleSortEnd(e),t.initialFocusedNode&&t.initialFocusedNode.focus()})),Object(l.a)(Object(m.a)(Object(m.a)(t)),"handleKeyEnd",(function(e){t.manager.active&&t.keyDrop(e)})),Object(l.a)(Object(m.a)(Object(m.a)(t)),"isValidSortingTarget",(function(e){var n=t.props.useDragHandle,o=e.target,a=N(o,(function(e){return null!=e.sortableInfo}));return a&&a.sortableInfo&&!a.sortableInfo.disabled&&(n?se(o):o.sortableInfo)})),Oe(e),t.manager=new T,t.events={end:t.handleEnd,move:t.handleMove,start:t.handleStart},t}return h(n,t),b(n,[{key:"getChildContext",value:function(){return{manager:this.manager}}},{key:"componentDidMount",value:function(){var e=this,t=this.props.useWindowAsScrollContainer,n=this.getContainer();Promise.resolve(n).then((function(n){e.container=n,e.document=e.container.ownerDocument||document;var o=e.props.contentWindow||e.document.defaultView||window;e.contentWindow="function"==typeof o?o():o,e.scrollContainer=t?e.document.scrollingElement||e.document.documentElement:$(e.container)||e.container,e.autoScroller=new ue(e.scrollContainer,e.onAutoScroll),Object.keys(e.events).forEach((function(t){return I[t].forEach((function(n){return e.container.addEventListener(n,e.events[t],!1)}))})),e.container.addEventListener("keydown",e.handleKeyDown)}))}},{key:"componentWillUnmount",value:function(){var e=this;this.helper&&this.helper.parentNode&&this.helper.parentNode.removeChild(this.helper),this.container&&(Object.keys(this.events).forEach((function(t){return I[t].forEach((function(n){return e.container.removeEventListener(n,e.events[t])}))})),this.container.removeEventListener("keydown",this.handleKeyDown))}},{key:"updateHelperPosition",value:function(e){var t=this.props,n=t.lockAxis,o=t.lockOffset,a=t.lockToContainerEdges,r=t.transitionDuration,l=t.keyboardSortingTransitionDuration,c=void 0===l?r:l,s=this.manager.isKeySorting,u=e.ignoreTransition,b=z(e),d={x:b.x-this.initialOffset.x,y:b.y-this.initialOffset.y};if(d.y-=window.pageYOffset-this.initialWindowScroll.top,d.x-=window.pageXOffset-this.initialWindowScroll.left,this.translate=d,a){var p=i(U({height:this.height,lockOffset:o,width:this.width}),2),m=p[0],O=p[1],f={x:this.width/2-m.x,y:this.height/2-m.y},g={x:this.width/2-O.x,y:this.height/2-O.y};d.x=B(this.minTranslate.x+f.x,this.maxTranslate.x-g.x,d.x),d.y=B(this.minTranslate.y+f.y,this.maxTranslate.y-g.y,d.y)}"x"===n?d.y=0:"y"===n&&(d.x=0),s&&c&&!u&&A(this.helper,c),R(this.helper,d)}},{key:"animateNodes",value:function(){var e=this.props,t=e.transitionDuration,n=e.hideSortableGhost,o=e.onSortOver,a=this.containerScrollDelta,r=this.windowScrollDelta,i=this.manager.getOrderedRefs(),l=this.offsetEdge.left+this.translate.x+a.left,c=this.offsetEdge.top+this.translate.y+a.top,s=this.manager.isKeySorting,u=this.newIndex;this.newIndex=null;for(var b=0,d=i.length;b<d;b++){var p=i[b].node,m=p.sortableInfo.index,O=p.offsetWidth,f=p.offsetHeight,g={height:this.height>f?f/2:this.height/2,width:this.width>O?O/2:this.width/2},h=s&&m>this.index&&m<=u,j=s&&m<this.index&&m>=u,E={x:0,y:0},v=i[b].edgeOffset;v||(v=K(p,this.container),i[b].edgeOffset=v,s&&(i[b].boundingClientRect=F(p,a)));var _=b<i.length-1&&i[b+1],y=b>0&&i[b-1];_&&!_.edgeOffset&&(_.edgeOffset=K(_.node,this.container),s&&(_.boundingClientRect=F(_.node,a))),m!==this.index?(t&&A(p,t),this.axis.x?this.axis.y?j||m<this.index&&(l+r.left-g.width<=v.left&&c+r.top<=v.top+g.height||c+r.top+g.height<=v.top)?(E.x=this.width+this.marginOffset.x,v.left+E.x>this.containerBoundingRect.width-g.width&&_&&(E.x=_.edgeOffset.left-v.left,E.y=_.edgeOffset.top-v.top),null===this.newIndex&&(this.newIndex=m)):(h||m>this.index&&(l+r.left+g.width>=v.left&&c+r.top+g.height>=v.top||c+r.top+g.height>=v.top+f))&&(E.x=-(this.width+this.marginOffset.x),v.left+E.x<this.containerBoundingRect.left+g.width&&y&&(E.x=y.edgeOffset.left-v.left,E.y=y.edgeOffset.top-v.top),this.newIndex=m):h||m>this.index&&l+r.left+g.width>=v.left?(E.x=-(this.width+this.marginOffset.x),this.newIndex=m):(j||m<this.index&&l+r.left<=v.left+g.width)&&(E.x=this.width+this.marginOffset.x,null==this.newIndex&&(this.newIndex=m)):this.axis.y&&(h||m>this.index&&c+r.top+g.height>=v.top?(E.y=-(this.height+this.marginOffset.y),this.newIndex=m):(j||m<this.index&&c+r.top<=v.top+g.height)&&(E.y=this.height+this.marginOffset.y,null==this.newIndex&&(this.newIndex=m))),R(p,E),i[b].translate=E):n&&(this.sortableGhost=p,P(p,{opacity:0,visibility:"hidden"}))}null==this.newIndex&&(this.newIndex=this.index),s&&(this.newIndex=u);var k=s?this.prevIndex:u;o&&this.newIndex!==k&&o({collection:this.manager.active.collection,index:this.index,newIndex:this.newIndex,oldIndex:k,isKeySorting:s,nodes:i,helper:this.helper})}},{key:"getWrappedInstance",value:function(){return k()(a.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableContainer() call"),this.refs.wrappedInstance}},{key:"getContainer",value:function(){var e=this.props.getContainer;return"function"!=typeof e?Object(_.findDOMNode)(this):e(a.withRef?this.getWrappedInstance():void 0)}},{key:"render",value:function(){var t=a.withRef?"wrappedInstance":null;return Object(j.createElement)(e,Object(o.a)({ref:t},w(this.props,me)))}},{key:"helperContainer",get:function(){var e=this.props.helperContainer;return"function"==typeof e?e():this.props.helperContainer||this.document.body}},{key:"containerScrollDelta",get:function(){return this.props.useWindowAsScrollContainer?{left:0,top:0}:{left:this.scrollContainer.scrollLeft-this.initialScroll.left,top:this.scrollContainer.scrollTop-this.initialScroll.top}}},{key:"windowScrollDelta",get:function(){return{left:this.contentWindow.pageXOffset-this.initialWindowScroll.left,top:this.contentWindow.pageYOffset-this.initialWindowScroll.top}}}]),n}(j.Component),Object(l.a)(t,"displayName",L("sortableList",e)),Object(l.a)(t,"defaultProps",pe),Object(l.a)(t,"propTypes",be),Object(l.a)(t,"childContextTypes",{manager:v.a.object.isRequired}),n}var he={index:v.a.number.isRequired,collection:v.a.oneOfType([v.a.number,v.a.string]),disabled:v.a.bool},je=Object.keys(he);function Ee(e){var t,n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{withRef:!1};return n=t=function(t){function n(){return s(this,n),O(this,f(n).apply(this,arguments))}return h(n,t),b(n,[{key:"componentDidMount",value:function(){this.register()}},{key:"componentDidUpdate",value:function(e){this.node&&(e.index!==this.props.index&&(this.node.sortableInfo.index=this.props.index),e.disabled!==this.props.disabled&&(this.node.sortableInfo.disabled=this.props.disabled)),e.collection!==this.props.collection&&(this.unregister(e.collection),this.register())}},{key:"componentWillUnmount",value:function(){this.unregister()}},{key:"register",value:function(){var e=this.props,t=e.collection,n=e.disabled,o=e.index,a=Object(_.findDOMNode)(this);a.sortableInfo={collection:t,disabled:n,index:o,manager:this.context.manager},this.node=a,this.ref={node:a},this.context.manager.add(t,this.ref)}},{key:"unregister",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.collection;this.context.manager.remove(e,this.ref)}},{key:"getWrappedInstance",value:function(){return k()(a.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableElement() call"),this.refs.wrappedInstance}},{key:"render",value:function(){var t=a.withRef?"wrappedInstance":null;return Object(j.createElement)(e,Object(o.a)({ref:t},w(this.props,je)))}}]),n}(j.Component),Object(l.a)(t,"displayName",L("sortableElement",e)),Object(l.a)(t,"contextTypes",{manager:v.a.object.isRequired}),Object(l.a)(t,"propTypes",he),Object(l.a)(t,"defaultProps",{collection:0}),n}}});
